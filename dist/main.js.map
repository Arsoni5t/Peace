{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./node_modules/paper/dist/paper-full.js","webpack:///./node_modules/acorn/dist/acorn.mjs"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","onresize","location","reload","min","max","fish","velocity","circle","Path","Circle","Point","view","size","width","height","random","Math","floor","push","onKeyDown","event","this","remove","colorSetter","fillColor","assignRate","length","assignedRate","rate","Stingrays","Base","extend","initialize","position","topSpeed","topPower","strength","amount","acc","route","clone","count","radius","createItems","run","borders","update","tail","moveHead","speed","pieceLength","point","segments","path","smallSegPath","shortPath","prevRoute","wave","sin","sway","rotate","normalize","smooth","strokeColor","strokeWidth","strokeLength","strokeCap","add","topLeft","center","bottomRight","head2","Rectangle","gradient","stops","origin","destination","opacity","x","y","isZero","stingrays","Jellyfish","jellyfish","jelly","selected","removeSegment","rotation","raster","Raster","source","smoothing","onMouseDrag","delta","shadowColor","Color","shadowBlur","shadowOffset","PointText","content","fontFamily","fontWeight","fontSize","angle","self","undefined","document","hidden","array","slice","describe","getOwnPropertyDescriptor","define","forEach","iter","forIn","set","assign","dst","arguments","src","each","obj","desc","inject","dest","beans","preserve","beansNames","field","val","substring","bean","isFunc","res","prev","base","match","toLowerCase","isPlainObject","writable","configurable","test","part","statics","ctor","proto","apply","constructor","pick","a","b","list","begin","end","toString","_id","_class","_name","type","Formatter","instance","number","join","getClassName","importJSON","json","exportJSON","options","toJSON","serialize","props","exclude","filter","_prioritize","equals","obj1","obj2","Array","isArray","keys","read","start","peek","__index","readIndex","_readIndex","readNull","__read","filtered","__filtered","remain","readList","entry","readNamed","getNamed","hasValue","getSource","__unfiltered","readSupported","that","__source","arg","hasNamed","prioritize","processed","handleKey","isPlainValue","asString","compact","dictionary","isRoot","formatter","precision","definitions","references","item","id","ref","unshift","_serialize","_compactSerialize","deserialize","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","args","JSON","stringify","target","parse","useTarget","Item","Layer","insert","concat","items","itemsLength","startLength","splice","index","append","_index","removed","capitalize","str","replace","toUpperCase","camelize","chr","hyphenate","Emitter","on","func","types","_eventTypes","handlers","_callbacks","indexOf","install","off","uninstall","once","handler","emit","setTarget","currentTarget","stop","responds","attach","detach","fire","_installEvents","events","_events","isString","PaperScope","paper","settings","applyMatrix","insertItems","handleSize","hitTolerance","project","projects","tools","_scopes","support","ctx","CanvasProvider","getContext","nativeDash","nativeBlendModes","BlendMode","nativeModes","release","agent","user","navigator","userAgent","os","exec","platform","browser","v1","v2","rv","chrome","v","version","versionNumber","parseFloat","trident","jsdom","webkit","atom","getView","_view","getPaper","execute","code","PaperScript","View","updateFocus","scope","setup","element","Project","createCanvas","getCanvas","activate","clear","handleAttribute","el","attr","getAttribute","hasAttribute","PaperScopeItem","_scope","_list","_reference","isActive","CollisionDetection","findItemBoundsCollisions","items1","items2","tolerance","getBounds","bounds","rect","left","top","right","bottom","bounds1","bounds2","findBoundsCollisions","findCurveBoundsCollisions","curves1","curves2","bothAxis","curves","hor","ver","boundsA","boundsB","sweepVertical","onlySweepAxisCollisions","allBounds","lengthA","lengthAll","binarySearch","indices","coord","lo","hi","mid","pri0","pri1","sec0","sec1","allIndicesByPri0","sort","i1","i2","activeIndicesByPri1","allCollisions","curIndex","curBounds","origIndex","isCurrentA","isCurrentB","curCollisions","pruneCount","j","activeIndex","curSec1","curSec0","activeBounds","isActiveA","isActiveB","collisions","multiplier","pow","round","pair","val1","val2","separator","rectangle","Numerical","abscissas","weights","abs","sqrt","log2","log","LOG2E","clamp","getDiscriminant","split","D","E","ad","bd","cd","q","getNormalizationFactor","norm","EPSILON","MACHINE_EPSILON","CURVETIME_EPSILON","GEOMETRIC_EPSILON","TRIGONOMETRIC_EPSILON","KAPPA","isMachineZero","integrate","f","w","A","B","sum","Ax","findRoot","df","fx","dx","nx","solveQuadratic","roots","x1","x2","Infinity","Q","R","boundless","minB","maxB","isFinite","solveCubic","b1","c2","qd","evaluate","x0","tmp","td","rd","UID","_pools","pool","arg0","arg1","reading","hasY","_set","setAngle","getLength","setLength","_angle","cos","scale","getAngle","getAngleInRadians","PI","setAngleInRadians","getAngleInDegrees","setAngleInDegrees","div","NaN","dot","acos","atan2","getQuadrant","getDirectedAngle","cross","getDistance","squared","current","subtract","transform","matrix","_transformPoint","multiply","divide","modulo","negate","isInside","contains","isClose","isCollinear","isColinear","isOrthogonal","isNaN","isInQuadrant","point1","point2","y1","y2","op","LinkedPoint","owner","setter","_x","_y","_owner","_setter","_dontNotify","getX","setX","getY","setY","isSelected","_selection","_getSelection","setSelected","_changeSelection","Size","hasHeight","size1","size2","LinkedSize","_width","_height","getWidth","setWidth","getHeight","setHeight","arg2","arg3","from","to","frm","next","rt","getPoint","_dontLink","setPoint","getSize","_fw","_fh","setSize","sx","_sx","sy","_sy","h","getLeft","setLeft","getTop","setTop","getRight","setRight","getBottom","setBottom","getCenterX","setCenterX","getCenterY","setCenterY","getCenter","setCenter","getArea","isEmpty","_containsRectangle","_containsPoint","intersects","epsilon","intersect","unite","include","expand","parts","xFirst","LinkedRectangle","internal","Matrix","ok","_a","_b","_c","_d","_tx","_ty","reset","Error","tx","ty","_changed","getValues","_applyMatrix","mx","recursively","_setApplyMatrix","isIdentity","translate","shear","skew","toRadians","tan","a1","c1","d1","a2","b2","d2","tx2","ty2","prepend","tx1","ty1","appended","prepended","invert","det","inverted","concatenate","preConcatenate","chain","_shiftless","_orNullIfIdentity","isInvertible","isSingular","_transformCoordinates","_transformCorners","coords","_transformBounds","inverseTransform","_inverseTransform","decompose","degrees","asin","translation","getTranslation","scaling","skewing","getScaling","getRotation","applyToContext","prop","Line","arg4","asVector","_px","_py","_vx","_vy","getVector","line","isInfinite","getSide","getSignedDistance","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","dy","u1","u2","px","py","vx","vy","ccw","_children","_namedChildren","_activeLayer","_currentStyle","Style","_selectionItems","_selectionCount","_updateVersion","flags","_needsUpdate","_requested","_autoUpdate","requestUpdate","changes","_changes","changesById","_changesById","children","getCurrentStyle","setCurrentStyle","style","getIndex","getOptions","getLayers","getActiveLayer","getSymbolDefinitions","ids","getItems","class","SymbolItem","definition","_definition","getSymbols","getSelectedItems","selectionItems","selection","isInserted","_updateSelection","selectAll","setFullySelected","deselectAll","addLayer","layer","insertLayer","_remove","_setProject","setName","_insertItem","_created","NO_INSERT","insertChild","_getItems","getItem","removeOn","sets","_removeSets","mousedrag","other","draw","pixelRatio","save","param","offset","viewMatrix","matrices","updateMatrix","restore","_drawSelection","_serializeFields","_canApplyMatrix","_canScaleStroke","_pivot","_visible","_blendMode","_opacity","_locked","_guide","_clipMask","_selectBounds","_selectChildren","pivot","visible","blendMode","locked","guide","clipMask","data","_countItemEvent","onFrame","_animateItem","onLoad","onError","_itemHandlers","_initialize","hasProps","_matrix","_parent","_style","parent","fields","Group","_defaults","symbol","_symbol","cacheParent","_project","_bounds","_position","_decomposed","_globalMatrix","_clearBoundsCache","getId","getName","_removeNamed","_getOwner","namedChildren","getStyle","setStyle","getSelection","setSelection","flag","isFullySelected","isClipMask","setClipMask","setFillColor","setStrokeColor","getData","setData","getPosition","_getPositionFromBounds","setPosition","getPivot","setPivot","getStrokeBounds","stroke","getHandleBounds","handle","getInternalBounds","hasMatrix","opts","_boundsOptions","getStrokeScaling","cacheItem","_getCachedBounds","setBounds","_backup","_getBounds","_updateBoundsCache","_getBoundsCacheKey","noInternal","cacheKey","cached","nonscaling","hasStroke","_getStrokeMatrix","_item","getViewMatrix","_boundsCache","cache","_decompose","decomposed","setRotation","setScaling","getMatrix","setMatrix","getGlobalMatrix","_dontClone","parents","getApplyMatrix","setApplyMatrix","getTransformContent","setTransformContent","getProject","installEvents","getLayer","getParent","setParent","addChild","getChildren","setChildren","removeChildren","addChildren","getFirstChild","getLastChild","getNextSibling","getPreviousSibling","_equals","copy","deep","copyAttributes","copyContent","insertAbove","orig","excludeMatrix","rasterize","resolution","getResolution","getTopLeft","getBottomRight","ceil","canvas","setCanvas","_contains","_asPathItem","getIntersections","hitTest","_hitTest","HitResult","hitTestAll","all","hitTestChildren","_exclude","child","_hitTestChildren","parentViewMatrix","guides","tolerancePadding","_tolerancePadding","_getStrokePadding","checkSelf","hit","checkPoint","pt","checkPosition","checkCenter","checkBounds","points","_hitTestSelf","fill","hasFill","matches","compare","matchObject","firstOnly","overlapping","inside","recursive","childMatrix","insertChildren","inserted","notifySelf","_insertAt","insertBelow","sendToBack","bringToFront","appendTop","appendBottom","moveAbove","moveBelow","addTo","copyTo","reduce","namedArray","notifyParent","_dispose","replaceWith","reverseChildren","reverse","numChildren","isEditable","hasShadow","_getOrder","getList","list1","list2","hasChildren","isAbove","isBelow","isParent","isChild","isDescendant","isAncestor","isSibling","isGroupedWith","_applyRecursively","transformMatrix","getFillColor","getStrokeColor","_transformContent","decomp","applyRecursively","globalToLocal","localToGlobal","parentToLocal","localToParent","fitBounds","itemRatio","rectRatio","newBounds","_setStyles","fillStyle","toCanvasStyle","strokeStyle","lineWidth","getStrokeWidth","strokeJoin","getStrokeJoin","getStrokeCap","miterLimit","getMiterLimit","lineJoin","lineCap","dashArray","getDashArray","dashOffset","getDashOffset","setLineDash","lineDashOffset","mozDash","mozDashOffset","blur","getShadowBlur","getShadowOffset","getShadowColor","shadowOffsetX","shadowOffsetY","parentStrokeMatrix","globalMatrix","mainCtx","itemOffset","prevOffset","normalBlend","nativeBlend","direct","dontStart","clip","_canComposite","pop","strokeMatrix","clipItem","globalAlpha","globalCompositeOperation","setTransform","_draw","dontFinish","getFillRule","process","_isUpdated","updateVersion","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","_drawSelected","color","getSelectedColor","half","pos","beginPath","arc","deltas","moveTo","lineTo","closePath","fillRect","hash","tween","easing","duration","Tween","_handleFrame","time","running","tweenTo","tweenFrom","_clipItem","_getClipItem","isClipped","setClipped","clipped","Shape","_type","_size","_radius","setType","setRadius","getType","getShape","setShape","getRadius","rad","toPath","toShape","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","bezierCurveTo","getCornerCenter","halfSize","dir","corner","quadrant","isOnEllipseStroke","padding","vector","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","Ellipse","ellipse","_readEllipse","crossOrigin","_smoothing","image","getElementById","naturalHeight","setImage","setSource","_loaded","_image","_canvas","_setImage","copyCanvas","drawImage","_crossOrigin","getElement","getLoaded","u","getPpi","getImage","Event","setTimeout","DomEvent","load","error","complete","naturalWidth","_context","e","_change","setContext","context","toDataURL","Image","getCrossOrigin","setCrossOrigin","getSmoothing","setSmoothing","getSubCanvas","getSubRaster","getAverageColor","PathItem","_sampleContext","clearRect","sampleSize","pixels","getImageData","channels","total","alpha","getPixel","setPixel","components","_convert","_alpha","imageData","createImageData","putImageData","setImageData","DomElement","setPrefixed","setDefinition","SymbolDefinition","getDefinition","getSymbol","setSymbol","dontCenter","setItem","_dontCenter","place","values","handles","ends","Segment","arg5","handleIn","handleOut","SegmentPoint","_point","hasHandles","_handleIn","_handleOut","_path","curve","_curves","_closed","getHandleIn","setHandleIn","getHandleOut","setHandleOut","isSmooth","clearHandles","oldSelection","getPath","getCurve","_segments","getCurves","getLocation","CurveLocation","_segment1","getNext","_first","_last","factor","getPrevious","p0","p1","p2","k","d1_a","d1_2a","d2_a","d2_2a","N","isLast","reversed","segment","interpolate","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment1","segment2","_segment2","getPoint1","getHandle1","getHandle2","getPoint2","_length","classify","setPoint1","setPoint2","setHandle1","setHandle2","getSegment1","getSegment2","getPoints","getLine","getPart","getPartLength","divideAt","divideAtTime","getTimeAt","_setHandles","subdivide","setHandles","splitAt","splitAtTime","getLocationAtTime","isTime","straight","h1","h2","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","getMonoCurves","io","o0","o1","o2","o3","isStraight","v0","v3","getTimeOf","p3","getNearestTime","minDist","minT","refine","dist","step","flip","isFlatEnough","flatness","ux","uy","_addBounds","minPad","maxPad","s1","s2","isLinear","third","hasLength","isHorizontal","getTangentAtTime","isVertical","getLocationAt","_isTime","getParameterAt","getTimesWithTangent","tangent","getOffsetAtTime","getLocationOf","getOffsetOf","loc","getOffset","getParameterOf","getNearestLocation","getNearestPoint","methods","_evaluateMethods","getLengthIntegrand","ax","bx","ay","by","getIterations","normalized","len","d3","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","forward","rangeLength","diff","guess","getTangent","getWeightedTangent","getNormal","getWeightedNormal","getCurvature","getPeaks","addLocation","locations","overlap","excludeStart","excludeEnd","loc1","loc2","_intersection","addCurveIntersections","recursion","calls","tMin","tMax","uMin","uMax","tMinClip","tMaxClip","q0x","q0y","q3x","q3y","dMin","dMax","dp0","dp1","dp2","dp3","hull","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","getConvexHull","clipConvexHull","tMinNew","tMaxNew","uDiff","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","before","getSelfIntersection","info","getSquaredLineLength","straightBoth","l1","l2","pairs","matrix1","matrix2","_returnFirst","length1","length2","values1","values2","boundsCollisions","index1","curve1","collisions1","index2","curve2","den","times","t0","_overlap","_distance","_setCurve","_time","getPointAtTime","_next","_previous","_setPath","_version","_curve","_segment","_setSegment","getSegment","getTime","trySegment","_offset","_curveOffset","getParameter","getCurveOffset","getIntersection","getLastSegment","_ignoreOther","isTouching","inter","isCrossing","t1Inside","t2Inside","c4","c3","offsets","addOffsets","isInRange","getPointAt","v4","a3","a4","hasOverlap","merge","search","found","path1","path2","expanded","compound","pathData","first","isClockwise","setClockwise","clockwise","setPathData","previous","control","relative","getCoord","command","lower","move","cubicCurveTo","quadraticCurveTo","arcTo","winding","_getWinding","onPath","windingL","windingR","getCrossings","minLoc","isPath","itemsFrom","itemsTo","setClosed","paths1","paths2","matched","boundsOverlaps","pathBoundsOverlaps","closed","setSegments","_segmentSelection","_area","getSegments","fullySelected","last","_add","getFirstSegment","_countCurves","getFirstCurve","getLastCurve","isClosed","getPathData","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","segs","_adjustCurves","insertSegment","addSegments","insertSegments","removeSegments","_includeCurves","area","_selectSegments","newSelection","last1","last2","first2","first1","simplify","flatten","PathFlattener","PathFitter","fit","_default","loop","asymmetric","paddingLeft","paddingRight","knots","n_1","rf","hx","hy","topCenter","seg3","seg4","isArc","pt1","pt2","shape","pos2","end2","pos1","end1","start2","cap","numSegments","hitCurves","isCloseEnough","checkSegmentPoint","seg","anchor","checkSegmentPoints","addToArea","checkSegmentStroke","isJoin","_addBevelJoin","_addSquareCap","getOffsetsWithTangent","curveStart","curveTimes","drawSegments","drawSegment","dashLength","flattener","drawPart","pX","pY","miniSize","miniHalf","drawHandle","hX","hY","drawHandles","getCurrentSegment","moveBy","curveTo","through","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","z","out","_in","lineBy","curveBy","parameter","cubicCurveBy","quadraticCurveBy","arcBy","method","prevCoords","processSegment","joinBounds","addPoint","addRound","addJoin","addCap","phi","isArea","normal1","getNormalAtTime","normal2","normal","joinPadding","joinRadius","SQRT2","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","getBottomLeft","tl","tr","getTopRight","br","RoundRectangle","Oval","Arc","RegularPolygon","sides","three","Star","radius1","radius2","paths","getCurrentPath","check","operators","getPaths","preparePath","resolve","resolveCrossings","reorient","createResult","result","filterIntersection","traceBoolean","operation","trace","splitBoolean","_path1","_path2","operator","crossings","divideLocations","collectPaths","_overlapsOnly","curvesValues","curveCollisions","curveCollisionsMap","propagateWinding","_winding","tracePaths","reorientPaths","added","addPath","linkIntersections","clearCurveHandles","lookup","container","sorted","entry1","containerWinding","getInteriorPoint","entry2","clearLater","renormalizeLocs","prevCurve","prevTime","results","clearCurves","clearLookup","origTime","newCurve","getWinding","dontFlip","vPrev","vClose","curvesList","ia","pv","pa","po","paL","paR","pathWindingL","pathWindingR","onAnyPath","quality","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","curveLength","operand","SQRT1_2","wind","pathWinding","starts","isValid","_visited","isStart","visitPath","getCrossingSegments","collectStarts","collect","nextInter","inter1","inter2","over1","over2","branch","visited","valid","finished","branches","shift","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","_get","fitCubic","tan1","tan2","uPrime","chordLengthParameterize","maxError","parametersInOrder","generateBezier","findMaxError","reparameterize","tanCenter","C","X","b0","b3","alpha1","alpha2","detC0C1","detC0X","c0","segLength","eps","degree","maxDist","TextItem","_content","_lines","setContent","getContent","getCharacterStyle","setCharacterStyle","getParagraphStyle","setParagraphStyle","lines","leading","getLeading","font","getFontStyle","textAlign","getJustification","fillText","strokeText","numLines","justification","getTextWidth","colorCtx","gray","rgb","hsb","hsl","componentParsers","namedColors","transparent","fromCSS","string","parseInt","trim","isHSL","component","unit","turn","grad","hsbIndices","converters","g","achromatic","t3s","t3","properties","parser","_components","Gradient","_removeOwner","_addOwner","_properties","argType","converted","parsers","radial","getComponents","_canvasStyle","converter","convert","getAlpha","setAlpha","hasAlpha","col","isGradient","toCSS","hex","canvasGradient","_stops","highlight","inverse","_radial","createRadialGradient","createLinearGradient","addColorStop","_color","_types","_setOwner","components1","components2","setStops","setRadial","_owners","getStops","GradientStop","getRadial","stops1","stops2","rampPoint","setColor","setOffset","getRampPoint","setRampPoint","getColor","itemDefaults","fillRule","strokeScaling","selectedColor","groupDefaults","textDefaults","_values","isColor","isPoint","applyToChildren","old","_dontMerge","childValue","Font","WindingRule","isStyle","style1","style2","secondary","defaults2","value1","value2","getFontSize","getFontWeight","getFontFamily","getFont","setFont","getPixelSize","handlePrefix","prefixes","suffix","prefix","getStyles","doc","nodeType","ownerDocument","defaultView","getComputedStyle","viewport","body","html","documentElement","getBoundingClientRect","clientLeft","clientTop","pageXOffset","scrollLeft","pageYOffset","scrollTop","getViewportBounds","innerWidth","clientWidth","innerHeight","clientHeight","isInvisible","isInView","getPrefixed","passive","addEventListener","removeEventListener","targetTouches","changedTouches","pageX","clientX","pageY","clientY","getTarget","srcElement","getRelatedTarget","relatedTarget","toElement","requestAnimationFrame","timer","nativeRequest","requested","callbacks","handleCallbacks","functions","callback","setInterval","getCanvasSize","setAttribute","_viewEvents","userDrag","userSelect","touchCallout","contentZooming","tapHighlightColor","_windowEvents","resize","setViewSize","Stats","_stats","stats","domElement","appendChild","_element","_pixelRatio","devicePixelRatio","_setElementSize","_viewSize","_views","_viewsById","_focused","_frameItems","_frameItemCount","_itemEvents","native","virtual","node","_animate","play","pause","_count","getAutoUpdate","setAutoUpdate","autoUpdate","now","Date","animate","_handleFrameItems","getPixelRatio","getViewSize","isVisible","parentNode","temp","createElement","removeChild","getZoom","setZoom","zoom","scrollBy","projectToView","viewToProject","getEventPoint","CanvasView","prevFocus","tempFocus","mousedown","mousemove","mouseup","dragging","mouseDown","pointerEnabled","msPointerEnabled","viewEvents","docEvents","mouseout","nodeName","handleMouseMove","scroll","_handleMouseEvent","downPoint","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","called","prevented","fallbacks","doubleclick","wasInView","itemEventsMap","click","mouseenter","mouseleave","itemEvents","hitItems","nativeMove","tool","inView","hitItem","mouse","substr","emitMouseEvent","drag","emitMouseEvents","down","up","cancelable","preventDefault","_handleKeyEvent","character","keyEvent","KeyEvent","sign","_resetState","prevPoint","stopItem","mouseEvent","stopped","MouseEvent","fallback","HTMLCanvasElement","deviceRatio","backingStoreRatio","firefox","prevFont","measureText","stopPropagation","getTimeStamp","timeStamp","getModifiers","Key","modifiers","metaFixMap","downKey","keyLookup","charLookup","keyMap","charMap","alt","meta","capsLock","space","option","mac","getKey","keyIdentifier","String","fromCharCode","keyCode","keydown","altKey","metaKey","ctrlKey","keypress","charCode","keyup","isDown","ToolEvent","_choosePoint","toolPoint","getLastPoint","_lastPoint","setLastPoint","getDownPoint","_downPoint","setDownPoint","getMiddlePoint","_middlePoint","setMiddlePoint","middlePoint","getDelta","_delta","setDelta","getCount","setCount","Tool","_moveCount","_downCount","getMinDistance","_minDistance","setMinDistance","minDistance","_maxDistance","getMaxDistance","setMaxDistance","maxDistance","getFixedDistance","setFixedDistance","distance","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","isFunction","_then","_startTime","state","_keys","_parsedKeys","_parseKeys","_from","_getState","_to","then","progress","getValue","__add","__subtract","__multiply","_setProperty","onUpdate","startTime","_getProperty","resolved","_resolveValue","_calculate","parsed","calculateBinary","Http","xhr","XMLHttpRequest","open","url","async","mimeType","overrideMimeType","onload","status","responseText","onerror","message","send","canvases","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","screen","overlay","darken","lighten","difference","exclusion","hue","saturation","luminosity","average","negation","srcContext","dstContext","srcCanvas","dstData","SvgElement","svg","xmlns","xlink","attributeNamespace","href","attributes","namespace","setAttributeNS","tag","createElementNS","getAttributeNS","SvgStyles","true","false","attribute","toSVG","fromSVG","exportFilter","getTransform","coordinates","attrs","trans","exportGroup","childNode","exportSVG","exportShape","exporters","embedImages","matchShapes","definitionItem","viewBox","overflow","textContent","applyStyle","gradientNode","getGradient","getOrigin","getDestination","getHighlight","fy","gradientUnits","stopColor","exportGradient","visibility","svgs","__id","typeId","exportDefinitions","defs","insertBefore","firstChild","XMLSerializer","serializeToString","exporter","onExport","setOptions","rootSize","allowNull","allowPercent","defaultValue","defaultX","defaultY","convertValue","map","importGroup","nodes","childNodes","isClip","isDefs","currentStyle","applyAttributes","querySelectorAll","importNode","importPoly","importGradient","scaleToBounds","_scaleToBounds","importers","clippath","polygon","polyline","lineargradient","radialgradient","use","text","switch","applyTransform","transforms","applyOpacity","gradientTransform","setVisible","display","percent","styles","group","tagName","isElement","nextSibling","importer","onImport","expandShapes","importSVG","DOMParser","parseFromString","File","reader","FileReader","readAsText","mod","global","acorn","input","inputLen","sourceFile","inpt","initTokenState","program","lastStart","lastEnd","tokPos","lastEndLoc","line_loc_t","inFunction","strict","labels","readToken","startNode","tokType","_eof","stmt","parseStatement","isUseStrict","setStrict","finishNode","parseTopLevel","defaultOptions","ecmaVersion","strictSemicolons","allowTrailingCommas","forbidReserved","allowReturnOutsideFunction","onComment","ranges","directSourceFile","opt","tokStart","tokEnd","tokStartLoc","tokEndLoc","tokVal","tokRegexpAllowed","tokCurLine","tokLineStart","getLineInfo","cur","lineBreak","lastIndex","column","raise","err","SyntaxError","raisedAt","tokenize","getToken","forceRegexp","startLoc","endLoc","jumpTo","reAllowed","skipSpace","empty","_num","_regexp","_string","_break","keyword","_case","beforeExpr","_catch","_continue","_debugger","_do","isLoop","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_while","_with","_new","_this","_null","atomValue","_true","_false","binop","keywordTypes","_bracketL","_bracketR","_braceL","_braceR","_parenL","_parenR","_comma","_semi","_colon","_dot","_question","_slash","_eq","isAssign","_assign","_incDec","postfix","isUpdate","_prefix","_logicalOR","_logicalAND","_bitwiseOR","_bitwiseXOR","_bitwiseAND","_equality","_relational","_bitShift","_plusMin","_multiplyModulo","kw","tokTypes","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","question","slash","eq","eof","num","regexp","makePredicate","words","cats","compareTo","arr","cat","Function","containsEsc","isReservedWord3","isReservedWord5","isStrictReservedWord","isStrictBadIdWord","isKeyword","nonASCIIwhitespace","nonASCIIidentifierStartChars","nonASCIIidentifierStart","RegExp","nonASCIIidentifier","newline","isIdentifierStart","isIdentifierChar","finishToken","skipBlockComment","skipLineComment","ch","charCodeAt","getTokenFromCode","readNumber","readToken_dot","readInt","readHexNumber","quote","octal","readHexChar","readString","readRegexp","finishOp","readToken_slash","readToken_pipe_amp","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readWord","tok","escaped","inClass","charAt","mods","readWord1","radix","startsWithDot","isFloat","word","esc","escStr","strct","lastIndexOf","node_t","node_loc_t","range","startNodeFrom","expression","eat","canInsertSemicolon","semicolon","unexpected","expect","checkLVal","expr","loopLabel","kind","switchLabel","starttype","isBreak","label","parseIdent","lab","parseParenExpression","parseFor","init","parseVar","declarations","parseForIn","parseExpression","parseFunction","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","block","parseBlock","clause","guard","guardedHandlers","finalizer","maybeName","allowStrict","oldStrict","noIn","decl","noComma","parseMaybeAssign","expressions","parseExprOp","minPrec","prec","parseMaybeUnary","exprNode","parseExprOps","parseMaybeConditional","parseSubscripts","parseExprAtom","noCalls","computed","callee","parseExprList","raw","tokStartLoc1","tokStart1","elements","sawGetSet","parsePropertyName","isGetSet","conflict","parseObj","parseNew","isStatement","params","oldInFunc","oldLabels","close","allowTrailingComma","allowEmpty","elts","liberal","binaryOperators","unaryOperators","__self","__$__","$__","compile","insertions","insertion","getCode","replaceCode","handleOverloading","between","getBetween","parentType","exp","sourceMaps","paperFeatures","offsetCode","lineBreaks","getElementsByTagName","innerHTML","mappings","encodeVLQ","safari","file","names","sourceRoot","sources","sourcesContent","operatorOverloading","moduleExports","walkAST","declaration","specifiers","dec","specifier","handleExports","preserveParens","sourceType","btoa","unescape","encodeURIComponent","toolHandlers","compiled","expose","script","head","createTextNode","__paperscript__","onResize","setOnResize","setOnFrame","loadScript","canvasId","baseURI","loadAll","readyState","calculateUnary","PlacedSymbol","reservedWords","3","5","6","strictBind","ecma5AndLessKeywords","keywords","keywordRelationalOperator","nonASCIIidentifierChars","astralIdentifierStartCodes","astralIdentifierCodes","isInAstralSet","astral","TokenType","conf","startsExpr","updateContext","keywords$1","arrow","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","star","starstar","_const","_super","_extends","_export","_import","_instanceof","_typeof","_void","_delete","lineBreakG","isNewLine","ecma2019String","skipWhiteSpace","has","propName","wordsRegexp","Position","SourceLocation","onInsertedSemicolon","onTrailingComma","allowReserved","allowImportExportEverywhere","allowAwaitOutsideFunction","allowHashBang","onToken","tokens","token","comment","pushComment","functionFlags","generator","Parser","startPos","reserved","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","lineStart","curLine","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","yieldPos","awaitPos","awaitIdentPos","undefinedExports","scopeStack","enterScope","regexpState","prototypeAccessors","inGenerator","inAsync","allowSuper","allowDirectSuper","treatFunctionsAsVar","nextToken","currentVarScope","currentThisScope","treatFunctionsAsVarInScope","currentScope","inNonArrowFunction","plugins","cls","parseExpressionAt","tokenizer","defineProperties","pp","literal","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","isContextual","eatContextual","expectContextual","insertSemicolon","afterTrailingComma","notNext","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","pp$1","adaptDirectivePrologue","isLet","skip","nextCh","ident","isAsyncFunction","topLevel","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","parseLabeledStatement","awaitAt","init$1","await","toAssignable","isAsync","declarationPosition","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","exitScope","parseBindingAtom","simple","i$1","label$1","statementStart","createNewLexicalScope","isForIn","isFor","parseVarId","statement","allowExpressionBody","initFunction","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","parseBindingList","parseClassId","parseClassSuper","classBody","hadConstructor","parseClassElement","superClass","constructorAllowsSuper","this$1","tryContextual","noLineBreak","startNodeAt","static","isGenerator","allowsDirectSuper","parseClassMethod","parseMethod","parseExprSubscripts","checkExport","fNode","cNode","shouldParseExportStatement","checkVariableExport","parseExportSpecifiers","spec","checkUnreserved","local","checkLocalExport","checkPatternExport","pat","list$1","elt","decls","exported","parseImportSpecifiers","node$1","node$2","imported","statements","isDirectiveCandidate","directive","pp$2","isBinding","toAssignableList","exprList","parseSpread","parseRestBinding","rest","parseBindingListItem","elem","parseMaybeDefault","bindingType","checkClashes","declareName","pp$3","checkPropClash","propHash","shorthand","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","oldShorthandAssign","leftStartPos","leftStartLoc","logical","buildBinary","sawUnary","parseAwait","skipArrowSubscripts","maybeAsyncArrow","parseSubscript","parseArrowExpression","importArg","quasi","parseTemplate","isTagged","canBeArrow","parseLiteral","regex","pattern","parseParenAndDistinguishExpression","parseDynamicImport","bigint","spreadStart","innerStartPos","innerStartLoc","lastIsComma","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","empty$1","parseTemplateElement","cooked","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","allowDuplicates","nameHash","delegate","pp$4","pp$5","Scope","var","lexical","redeclared","scope$2","scope$3","SCOPE_TOP","Node","pp$6","TokContext","isExpr","preserveSpace","override","types$1","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$7","braceIsBlock","prevType","curContext","inGeneratorContext","statementParens","allowed","ecma9BinaryProperties","ecma10BinaryProperties","unicodeBinaryProperties","9","10","11","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","unicodeScriptValues","buildUnicodeData","binary","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$8","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","codePointToString","isSyntaxCharacter","isControlLetter","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","isDecimalDigit","isHexDigit","hexToInt","isOctalDigit","unicode","at","nextIndex","lookahead","advance","validateRegExpFlags","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","isRegExpIdentifierStart","isRegExpIdentifierPart","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","isCharacterClassEscape","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","regexp_eatClassControlLetter","regexp_eatOctalDigit","n1","n2","Token","pp$9","codePointToString$1","iterator","done","fullCharCodeAtPos","startSkip","next2","readToken_mult_modulo_exp","tokentype","readToken_caret","readRadixNumber","flagsStart","BigInt","str$1","val$1","readCodePoint","codePos","invalidStringToken","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","inTemplate","octalStr","escStart","tokContexts"],"mappings":"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AAG,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,KAAK,EAAE,IAAI,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,EAAE,KAAK,GAAG,KAAK,KAAK,KAGpuCC,EAAwB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,EAAE,IAAI,EAAE,EAAE,EAAE,OAAO,KAK/mB,SAASC,EAAch1E,EAAM/M,GAE3B,IADA,IAAI05B,EAAM,MACD/iC,EAAI,EAAGA,EAAIqJ,EAAI1F,OAAQ3D,GAAK,EAAG,CAEtC,IADA+iC,GAAO15B,EAAIrJ,IACDoW,EAAQ,OAAO,EAEzB,IADA2sB,GAAO15B,EAAIrJ,EAAI,KACJoW,EAAQ,OAAO,GAM9B,SAASmpE,EAAkBnpE,EAAMi1E,GAC/B,OAAIj1E,EAAO,GAAsB,KAATA,EACpBA,EAAO,KACPA,EAAO,GAAsB,KAATA,EACpBA,EAAO,MACPA,GAAQ,MAAiBA,GAAQ,KAAQ+oE,EAAwBp0E,KAAKu7D,OAAOC,aAAanwD,KAC/E,IAAXi1E,GACGD,EAAch1E,EAAM80E,KAK7B,SAAS1L,EAAiBppE,EAAMi1E,GAC9B,OAAIj1E,EAAO,GAAsB,KAATA,EACpBA,EAAO,MACPA,EAAO,MACPA,EAAO,KACPA,EAAO,GAAsB,KAATA,EACpBA,EAAO,MACPA,GAAQ,MAAiBA,GAAQ,KAAQipE,EAAmBt0E,KAAKu7D,OAAOC,aAAanwD,KAC1E,IAAXi1E,IACGD,EAAch1E,EAAM80E,IAA+BE,EAAch1E,EAAM+0E,OA0BhF,IAAIG,EAAY,SAAmBxI,EAAOyI,QAC1B,IAATA,IAAkBA,EAAO,IAE9BjoF,KAAKw/E,MAAQA,EACbx/E,KAAKo2E,QAAU6R,EAAK7R,QACpBp2E,KAAKs2E,aAAe2R,EAAK3R,WACzBt2E,KAAKkoF,aAAeD,EAAKC,WACzBloF,KAAK22E,SAAWsR,EAAKtR,OACrB32E,KAAK64E,WAAaoP,EAAKpP,SACvB74E,KAAKi3D,SAAWgxB,EAAKhxB,OACrBj3D,KAAKg5E,UAAYiP,EAAKjP,QACtBh5E,KAAK83E,MAAQmQ,EAAKnQ,OAAS,KAC3B93E,KAAKmoF,cAAgB,MAGvB,SAASrQ,EAAM76E,EAAMykF,GACnB,OAAO,IAAIsG,EAAU/qF,EAAM,CAACq5E,YAAY,EAAMwB,MAAO4J,IAEvD,IAAIpL,EAAa,CAACA,YAAY,GAAO4R,EAAa,CAACA,YAAY,GAI3DE,EAAa,GAGjB,SAASvO,EAAG58E,EAAMkM,GAIhB,YAHiB,IAAZA,IAAqBA,EAAU,IAEpCA,EAAQitE,QAAUn5E,EACXmrF,EAAWnrF,GAAQ,IAAI+qF,EAAU/qF,EAAMkM,GAGhD,IAAIyF,EAAQ,CACVgsE,IAAK,IAAIoN,EAAU,MAAOE,GAC1BrN,OAAQ,IAAImN,EAAU,SAAUE,GAChC/2B,OAAQ,IAAI62B,EAAU,SAAUE,GAChCjrF,KAAM,IAAI+qF,EAAU,OAAQE,GAC5BvN,IAAK,IAAIqN,EAAU,OAGnBjO,SAAU,IAAIiO,EAAU,IAAK,CAAC1R,YAAY,EAAM4R,YAAY,IAC5DlO,SAAU,IAAIgO,EAAU,KACxB/N,OAAQ,IAAI+N,EAAU,IAAK,CAAC1R,YAAY,EAAM4R,YAAY,IAC1DhO,OAAQ,IAAI8N,EAAU,KACtB7N,OAAQ,IAAI6N,EAAU,IAAK,CAAC1R,YAAY,EAAM4R,YAAY,IAC1D9N,OAAQ,IAAI4N,EAAU,KACtB3N,MAAO,IAAI2N,EAAU,IAAK1R,GAC1BgE,KAAM,IAAI0N,EAAU,IAAK1R,GACzBiE,MAAO,IAAIyN,EAAU,IAAK1R,GAC1B94D,IAAK,IAAIwqE,EAAU,KACnBxN,SAAU,IAAIwN,EAAU,IAAK1R,GAC7B+R,MAAO,IAAIL,EAAU,KAAM1R,GAC3BgS,SAAU,IAAIN,EAAU,YACxBO,gBAAiB,IAAIP,EAAU,mBAC/BQ,SAAU,IAAIR,EAAU,MAAO1R,GAC/BmS,UAAW,IAAIT,EAAU,IAAKE,GAC9BQ,aAAc,IAAIV,EAAU,KAAM,CAAC1R,YAAY,EAAM4R,YAAY,IAgBjExN,GAAI,IAAIsN,EAAU,IAAK,CAAC1R,YAAY,EAAMuC,UAAU,IACpD7yE,OAAQ,IAAIgiF,EAAU,KAAM,CAAC1R,YAAY,EAAMuC,UAAU,IACzD8P,OAAQ,IAAIX,EAAU,QAAS,CAAC/wB,QAAQ,EAAM+hB,SAAS,EAAMkP,YAAY,IACzEjxB,OAAQ,IAAI+wB,EAAU,MAAO,CAAC1R,YAAY,EAAMrf,QAAQ,EAAMixB,YAAY,IAC1EU,UAAW9Q,EAAM,KAAM,GACvB+Q,WAAY/Q,EAAM,KAAM,GACxBgR,UAAWhR,EAAM,IAAK,GACtBiR,WAAYjR,EAAM,IAAK,GACvBkR,WAAYlR,EAAM,IAAK,GACvBmR,SAAUnR,EAAM,gBAAiB,GACjCoR,WAAYpR,EAAM,YAAa,GAC/BqR,SAAUrR,EAAM,YAAa,GAC7BsR,QAAS,IAAIpB,EAAU,MAAO,CAAC1R,YAAY,EAAMwB,MAAO,EAAG7gB,QAAQ,EAAMixB,YAAY,IACrF3pE,OAAQu5D,EAAM,IAAK,IACnBuR,KAAMvR,EAAM,IAAK,IACjB2C,MAAO3C,EAAM,IAAK,IAClBwR,SAAU,IAAItB,EAAU,KAAM,CAAC1R,YAAY,IAG3CH,OAAQ0D,EAAG,SACXxD,MAAOwD,EAAG,OAAQvD,GAClBC,OAAQsD,EAAG,SACXrD,UAAWqD,EAAG,YACdpD,UAAWoD,EAAG,YACdp6B,SAAUo6B,EAAG,UAAWvD,GACxBI,IAAKmD,EAAG,KAAM,CAAClD,QAAQ,EAAML,YAAY,IACzCM,MAAOiD,EAAG,OAAQvD,GAClBO,SAAUgD,EAAG,WACb/C,KAAM+C,EAAG,MAAO,CAAClD,QAAQ,IACzBI,UAAW8C,EAAG,WAAYqO,GAC1BlR,IAAK6C,EAAG,MACR5C,QAAS4C,EAAG,SAAUvD,GACtBY,QAAS2C,EAAG,UACZ1C,OAAQ0C,EAAG,QAASvD,GACpBc,KAAMyC,EAAG,OACTxC,KAAMwC,EAAG,OACT0P,OAAQ1P,EAAG,SACXvC,OAAQuC,EAAG,QAAS,CAAClD,QAAQ,IAC7BY,MAAOsC,EAAG,QACVrC,KAAMqC,EAAG,MAAO,CAACvD,YAAY,EAAM4R,YAAY,IAC/CzQ,MAAOoC,EAAG,OAAQqO,GAClBsB,OAAQ3P,EAAG,QAASqO,GACpB1/E,OAAQqxE,EAAG,QAASqO,GACpBuB,SAAU5P,EAAG,UAAWvD,GACxBoT,QAAS7P,EAAG,UACZ8P,QAAS9P,EAAG,SAAUqO,GACtBxQ,MAAOmC,EAAG,OAAQqO,GAClBtQ,MAAOiC,EAAG,OAAQqO,GAClBrQ,OAAQgC,EAAG,QAASqO,GACpBrkC,IAAKg2B,EAAG,KAAM,CAACvD,YAAY,EAAMwB,MAAO,IACxC8R,YAAa/P,EAAG,aAAc,CAACvD,YAAY,EAAMwB,MAAO,IACxD+R,QAAShQ,EAAG,SAAU,CAACvD,YAAY,EAAMrf,QAAQ,EAAMixB,YAAY,IACnE4B,MAAOjQ,EAAG,OAAQ,CAACvD,YAAY,EAAMrf,QAAQ,EAAMixB,YAAY,IAC/D6B,QAASlQ,EAAG,SAAU,CAACvD,YAAY,EAAMrf,QAAQ,EAAMixB,YAAY,KAMjElT,EAAY,yBACZgV,EAAa,IAAIlO,OAAO9G,EAAU3wE,OAAQ,KAE9C,SAAS4lF,EAAUn3E,EAAMo3E,GACvB,OAAgB,KAATp3E,GAAwB,KAATA,IAAiBo3E,IAA4B,OAATp3E,GAA4B,OAATA,GAG/E,IAAI6oE,EAAqB,gDAErBwO,EAAiB,gCAEjB99E,EAAMjP,OAAOkB,UACbC,EAAiB8N,EAAI9N,eACrB+J,EAAW+D,EAAI/D,SAInB,SAAS8hF,EAAI/jF,EAAKgkF,GAChB,OAAO9rF,EAAe1B,KAAKwJ,EAAKgkF,GAGlC,IAAIvgF,EAAUD,MAAMC,SAAW,SAAWzD,GAAO,MACxB,mBAAvBiC,EAASzL,KAAKwJ,IAGhB,SAASikF,EAAYvP,GACnB,OAAO,IAAIe,OAAO,OAASf,EAAM3sE,QAAQ,KAAM,KAAO,MAMxD,IAAIm8E,EAAW,SAAkB9hE,EAAM0qC,GACrCnzD,KAAKyoB,KAAOA,EACZzoB,KAAKk1E,OAAS/hB,GAGhBo3B,EAASjsF,UAAUqvB,OAAS,SAAiBxvB,GAC3C,OAAO,IAAIosF,EAASvqF,KAAKyoB,KAAMzoB,KAAKk1E,OAAS/2E,IAG/C,IAAIqsF,EAAiB,SAAwBhsF,EAAGyL,EAAO5B,GACrDrI,KAAKiK,MAAQA,EACbjK,KAAKqI,IAAMA,EACU,OAAjB7J,EAAE8zE,aAAuBtyE,KAAKqE,OAAS7F,EAAE8zE,aAS/C,SAASwC,EAAY1C,EAAOzkD,GAC1B,IAAK,IAAIlF,EAAO,EAAGssD,EAAM,IAAK,CAC5BiV,EAAW/U,UAAYF,EACvB,IAAI3tE,EAAQ4iF,EAAWr4E,KAAKygE,GAC5B,KAAIhrE,GAASA,EAAM0G,MAAQ6f,GAIzB,OAAO,IAAI48D,EAAS9hE,EAAMkF,EAASonD,KAHjCtsD,EACFssD,EAAM3tE,EAAM0G,MAAQ1G,EAAM,GAAG/G,QAUnC,IAAIuzE,EAAiB,CAMnBC,YAAa,EAIbiS,WAAY,SAMZ2E,oBAAqB,KAGrBC,gBAAiB,KAKjBC,cAAe,KAGf1W,4BAA4B,EAG5B2W,6BAA6B,EAG7BC,2BAA2B,EAG3BC,eAAe,EAKf13C,WAAW,EAMX23C,QAAS,KAWT7W,UAAW,KASXC,QAAQ,EAMR1B,QAAS,KAGTH,WAAY,KAGZ8B,iBAAkB,KAGlByR,gBAAgB,GAKlB,SAAS16D,EAAWqH,GAClB,IAAIrpB,EAAU,GAEd,IAAK,IAAIkrE,KAAOT,EACZzqE,EAAQkrE,GAAO7hD,GAAQ43D,EAAI53D,EAAM6hD,GAAO7hD,EAAK6hD,GAAOT,EAAeS,GAQvE,GANIlrE,EAAQ0qE,aAAe,OACvB1qE,EAAQ0qE,aAAe,MAEE,MAAzB1qE,EAAQwhF,gBACRxhF,EAAQwhF,cAAgBxhF,EAAQ0qE,YAAc,GAE9C/pE,EAAQX,EAAQ4hF,SAAU,CAC5B,IAAIC,EAAS7hF,EAAQ4hF,QACrB5hF,EAAQ4hF,QAAU,SAAUE,GAAS,OAAOD,EAAOnrF,KAAKorF,IAK1D,OAHInhF,EAAQX,EAAQ+qE,aAChB/qE,EAAQ+qE,UAKd,SAAqB/qE,EAAS5D,GAC5B,OAAO,SAASm7E,EAAOjQ,EAAMxmE,EAAO5B,EAAKqtE,EAAUC,GACjD,IAAIuV,EAAU,CACZxiF,KAAMg4E,EAAQ,QAAU,OACxB/iF,MAAO8yE,EACPxmE,MAAOA,EACP5B,IAAKA,GAEHc,EAAQiqC,YACR83C,EAAQj6C,IAAM,IAAIu5C,EAAexqF,KAAM01E,EAAUC,IACjDxsE,EAAQgrE,SACR+W,EAAQzM,MAAQ,CAACx0E,EAAO5B,IAC5B9C,EAAM1F,KAAKqrF,IAjBWC,CAAYhiF,EAASA,EAAQ+qE,YAE9C/qE,EA+BT,SAASiiF,EAAc7iB,EAAO8iB,GAC5B,OAVmB,GAUM9iB,EART,EAQ+B,IAAM8iB,EAPjC,EAO+D,GAIrF,IAQIC,EAAS,SAAgBniF,EAASipE,EAAOmZ,GAC3CvrF,KAAKmJ,QAAUA,EAAUgiB,EAAWhiB,GACpCnJ,KAAKsyE,WAAanpE,EAAQmpE,WAC1BtyE,KAAKynF,SAAW6C,EAAY7C,EAASt+E,EAAQ0qE,aAAe,EAAI,EAA2B,WAAvB1qE,EAAQ28E,WAA0B,UAAY,IAClH,IAAI0F,EAAW,GACf,IAA8B,IAA1BriF,EAAQwhF,cAAwB,CAClC,IAAK,IAAIz4E,EAAI/I,EAAQ0qE,cACb2X,EAAWrE,EAAcj1E,IADEA,KAER,WAAvB/I,EAAQ28E,aAA2B0F,GAAY,UAErDxrF,KAAKmnF,cAAgBmD,EAAYkB,GACjC,IAAIC,GAAkBD,EAAWA,EAAW,IAAM,IAAMrE,EAAcnU,OACtEhzE,KAAK0rF,oBAAsBpB,EAAYmB,GACvCzrF,KAAK2rF,wBAA0BrB,EAAYmB,EAAiB,IAAMtE,EAAcI,YAChFvnF,KAAKoyE,MAAQpP,OAAOoP,GAKpBpyE,KAAKq7E,aAAc,EAKfkQ,GACFvrF,KAAKy/B,IAAM8rD,EACXvrF,KAAK4rF,UAAY5rF,KAAKoyE,MAAMkM,YAAY,KAAMiN,EAAW,GAAK,EAC9DvrF,KAAK6rF,QAAU7rF,KAAKoyE,MAAM5sE,MAAM,EAAGxF,KAAK4rF,WAAW1yE,MAAM87D,GAAW30E,SAEpEL,KAAKy/B,IAAMz/B,KAAK4rF,UAAY,EAC5B5rF,KAAK6rF,QAAU,GAKjB7rF,KAAK0I,KAAOkG,EAAM+rE,IAElB36E,KAAKrC,MAAQ,KAEbqC,KAAKiK,MAAQjK,KAAKqI,IAAMrI,KAAKy/B,IAG7Bz/B,KAAK01E,SAAW11E,KAAK21E,OAAS31E,KAAK8rF,cAGnC9rF,KAAK+rF,cAAgB/rF,KAAKgsF,gBAAkB,KAC5ChsF,KAAKisF,aAAejsF,KAAKksF,WAAalsF,KAAKy/B,IAK3Cz/B,KAAKslC,QAAUtlC,KAAKmsF,iBACpBnsF,KAAKosF,aAAc,EAGnBpsF,KAAKqsF,SAAkC,WAAvBljF,EAAQ28E,WACxB9lF,KAAKgzE,OAAShzE,KAAKqsF,UAAYrsF,KAAKssF,gBAAgBtsF,KAAKy/B,KAGzDz/B,KAAKusF,kBAAoB,EAGzBvsF,KAAKwsF,SAAWxsF,KAAKysF,SAAWzsF,KAAK0sF,cAAgB,EAErD1sF,KAAKizE,OAAS,GAEdjzE,KAAK2sF,iBAAmB,GAGP,IAAb3sF,KAAKy/B,KAAat2B,EAAQ2hF,eAA4C,OAA3B9qF,KAAKoyE,MAAM5sE,MAAM,EAAG,IAC/DxF,KAAKq8E,gBAAgB,GAGzBr8E,KAAK4sF,WAAa,GAClB5sF,KAAK6sF,WAjGS,GAoGd7sF,KAAK8sF,YAAc,MAGjBC,EAAqB,CAAEha,WAAY,CAAEvrE,cAAc,GAAOwlF,YAAa,CAAExlF,cAAc,GAAOylF,QAAS,CAAEzlF,cAAc,GAAO0lF,WAAY,CAAE1lF,cAAc,GAAO2lF,iBAAkB,CAAE3lF,cAAc,GAAO4lF,oBAAqB,CAAE5lF,cAAc,IAEnP8jF,EAAOhtF,UAAU8O,MAAQ,WACvB,IAAI2uD,EAAO/7D,KAAKmJ,QAAQspE,SAAWzyE,KAAKmzE,YAExC,OADAnzE,KAAKqtF,YACErtF,KAAK2zE,cAAc5X,IAG5BgxB,EAAmBha,WAAWx1E,IAAM,WAAc,OA9G7B,EA8GqCyC,KAAKstF,kBAAkBjjE,OAA0B,GAC3G0iE,EAAmBC,YAAYzvF,IAAM,WAAc,OA5G7B,EA4GqCyC,KAAKstF,kBAAkBjjE,OAA2B,GAC7G0iE,EAAmBE,QAAQ1vF,IAAM,WAAc,OA9G7B,EA8GqCyC,KAAKstF,kBAAkBjjE,OAAuB,GACrG0iE,EAAmBG,WAAW3vF,IAAM,WAAc,OA3GhC,GA2GwCyC,KAAKutF,mBAAmBljE,OAAuB,GACzG0iE,EAAmBI,iBAAiB5vF,IAAM,WAAc,OA3G/B,IA2GuCyC,KAAKutF,mBAAmBljE,OAA8B,GACtH0iE,EAAmBK,oBAAoB7vF,IAAM,WAAc,OAAOyC,KAAKwtF,2BAA2BxtF,KAAKytF,iBAGvGnC,EAAOhtF,UAAUovF,mBAAqB,WAAiC,OAtHlD,EAsH0D1tF,KAAKutF,mBAAmBljE,OAA0B,GAEjIihE,EAAO5qF,OAAS,WAEZ,IADA,IAAIitF,EAAU,GAAI57C,EAAM7rC,UAAU7F,OAC1B0xC,KAAQ47C,EAAS57C,GAAQ7rC,UAAW6rC,GAG9C,IADA,IAAI67C,EAAM5tF,KACDtD,EAAI,EAAGA,EAAIixF,EAAQttF,OAAQ3D,IAAOkxF,EAAMD,EAAQjxF,GAAGkxF,GAC5D,OAAOA,GAGTtC,EAAOl+E,MAAQ,SAAgBglE,EAAOjpE,GACpC,OAAO,IAAInJ,KAAKmJ,EAASipE,GAAOhlE,SAGlCk+E,EAAOuC,kBAAoB,SAA4Bzb,EAAO3yC,EAAKt2B,GACjE,IAAI+oD,EAAS,IAAIlyD,KAAKmJ,EAASipE,EAAO3yC,GAEtC,OADAyyB,EAAOm7B,YACAn7B,EAAO+tB,mBAGhBqL,EAAOwC,UAAY,SAAoB1b,EAAOjpE,GAC5C,OAAO,IAAInJ,KAAKmJ,EAASipE,IAG3Bh1E,OAAO2wF,iBAAkBzC,EAAOhtF,UAAWyuF,GAE3C,IAAIiB,EAAK1C,EAAOhtF,UAIZ2vF,EAAU,iDAiGd,SAASC,IACPluF,KAAKmuF,gBACLnuF,KAAKouF,cACLpuF,KAAKquF,oBACLruF,KAAKsuF,kBACLtuF,KAAKuuF,aACF,EAtGLP,EAAG1B,gBAAkB,SAASriF,GAC5B,OAAS,CAEPkgF,EAAelV,UAAYhrE,EAC3BA,GAASkgF,EAAex4E,KAAK3R,KAAKoyE,OAAO,GAAG/xE,OAC5C,IAAI+G,EAAQ6mF,EAAQt8E,KAAK3R,KAAKoyE,MAAM5sE,MAAMyE,IAC1C,IAAK7C,EAAS,OAAO,EACrB,GAA+B,gBAA1BA,EAAM,IAAMA,EAAM,IAAwB,OAAO,EACtD6C,GAAS7C,EAAM,GAAG/G,OAGlB8pF,EAAelV,UAAYhrE,EAC3BA,GAASkgF,EAAex4E,KAAK3R,KAAKoyE,OAAO,GAAG/xE,OAClB,MAAtBL,KAAKoyE,MAAMnoE,IACXA,MAOR+jF,EAAGpP,IAAM,SAASl2E,GAChB,OAAI1I,KAAK0I,OAASA,IAChB1I,KAAKuhB,QACE,IAQXysE,EAAGQ,aAAe,SAASvxF,GACzB,OAAO+C,KAAK0I,OAASkG,EAAM3R,MAAQ+C,KAAKrC,QAAUV,IAAS+C,KAAKq7E,aAKlE2S,EAAGS,cAAgB,SAASxxF,GAC1B,QAAK+C,KAAKwuF,aAAavxF,KACvB+C,KAAKuhB,QACE,IAKTysE,EAAGU,iBAAmB,SAASzxF,GACxB+C,KAAKyuF,cAAcxxF,IAAS+C,KAAK++E,cAKxCiP,EAAGnP,mBAAqB,WACtB,OAAO7+E,KAAK0I,OAASkG,EAAM+rE,KACzB36E,KAAK0I,OAASkG,EAAMsrE,QACpBlF,EAAUvtE,KAAKzH,KAAKoyE,MAAM5sE,MAAMxF,KAAKksF,WAAYlsF,KAAKiK,SAG1D+jF,EAAGW,gBAAkB,WACnB,GAAI3uF,KAAK6+E,qBAGP,OAFI7+E,KAAKmJ,QAAQshF,qBACbzqF,KAAKmJ,QAAQshF,oBAAoBzqF,KAAKksF,WAAYlsF,KAAK+rF,gBACpD,GAOXiC,EAAGlP,UAAY,WACR9+E,KAAK4+E,IAAIhwE,EAAM0rE,OAAUt6E,KAAK2uF,mBAAqB3uF,KAAK++E,cAG/DiP,EAAGY,mBAAqB,SAASxb,EAASyb,GACxC,GAAI7uF,KAAK0I,OAAS0qE,EAKhB,OAJIpzE,KAAKmJ,QAAQuhF,iBACb1qF,KAAKmJ,QAAQuhF,gBAAgB1qF,KAAKisF,aAAcjsF,KAAKgsF,iBACpD6C,GACD7uF,KAAKuhB,QACF,GAOXysE,EAAGhP,OAAS,SAASt2E,GACnB1I,KAAK4+E,IAAIl2E,IAAS1I,KAAK++E,cAKzBiP,EAAGjP,WAAa,SAASt/C,GACvBz/B,KAAKm1E,MAAa,MAAP11C,EAAcA,EAAMz/B,KAAKiK,MAAO,qBAY7C+jF,EAAGc,mBAAqB,SAASC,EAAwBlW,GACvD,GAAKkW,EAAL,CACIA,EAAuBX,eAAiB,GACxCpuF,KAAKgvF,iBAAiBD,EAAuBX,cAAe,iDAChE,IAAIa,EAASpW,EAAWkW,EAAuBV,oBAAsBU,EAAuBT,kBACxFW,GAAU,GAAKjvF,KAAKgvF,iBAAiBC,EAAQ,2BAGnDjB,EAAGkB,sBAAwB,SAASH,EAAwBI,GAC1D,IAAKJ,EAA0B,OAAO,EACtC,IAAIZ,EAAkBY,EAAuBZ,gBACzCI,EAAcQ,EAAuBR,YACzC,IAAKY,EAAY,OAAOhB,GAAmB,GAAKI,GAAe,EAC3DJ,GAAmB,GACnBnuF,KAAKm1E,MAAMgZ,EAAiB,2EAC5BI,GAAe,GACfvuF,KAAKgvF,iBAAiBT,EAAa,uCAGzCP,EAAGoB,+BAAiC,WAC9BpvF,KAAKwsF,YAAcxsF,KAAKysF,UAAYzsF,KAAKwsF,SAAWxsF,KAAKysF,WACzDzsF,KAAKm1E,MAAMn1E,KAAKwsF,SAAU,8CAC1BxsF,KAAKysF,UACLzsF,KAAKm1E,MAAMn1E,KAAKysF,SAAU,+CAGhCuB,EAAGqB,qBAAuB,SAASnQ,GACjC,MAAkB,4BAAdA,EAAKx2E,KACE1I,KAAKqvF,qBAAqBnQ,EAAKP,YACrB,eAAdO,EAAKx2E,MAAuC,qBAAdw2E,EAAKx2E,MAG5C,IAAI4mF,EAAOhE,EAAOhtF,UASlBgxF,EAAK3b,cAAgB,SAAS5X,GAC5B,IAAIv/D,EAAU,GAEd,IADKu/D,EAAKtE,OAAQsE,EAAKtE,KAAO,IACvBz3D,KAAK0I,OAASkG,EAAM+rE,KAAK,CAC9B,IAAIrH,EAAOtzE,KAAKuzE,eAAe,MAAM,EAAM/2E,GAC3Cu/D,EAAKtE,KAAK53D,KAAKyzE,GAEjB,GAAItzE,KAAKqsF,SACL,IAAK,IAAI3vF,EAAI,EAAGyL,EAAO/K,OAAO2M,KAAK/J,KAAK2sF,kBAAmBjwF,EAAIyL,EAAK9H,OAAQ3D,GAAK,EACjF,CACE,IAAIO,EAAOkL,EAAKzL,GAEhBsD,KAAKgvF,iBAAiBhvF,KAAK2sF,iBAAiB1vF,GAAMgN,MAAQ,WAAahN,EAAO,oBAKpF,OAHA+C,KAAKuvF,uBAAuBxzB,EAAKtE,MACjCz3D,KAAKuhB,OACLw6C,EAAK+pB,WAAa9lF,KAAKmJ,QAAQ28E,WACxB9lF,KAAK0zE,WAAW3X,EAAM,YAG/B,IAAIojB,EAAY,CAACC,KAAM,QAASC,EAAc,CAACD,KAAM,UAErDkQ,EAAKE,MAAQ,SAASlqD,GACpB,GAAItlC,KAAKmJ,QAAQ0qE,YAAc,IAAM7zE,KAAKwuF,aAAa,OAAU,OAAO,EACxErE,EAAelV,UAAYj1E,KAAKy/B,IAChC,IAAIgwD,EAAOtF,EAAex4E,KAAK3R,KAAKoyE,OAChC7wD,EAAOvhB,KAAKy/B,IAAMgwD,EAAK,GAAGpvF,OAAQqvF,EAAS1vF,KAAKoyE,MAAMmK,WAAWh7D,GAKrE,GAAe,KAAXmuE,EAAiB,OAAO,EAC5B,GAAIpqD,EAAW,OAAO,EAEtB,GAAe,MAAXoqD,EAAkB,OAAO,EAC7B,GAAIzT,EAAkByT,GAAQ,GAAO,CAEnC,IADA,IAAIjwD,EAAMle,EAAO,EACV26D,EAAiBl8E,KAAKoyE,MAAMmK,WAAW98C,IAAM,MAAWA,EAC/D,IAAIkwD,EAAQ3vF,KAAKoyE,MAAM5sE,MAAM+b,EAAMke,GACnC,IAAKioD,EAA0BjgF,KAAKkoF,GAAU,OAAO,EAEvD,OAAO,GAMTL,EAAKM,gBAAkB,WACrB,GAAI5vF,KAAKmJ,QAAQ0qE,YAAc,IAAM7zE,KAAKwuF,aAAa,SACnD,OAAO,EAEXrE,EAAelV,UAAYj1E,KAAKy/B,IAChC,IAAIgwD,EAAOtF,EAAex4E,KAAK3R,KAAKoyE,OAChC7wD,EAAOvhB,KAAKy/B,IAAMgwD,EAAK,GAAGpvF,OAC9B,QAAQ20E,EAAUvtE,KAAKzH,KAAKoyE,MAAM5sE,MAAMxF,KAAKy/B,IAAKle,KACX,aAArCvhB,KAAKoyE,MAAM5sE,MAAM+b,EAAMA,EAAO,IAC7BA,EAAO,IAAMvhB,KAAKoyE,MAAM/xE,QAAW67E,EAAiBl8E,KAAKoyE,MAAMwL,OAAOr8D,EAAO,MAUlF+tE,EAAK/b,eAAiB,SAASjuC,EAASuqD,EAAUrzF,GAChD,IAAoD4iF,EAAhDE,EAAYt/E,KAAK0I,KAAMqzD,EAAO/7D,KAAKmzE,YAWvC,OATInzE,KAAKwvF,MAAMlqD,KACbg6C,EAAY1wE,EAAMyoE,KAClB+H,EAAO,OAODE,GACR,KAAK1wE,EAAMunE,OAAQ,KAAKvnE,EAAM4nE,UAAW,OAAOx2E,KAAK8vF,4BAA4B/zB,EAAMujB,EAAUlJ,SACjG,KAAKxnE,EAAM6nE,UAAW,OAAOz2E,KAAK+vF,uBAAuBh0B,GACzD,KAAKntD,EAAM8nE,IAAK,OAAO12E,KAAKgwF,iBAAiBj0B,GAC7C,KAAKntD,EAAMkoE,KAAM,OAAO92E,KAAKiwF,kBAAkBl0B,GAC/C,KAAKntD,EAAMmoE,UAKT,OADKzxC,IAAYtlC,KAAKgzE,QAAsB,OAAZ1tC,GAAgC,UAAZA,IAAyBtlC,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAK++E,aAC5G/+E,KAAKkwF,uBAAuBn0B,GAAM,GAAQz2B,GACnD,KAAK12B,EAAMpG,OAET,OADI88B,GAAWtlC,KAAK++E,aACb/+E,KAAKmwF,WAAWp0B,GAAM,GAC/B,KAAKntD,EAAMooE,IAAK,OAAOh3E,KAAKowF,iBAAiBr0B,GAC7C,KAAKntD,EAAMqoE,QAAS,OAAOj3E,KAAKqwF,qBAAqBt0B,GACrD,KAAKntD,EAAMsoE,QAAS,OAAOl3E,KAAKswF,qBAAqBv0B,GACrD,KAAKntD,EAAMuoE,OAAQ,OAAOn3E,KAAKuwF,oBAAoBx0B,GACnD,KAAKntD,EAAMwoE,KAAM,OAAOp3E,KAAKwwF,kBAAkBz0B,GAC/C,KAAKntD,EAAM26E,OAAQ,KAAK36E,EAAMyoE,KAG5B,OAFA+H,EAAOA,GAAQp/E,KAAKrC,MAChB2nC,GAAoB,QAAT85C,GAAkBp/E,KAAK++E,aAC/B/+E,KAAKywF,kBAAkB10B,EAAMqjB,GACtC,KAAKxwE,EAAM0oE,OAAQ,OAAOt3E,KAAK0wF,oBAAoB30B,GACnD,KAAKntD,EAAM2oE,MAAO,OAAOv3E,KAAK2wF,mBAAmB50B,GACjD,KAAKntD,EAAMqrE,OAAQ,OAAOj6E,KAAK2gF,YAAW,EAAM5kB,GAChD,KAAKntD,EAAM0rE,KAAM,OAAOt6E,KAAK4wF,oBAAoB70B,GACjD,KAAKntD,EAAM86E,QACX,KAAK96E,EAAM+6E,QACT,GAAI3pF,KAAKmJ,QAAQ0qE,YAAc,IAAMyL,IAAc1wE,EAAM+6E,QAAS,CAChEQ,EAAelV,UAAYj1E,KAAKy/B,IAChC,IAAIgwD,EAAOtF,EAAex4E,KAAK3R,KAAKoyE,OAChC7wD,EAAOvhB,KAAKy/B,IAAMgwD,EAAK,GAAGpvF,OAC9B,GAAe,KADgCL,KAAKoyE,MAAMmK,WAAWh7D,GAEjE,OAAOvhB,KAAK6wF,yBAAyB90B,EAAM/7D,KAAKigF,mBAStD,OANKjgF,KAAKmJ,QAAQyhF,8BACXiF,GACD7vF,KAAKm1E,MAAMn1E,KAAKiK,MAAO,0DACtBjK,KAAKqsF,UACNrsF,KAAKm1E,MAAMn1E,KAAKiK,MAAO,oEAEtBq1E,IAAc1wE,EAAM+6E,QAAU3pF,KAAK8wF,YAAY/0B,GAAQ/7D,KAAK+wF,YAAYh1B,EAAMv/D,GAOvF,QACE,GAAIwD,KAAK4vF,kBAGP,OAFItqD,GAAWtlC,KAAK++E,aACpB/+E,KAAKuhB,OACEvhB,KAAKkwF,uBAAuBn0B,GAAM,GAAOz2B,GAGlD,IAAI07C,EAAYhhF,KAAKrC,MAAOuhF,EAAOl/E,KAAKigF,kBACxC,OAAIX,IAAc1wE,EAAM3R,MAAsB,eAAdiiF,EAAKx2E,MAAyB1I,KAAK4+E,IAAIhwE,EAAM2rE,OAClEv6E,KAAKgxF,sBAAsBj1B,EAAMilB,EAAW9B,EAAM55C,GAC/CtlC,KAAK6wF,yBAAyB90B,EAAMmjB,KAItDoQ,EAAKQ,4BAA8B,SAAS/zB,EAAMqa,GAChD,IAAImJ,EAAsB,UAAZnJ,EACdp2E,KAAKuhB,OACDvhB,KAAK4+E,IAAIhwE,EAAM0rE,OAASt6E,KAAK2uF,kBAAqB5yB,EAAKyjB,MAAQ,KAC1Dx/E,KAAK0I,OAASkG,EAAM3R,KAAQ+C,KAAK++E,cAExChjB,EAAKyjB,MAAQx/E,KAAKy/E,aAClBz/E,KAAK8+E,aAMP,IADA,IAAIpiF,EAAI,EACDA,EAAIsD,KAAKizE,OAAO5yE,SAAU3D,EAAG,CAClC,IAAIgjF,EAAM1/E,KAAKizE,OAAOv2E,GACtB,GAAkB,MAAdq/D,EAAKyjB,OAAiBE,EAAIziF,OAAS8+D,EAAKyjB,MAAMviF,KAAM,CACtD,GAAgB,MAAZyiF,EAAIN,OAAiBG,GAAwB,SAAbG,EAAIN,MAAoB,MAC5D,GAAIrjB,EAAKyjB,OAASD,EAAW,OAIjC,OADI7iF,IAAMsD,KAAKizE,OAAO5yE,QAAUL,KAAKm1E,MAAMpZ,EAAK9xD,MAAO,eAAiBmsE,GACjEp2E,KAAK0zE,WAAW3X,EAAMwjB,EAAU,iBAAmB,sBAG5D+P,EAAKS,uBAAyB,SAASh0B,GAGrC,OAFA/7D,KAAKuhB,OACLvhB,KAAK8+E,YACE9+E,KAAK0zE,WAAW3X,EAAM,sBAG/BuzB,EAAKU,iBAAmB,SAASj0B,GAW/B,OAVA/7D,KAAKuhB,OACLvhB,KAAKizE,OAAOpzE,KAAKs/E,GACjBpjB,EAAKtE,KAAOz3D,KAAKuzE,eAAe,MAChCvzE,KAAKizE,OAAO70C,MACZp+B,KAAKg/E,OAAOpwE,EAAM0oE,QAClBvb,EAAKt0D,KAAOzH,KAAK2/E,uBACb3/E,KAAKmJ,QAAQ0qE,aAAe,EAC5B7zE,KAAK4+E,IAAIhwE,EAAM0rE,MAEft6E,KAAK8+E,YACF9+E,KAAK0zE,WAAW3X,EAAM,qBAW/BuzB,EAAKW,kBAAoB,SAASl0B,GAChC/7D,KAAKuhB,OACL,IAAI0vE,EAAWjxF,KAAKmJ,QAAQ0qE,aAAe,IAAM7zE,KAAKitF,UAAajtF,KAAK+yE,YAAc/yE,KAAKmJ,QAAQ0hF,4BAA+B7qF,KAAKyuF,cAAc,SAAYzuF,KAAKisF,cAAgB,EAItL,GAHAjsF,KAAKizE,OAAOpzE,KAAKs/E,GACjBn/E,KAAK6sF,WAAW,GAChB7sF,KAAKg/E,OAAOpwE,EAAMurE,QACdn6E,KAAK0I,OAASkG,EAAM0rE,KAEtB,OADI2W,GAAW,GAAKjxF,KAAK++E,WAAWkS,GAC7BjxF,KAAK4/E,SAAS7jB,EAAM,MAE7B,IAAIyzB,EAAQxvF,KAAKwvF,QACjB,GAAIxvF,KAAK0I,OAASkG,EAAMyoE,MAAQr3E,KAAK0I,OAASkG,EAAM26E,QAAUiG,EAAO,CACnE,IAAI0B,EAASlxF,KAAKmzE,YAAaiM,EAAOoQ,EAAQ,MAAQxvF,KAAKrC,MAI3D,OAHAqC,KAAKuhB,OACLvhB,KAAK8/E,SAASoR,GAAQ,EAAM9R,GAC5Bp/E,KAAK0zE,WAAWwd,EAAQ,wBACnBlxF,KAAK0I,OAASkG,EAAMi1C,KAAQ7jD,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAKwuF,aAAa,QAA0C,IAA/B0C,EAAOnR,aAAa1/E,QAC7GL,KAAKmJ,QAAQ0qE,aAAe,IAC1B7zE,KAAK0I,OAASkG,EAAMi1C,IAClBotC,GAAW,GAAKjxF,KAAK++E,WAAWkS,GAC7Bl1B,EAAKo1B,MAAQF,GAAW,GAE5BjxF,KAAKggF,WAAWjkB,EAAMm1B,KAE3BD,GAAW,GAAKjxF,KAAK++E,WAAWkS,GAC7BjxF,KAAK4/E,SAAS7jB,EAAMm1B,IAE7B,IAAInC,EAAyB,IAAIb,EAC7BrO,EAAO7/E,KAAKigF,iBAAgB,EAAM8O,GACtC,OAAI/uF,KAAK0I,OAASkG,EAAMi1C,KAAQ7jD,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAKwuF,aAAa,OAC7ExuF,KAAKmJ,QAAQ0qE,aAAe,IAC1B7zE,KAAK0I,OAASkG,EAAMi1C,IAClBotC,GAAW,GAAKjxF,KAAK++E,WAAWkS,GAC7Bl1B,EAAKo1B,MAAQF,GAAW,GAEnCjxF,KAAKoxF,aAAavR,GAAM,EAAOkP,GAC/B/uF,KAAKi/E,UAAUY,GACR7/E,KAAKggF,WAAWjkB,EAAM8jB,KAE7B7/E,KAAKkvF,sBAAsBH,GAAwB,GAEjDkC,GAAW,GAAKjxF,KAAK++E,WAAWkS,GAC7BjxF,KAAK4/E,SAAS7jB,EAAM8jB,KAG7ByP,EAAKY,uBAAyB,SAASn0B,EAAMs1B,EAASC,GAEpD,OADAtxF,KAAKuhB,OACEvhB,KAAKkgF,cAAcnkB,EAAMw1B,GAAkBD,EAAsB,EAAIE,IAAyB,EAAOH,IAG9G/B,EAAKc,iBAAmB,SAASr0B,GAM/B,OALA/7D,KAAKuhB,OACLw6C,EAAKt0D,KAAOzH,KAAK2/E,uBAEjB5jB,EAAKokB,WAAangF,KAAKuzE,eAAe,MACtCxX,EAAKqkB,UAAYpgF,KAAK4+E,IAAIhwE,EAAMgoE,OAAS52E,KAAKuzE,eAAe,MAAQ,KAC9DvzE,KAAK0zE,WAAW3X,EAAM,gBAG/BuzB,EAAKe,qBAAuB,SAASt0B,GAWnC,OAVK/7D,KAAK+yE,YAAe/yE,KAAKmJ,QAAQ8qE,4BAClCj0E,KAAKm1E,MAAMn1E,KAAKiK,MAAO,gCAC3BjK,KAAKuhB,OAMDvhB,KAAK4+E,IAAIhwE,EAAM0rE,OAASt6E,KAAK2uF,kBAAqB5yB,EAAKskB,SAAW,MAC/DtkB,EAAKskB,SAAWrgF,KAAKigF,kBAAmBjgF,KAAK8+E,aAC7C9+E,KAAK0zE,WAAW3X,EAAM,oBAG/BuzB,EAAKgB,qBAAuB,SAASv0B,GAYnC,IAAIgZ,EAXJ/0E,KAAKuhB,OACLw6C,EAAKukB,aAAetgF,KAAK2/E,uBACzB5jB,EAAKwkB,MAAQ,GACbvgF,KAAKg/E,OAAOpwE,EAAMqrE,QAClBj6E,KAAKizE,OAAOpzE,KAAKw/E,GACjBr/E,KAAK6sF,WAAW,GAOhB,IAAK,IAAIrM,GAAa,EAAOxgF,KAAK0I,OAASkG,EAAMsrE,QAC/C,GAAIl6E,KAAK0I,OAASkG,EAAMynE,OAASr2E,KAAK0I,OAASkG,EAAM6wC,SAAU,CAC7D,IAAIghC,EAASzgF,KAAK0I,OAASkG,EAAMynE,MAC7BtB,GAAO/0E,KAAK0zE,WAAWqB,EAAK,cAChChZ,EAAKwkB,MAAM1gF,KAAKk1E,EAAM/0E,KAAKmzE,aAC3B4B,EAAIoL,WAAa,GACjBngF,KAAKuhB,OACDk/D,EACF1L,EAAIttE,KAAOzH,KAAKigF,mBAEZO,GAAcxgF,KAAKgvF,iBAAiBhvF,KAAKisF,aAAc,4BAC3DzL,GAAa,EACbzL,EAAIttE,KAAO,MAEbzH,KAAKg/E,OAAOpwE,EAAM2rE,YAEbxF,GAAO/0E,KAAK++E,aACjBhK,EAAIoL,WAAWtgF,KAAKG,KAAKuzE,eAAe,OAO5C,OAJAvzE,KAAKyxF,YACD1c,GAAO/0E,KAAK0zE,WAAWqB,EAAK,cAChC/0E,KAAKuhB,OACLvhB,KAAKizE,OAAO70C,MACLp+B,KAAK0zE,WAAW3X,EAAM,oBAG/BuzB,EAAKiB,oBAAsB,SAASx0B,GAMlC,OALA/7D,KAAKuhB,OACDyzD,EAAUvtE,KAAKzH,KAAKoyE,MAAM5sE,MAAMxF,KAAKksF,WAAYlsF,KAAKiK,SACtDjK,KAAKm1E,MAAMn1E,KAAKksF,WAAY,+BAChCnwB,EAAKskB,SAAWrgF,KAAKigF,kBACrBjgF,KAAK8+E,YACE9+E,KAAK0zE,WAAW3X,EAAM,mBAK/B,IAAIga,EAAQ,GAEZuZ,EAAKkB,kBAAoB,SAASz0B,GAIhC,GAHA/7D,KAAKuhB,OACLw6C,EAAK2kB,MAAQ1gF,KAAK2gF,aAClB5kB,EAAK1sD,QAAU,KACXrP,KAAK0I,OAASkG,EAAM2nE,OAAQ,CAC9B,IAAIqK,EAAS5gF,KAAKmzE,YAElB,GADAnzE,KAAKuhB,OACDvhB,KAAK4+E,IAAIhwE,EAAMurE,QAAS,CAC1ByG,EAAOlzD,MAAQ1tB,KAAK0xF,mBACpB,IAAIC,EAA+B,eAAtB/Q,EAAOlzD,MAAMhlB,KAC1B1I,KAAK6sF,WAAW8E,EA7mBG,GA6mB2B,GAC9C3xF,KAAKi/E,UAAU2B,EAAOlzD,MAAOikE,EAhmBX,EAFL,GAmmBb3xF,KAAKg/E,OAAOpwE,EAAMwrE,aAEdp6E,KAAKmJ,QAAQ0qE,YAAc,IAAM7zE,KAAK++E,aAC1C6B,EAAOlzD,MAAQ,KACf1tB,KAAK6sF,WAAW,GAElBjM,EAAOnpB,KAAOz3D,KAAK2gF,YAAW,GAC9B3gF,KAAKyxF,YACL11B,EAAK1sD,QAAUrP,KAAK0zE,WAAWkN,EAAQ,eAKzC,OAHA7kB,EAAKglB,UAAY/gF,KAAK4+E,IAAIhwE,EAAMioE,UAAY72E,KAAK2gF,aAAe,KAC3D5kB,EAAK1sD,SAAY0sD,EAAKglB,WACvB/gF,KAAKm1E,MAAMpZ,EAAK9xD,MAAO,mCACpBjK,KAAK0zE,WAAW3X,EAAM,iBAG/BuzB,EAAKmB,kBAAoB,SAAS10B,EAAMqjB,GAItC,OAHAp/E,KAAKuhB,OACLvhB,KAAK8/E,SAAS/jB,GAAM,EAAOqjB,GAC3Bp/E,KAAK8+E,YACE9+E,KAAK0zE,WAAW3X,EAAM,wBAG/BuzB,EAAKoB,oBAAsB,SAAS30B,GAMlC,OALA/7D,KAAKuhB,OACLw6C,EAAKt0D,KAAOzH,KAAK2/E,uBACjB3/E,KAAKizE,OAAOpzE,KAAKs/E,GACjBpjB,EAAKtE,KAAOz3D,KAAKuzE,eAAe,SAChCvzE,KAAKizE,OAAO70C,MACLp+B,KAAK0zE,WAAW3X,EAAM,mBAG/BuzB,EAAKqB,mBAAqB,SAAS50B,GAKjC,OAJI/7D,KAAKgzE,QAAUhzE,KAAKm1E,MAAMn1E,KAAKiK,MAAO,yBAC1CjK,KAAKuhB,OACLw6C,EAAK39D,OAAS4B,KAAK2/E,uBACnB5jB,EAAKtE,KAAOz3D,KAAKuzE,eAAe,QACzBvzE,KAAK0zE,WAAW3X,EAAM,kBAG/BuzB,EAAKsB,oBAAsB,SAAS70B,GAElC,OADA/7D,KAAKuhB,OACEvhB,KAAK0zE,WAAW3X,EAAM,mBAG/BuzB,EAAK0B,sBAAwB,SAASj1B,EAAMilB,EAAW9B,EAAM55C,GAC3D,IAAK,IAAIssD,EAAM,EAAGzpF,EAAOnI,KAAKizE,OAAQ2e,EAAMzpF,EAAK9H,OAAQuxF,GAAO,EAC9D,CACYzpF,EAAKypF,GAEP30F,OAAS+jF,GACfhhF,KAAKm1E,MAAM+J,EAAKj1E,MAAO,UAAY+2E,EAAY,yBAGrD,IADA,IAAI5B,EAAOp/E,KAAK0I,KAAKiuE,OAAS,OAAS32E,KAAK0I,OAASkG,EAAMsoE,QAAU,SAAW,KACvEx6E,EAAIsD,KAAKizE,OAAO5yE,OAAS,EAAG3D,GAAK,EAAGA,IAAK,CAChD,IAAIm1F,EAAU7xF,KAAKizE,OAAOv2E,GAC1B,GAAIm1F,EAAQC,iBAAmB/1B,EAAK9xD,MAI3B,MAFP4nF,EAAQC,eAAiB9xF,KAAKiK,MAC9B4nF,EAAQzS,KAAOA,EAOnB,OAJAp/E,KAAKizE,OAAOpzE,KAAK,CAAC5C,KAAM+jF,EAAW5B,KAAMA,EAAM0S,eAAgB9xF,KAAKiK,QACpE8xD,EAAKtE,KAAOz3D,KAAKuzE,eAAejuC,GAAwC,IAA9BA,EAAQt2B,QAAQ,SAAkBs2B,EAAU,QAAUA,EAAU,SAC1GtlC,KAAKizE,OAAO70C,MACZ29B,EAAKyjB,MAAQN,EACNl/E,KAAK0zE,WAAW3X,EAAM,qBAG/BuzB,EAAKuB,yBAA2B,SAAS90B,EAAMmjB,GAG7C,OAFAnjB,EAAK4iB,WAAaO,EAClBl/E,KAAK8+E,YACE9+E,KAAK0zE,WAAW3X,EAAM,wBAO/BuzB,EAAK3O,WAAa,SAASoR,EAAuBh2B,GAOhD,SAN+B,IAA1Bg2B,IAAmCA,GAAwB,QAClD,IAATh2B,IAAkBA,EAAO/7D,KAAKmzE,aAEnCpX,EAAKtE,KAAO,GACZz3D,KAAKg/E,OAAOpwE,EAAMqrE,QACd8X,GAAyB/xF,KAAK6sF,WAAW,IACrC7sF,KAAK4+E,IAAIhwE,EAAMsrE,SAAS,CAC9B,IAAI5G,EAAOtzE,KAAKuzE,eAAe,MAC/BxX,EAAKtE,KAAK53D,KAAKyzE,GAGjB,OADIye,GAAyB/xF,KAAKyxF,YAC3BzxF,KAAK0zE,WAAW3X,EAAM,mBAO/BuzB,EAAK1P,SAAW,SAAS7jB,EAAM8jB,GAU7B,OATA9jB,EAAK8jB,KAAOA,EACZ7/E,KAAKg/E,OAAOpwE,EAAM0rE,MAClBve,EAAKt0D,KAAOzH,KAAK0I,OAASkG,EAAM0rE,KAAO,KAAOt6E,KAAKigF,kBACnDjgF,KAAKg/E,OAAOpwE,EAAM0rE,MAClBve,EAAKt6D,OAASzB,KAAK0I,OAASkG,EAAMwrE,OAAS,KAAOp6E,KAAKigF,kBACvDjgF,KAAKg/E,OAAOpwE,EAAMwrE,QAClBre,EAAKtE,KAAOz3D,KAAKuzE,eAAe,OAChCvzE,KAAKyxF,YACLzxF,KAAKizE,OAAO70C,MACLp+B,KAAK0zE,WAAW3X,EAAM,iBAM/BuzB,EAAKtP,WAAa,SAASjkB,EAAM8jB,GAC/B,IAAImS,EAAUhyF,KAAK0I,OAASkG,EAAMi1C,IA2BlC,OA1BA7jD,KAAKuhB,OAGW,wBAAds+D,EAAKn3E,MACwB,MAA7Bm3E,EAAKE,aAAa,GAAGF,QAElBmS,GACDhyF,KAAKmJ,QAAQ0qE,YAAc,GAC3B7zE,KAAKgzE,QACS,QAAd6M,EAAKT,MAC4B,eAAjCS,EAAKE,aAAa,GAAG3zE,GAAG1D,MAG1B1I,KAAKm1E,MACH0K,EAAK51E,OACH+nF,EAAU,SAAW,UAAY,0DAEd,sBAAdnS,EAAKn3E,MACd1I,KAAKm1E,MAAM0K,EAAK51E,MAAO,sCAEzB8xD,EAAKnnD,KAAOirE,EACZ9jB,EAAKjnD,MAAQk9E,EAAUhyF,KAAKigF,kBAAoBjgF,KAAKshF,mBACrDthF,KAAKg/E,OAAOpwE,EAAMwrE,QAClBre,EAAKtE,KAAOz3D,KAAKuzE,eAAe,OAChCvzE,KAAKyxF,YACLzxF,KAAKizE,OAAO70C,MACLp+B,KAAK0zE,WAAW3X,EAAMi2B,EAAU,iBAAmB,mBAK5D1C,EAAKxP,SAAW,SAAS/jB,EAAMk2B,EAAO7S,GAGpC,IAFArjB,EAAKgkB,aAAe,GACpBhkB,EAAKqjB,KAAOA,IACH,CACP,IAAIgC,EAAOphF,KAAKmzE,YAYhB,GAXAnzE,KAAKkyF,WAAW9Q,EAAMhC,GAClBp/E,KAAK4+E,IAAIhwE,EAAM8rE,IACjB0G,EAAKvB,KAAO7/E,KAAKshF,iBAAiB2Q,GAChB,UAAT7S,GAAsBp/E,KAAK0I,OAASkG,EAAMi1C,KAAQ7jD,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAKwuF,aAAa,MAEpF,eAAjBpN,EAAKh1E,GAAG1D,MAA2BupF,IAAUjyF,KAAK0I,OAASkG,EAAMi1C,KAAO7jD,KAAKwuF,aAAa,OAGnGpN,EAAKvB,KAAO,KAFZ7/E,KAAKm1E,MAAMn1E,KAAKksF,WAAY,4DAF5BlsF,KAAK++E,aAMPhjB,EAAKgkB,aAAalgF,KAAKG,KAAK0zE,WAAW0N,EAAM,wBACxCphF,KAAK4+E,IAAIhwE,EAAMyrE,OAAU,MAEhC,OAAOte,GAGTuzB,EAAK4C,WAAa,SAAS9Q,EAAMhC,GAC/BgC,EAAKh1E,GAAKpM,KAAK0xF,mBACf1xF,KAAKi/E,UAAUmC,EAAKh1E,GAAa,QAATgzE,EA9wBX,EACI,GA6wBiD,IAGpE,IAAImS,EAAiB,EAAGC,EAAyB,EAMjDlC,EAAKpP,cAAgB,SAASnkB,EAAMo2B,EAAWC,EAAqBf,GAClErxF,KAAKqyF,aAAat2B,IACd/7D,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAKmJ,QAAQ0qE,aAAe,IAAMwd,KACjErxF,KAAK0I,OAASkG,EAAMy6E,MAAS8I,EAAYX,GACzCxxF,KAAK++E,aACThjB,EAAKsvB,UAAYrrF,KAAK4+E,IAAIhwE,EAAMy6E,OAE9BrpF,KAAKmJ,QAAQ0qE,aAAe,IAC5B9X,EAAKwM,QAAU8oB,GAEfc,EAAYZ,IACdx1B,EAAK3vD,GAjB8D,EAiBxD+lF,GAAiCnyF,KAAK0I,OAASkG,EAAM3R,KAAO,KAAO+C,KAAKy/E,cAC/E1jB,EAAK3vD,IAAQ+lF,EAAYX,GAKzBxxF,KAAKi/E,UAAUljB,EAAK3vD,GAAKpM,KAAKgzE,QAAUjX,EAAKsvB,WAAatvB,EAAKwM,MAASvoE,KAAKotF,oBAxyBtE,EACI,EACC,IAyyBlB,IAAIkF,EAActyF,KAAKwsF,SAAU+F,EAAcvyF,KAAKysF,SAAU+F,EAAmBxyF,KAAK0sF,cAetF,OAdA1sF,KAAKwsF,SAAW,EAChBxsF,KAAKysF,SAAW,EAChBzsF,KAAK0sF,cAAgB,EACrB1sF,KAAK6sF,WAAWzB,EAAcrvB,EAAKwM,MAAOxM,EAAKsvB,YAEzC8G,EAAYZ,IACdx1B,EAAK3vD,GAAKpM,KAAK0I,OAASkG,EAAM3R,KAAO+C,KAAKy/E,aAAe,MAE7Dz/E,KAAKyyF,oBAAoB12B,GACzB/7D,KAAK0yF,kBAAkB32B,EAAMq2B,GAAqB,GAElDpyF,KAAKwsF,SAAW8F,EAChBtyF,KAAKysF,SAAW8F,EAChBvyF,KAAK0sF,cAAgB8F,EACdxyF,KAAK0zE,WAAW3X,EAAOo2B,EAAYZ,EAAkB,sBAAwB,uBAGtFjC,EAAKmD,oBAAsB,SAAS12B,GAClC/7D,KAAKg/E,OAAOpwE,EAAMurE,QAClBpe,EAAKinB,OAAShjF,KAAK2yF,iBAAiB/jF,EAAMwrE,QAAQ,EAAOp6E,KAAKmJ,QAAQ0qE,aAAe,GACrF7zE,KAAKovF,kCAMPE,EAAKa,WAAa,SAASp0B,EAAMgnB,GAC/B/iF,KAAKuhB,OAIL,IAAI2/D,EAAYlhF,KAAKgzE,OACrBhzE,KAAKgzE,QAAS,EAEdhzE,KAAK4yF,aAAa72B,EAAMgnB,GACxB/iF,KAAK6yF,gBAAgB92B,GACrB,IAAI+2B,EAAY9yF,KAAKmzE,YACjB4f,GAAiB,EAGrB,IAFAD,EAAUr7B,KAAO,GACjBz3D,KAAKg/E,OAAOpwE,EAAMqrE,SACVj6E,KAAK4+E,IAAIhwE,EAAMsrE,SAAS,CAC9B,IAAI9mE,EAAUpT,KAAKgzF,kBAAsC,OAApBj3B,EAAKk3B,YACtC7/E,IACF0/E,EAAUr7B,KAAK53D,KAAKuT,GACC,qBAAjBA,EAAQ1K,MAAgD,gBAAjB0K,EAAQgsE,OAC7C2T,GAAkB/yF,KAAKm1E,MAAM/hE,EAAQnJ,MAAO,2CAChD8oF,GAAiB,IAMvB,OAFAh3B,EAAKtE,KAAOz3D,KAAK0zE,WAAWof,EAAW,aACvC9yF,KAAKgzE,OAASkO,EACPlhF,KAAK0zE,WAAW3X,EAAMgnB,EAAc,mBAAqB,oBAGlEuM,EAAK0D,kBAAoB,SAASE,GAChC,IAAIC,EAASnzF,KAEb,GAAIA,KAAK4+E,IAAIhwE,EAAM0rE,MAAS,OAAO,KAEnC,IAAIl2B,EAASpkD,KAAKmzE,YACdigB,EAAgB,SAAUjpD,EAAGkpD,QACV,IAAhBA,IAAyBA,GAAc,GAE5C,IAAIppF,EAAQkpF,EAAOlpF,MAAOyrE,EAAWyd,EAAOzd,SAC5C,QAAKyd,EAAO1E,cAActkD,OACtBgpD,EAAOzqF,OAASkG,EAAMurE,QAAYkZ,GAAgBF,EAAOtU,wBACzDz6B,EAAOnmD,KAAOk1F,EAAOpU,aACzB36B,EAAO89B,UAAW,EAClB99B,EAAOnmD,IAAMk1F,EAAOG,YAAYrpF,EAAOyrE,GACvCtxB,EAAOnmD,IAAIhB,KAAOktC,EAClBgpD,EAAOzf,WAAWtvB,EAAOnmD,IAAK,eACvB,KAGTmmD,EAAOg7B,KAAO,SACdh7B,EAAOmvC,OAASH,EAAc,UAC9B,IAAII,EAAcxzF,KAAK4+E,IAAIhwE,EAAMy6E,MAC7BgI,GAAU,EACTmC,IACCxzF,KAAKmJ,QAAQ0qE,aAAe,GAAKuf,EAAc,SAAS,IAC1D/B,GAAU,EACVmC,EAAcxzF,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAK4+E,IAAIhwE,EAAMy6E,OACrD+J,EAAc,OACvBhvC,EAAOg7B,KAAO,MACLgU,EAAc,SACvBhvC,EAAOg7B,KAAO,QAGbh7B,EAAOnmD,KAAO+B,KAAK0iF,kBAAkBt+B,GAC1C,IAAInmD,EAAMmmD,EAAOnmD,IACbw1F,GAAoB,EAkBxB,OAjBKrvC,EAAO89B,UAAa99B,EAAOmvC,UAAwB,eAAbt1F,EAAIyK,MAAsC,gBAAbzK,EAAIhB,MAC3D,YAAbgB,EAAIyK,MAAoC,gBAAdzK,EAAIN,OAMvBymD,EAAOmvC,QAAuB,eAAbt1F,EAAIyK,MAAsC,cAAbzK,EAAIhB,MAC3D+C,KAAKm1E,MAAMl3E,EAAIgM,MAAO,2DANF,WAAhBm6C,EAAOg7B,MAAqBp/E,KAAKm1E,MAAMl3E,EAAIgM,MAAO,2CAClDupF,GAAexzF,KAAKm1E,MAAMl3E,EAAIgM,MAAO,oCACrConF,GAAWrxF,KAAKm1E,MAAMl3E,EAAIgM,MAAO,wCACrCm6C,EAAOg7B,KAAO,cACdqU,EAAoBP,GAItBlzF,KAAK0zF,iBAAiBtvC,EAAQovC,EAAanC,EAASoC,GAChC,QAAhBrvC,EAAOg7B,MAAiD,IAA/Bh7B,EAAOzmD,MAAMqlF,OAAO3iF,QAC7CL,KAAKgvF,iBAAiB5qC,EAAOzmD,MAAMsM,MAAO,gCAC1B,QAAhBm6C,EAAOg7B,MAAiD,IAA/Bh7B,EAAOzmD,MAAMqlF,OAAO3iF,QAC7CL,KAAKgvF,iBAAiB5qC,EAAOzmD,MAAMsM,MAAO,wCAC1B,QAAhBm6C,EAAOg7B,MAAkD,gBAAhCh7B,EAAOzmD,MAAMqlF,OAAO,GAAGt6E,MAChD1I,KAAKgvF,iBAAiB5qC,EAAOzmD,MAAMqlF,OAAO,GAAG/4E,MAAO,iCACjDm6C,GAGTkrC,EAAKoE,iBAAmB,SAAStvC,EAAQovC,EAAanC,EAASoC,GAE7D,OADArvC,EAAOzmD,MAAQqC,KAAK2zF,YAAYH,EAAanC,EAASoC,GAC/CzzF,KAAK0zE,WAAWtvB,EAAQ,qBAGjCkrC,EAAKsD,aAAe,SAAS72B,EAAMgnB,GAC7B/iF,KAAK0I,OAASkG,EAAM3R,MACtB8+D,EAAK3vD,GAAKpM,KAAKy/E,aACXsD,GACA/iF,KAAKi/E,UAAUljB,EAAK3vD,GAp6BT,GAo6B2B,MAEtB,IAAhB22E,GACA/iF,KAAK++E,aACThjB,EAAK3vD,GAAK,OAIdkjF,EAAKuD,gBAAkB,SAAS92B,GAC9BA,EAAKk3B,WAAajzF,KAAK4+E,IAAIhwE,EAAM66E,UAAYzpF,KAAK4zF,sBAAwB,MAK5EtE,EAAKyB,YAAc,SAASh1B,EAAMv/D,GAGhC,GAFAwD,KAAKuhB,OAEDvhB,KAAK4+E,IAAIhwE,EAAMy6E,MAKjB,OAJArpF,KAAK0uF,iBAAiB,QAClB1uF,KAAK0I,OAASkG,EAAMuiD,QAAUnxD,KAAK++E,aACvChjB,EAAK13D,OAASrE,KAAKgiF,gBACnBhiF,KAAK8+E,YACE9+E,KAAK0zE,WAAW3X,EAAM,wBAE/B,GAAI/7D,KAAK4+E,IAAIhwE,EAAM6wC,UAAW,CAE5B,IAAI4xC,EACJ,GAFArxF,KAAK6zF,YAAYr3F,EAAS,UAAWwD,KAAKisF,cAEtCjsF,KAAK0I,OAASkG,EAAMmoE,YAAcsa,EAAUrxF,KAAK4vF,mBAAoB,CACvE,IAAIkE,EAAQ9zF,KAAKmzE,YACjBnzE,KAAKuhB,OACD8vE,GAAWrxF,KAAKuhB,OACpBw6C,EAAKypB,YAAcxlF,KAAKkgF,cAAc4T,EAnL2B,EAmLpBvC,GAAmC,EAAOF,QAClF,GAAIrxF,KAAK0I,OAASkG,EAAMpG,OAAQ,CACrC,IAAIurF,EAAQ/zF,KAAKmzE,YACjBpX,EAAKypB,YAAcxlF,KAAKmwF,WAAW4D,EAAO,mBAE1Ch4B,EAAKypB,YAAcxlF,KAAKshF,mBACxBthF,KAAK8+E,YAEP,OAAO9+E,KAAK0zE,WAAW3X,EAAM,4BAG/B,GAAI/7D,KAAKg0F,6BACPj4B,EAAKypB,YAAcxlF,KAAKuzE,eAAe,MACT,wBAA1BxX,EAAKypB,YAAY98E,KACjB1I,KAAKi0F,oBAAoBz3F,EAASu/D,EAAKypB,YAAYzF,cAEnD//E,KAAK6zF,YAAYr3F,EAASu/D,EAAKypB,YAAYp5E,GAAGnP,KAAM8+D,EAAKypB,YAAYp5E,GAAGnC,OAC5E8xD,EAAK0pB,WAAa,GAClB1pB,EAAK13D,OAAS,SACT,CAGL,GAFA03D,EAAKypB,YAAc,KACnBzpB,EAAK0pB,WAAazlF,KAAKk0F,sBAAsB13F,GACzCwD,KAAKyuF,cAAc,QACjBzuF,KAAK0I,OAASkG,EAAMuiD,QAAUnxD,KAAK++E,aACvChjB,EAAK13D,OAASrE,KAAKgiF,oBACd,CACL,IAAK,IAAItlF,EAAI,EAAGyL,EAAO4zD,EAAK0pB,WAAY/oF,EAAIyL,EAAK9H,OAAQ3D,GAAK,EAAG,CAE/D,IAAIy3F,EAAOhsF,EAAKzL,GAEhBsD,KAAKo0F,gBAAgBD,EAAKE,OAE1Br0F,KAAKs0F,iBAAiBH,EAAKE,OAG7Bt4B,EAAK13D,OAAS,KAEhBrE,KAAK8+E,YAEP,OAAO9+E,KAAK0zE,WAAW3X,EAAM,2BAG/BuzB,EAAKuE,YAAc,SAASr3F,EAASS,EAAMwiC,GACpCjjC,IACD4tF,EAAI5tF,EAASS,IACb+C,KAAKgvF,iBAAiBvvD,EAAK,qBAAuBxiC,EAAO,KAC7DT,EAAQS,IAAQ,IAGlBqyF,EAAKiF,mBAAqB,SAAS/3F,EAASg4F,GAC1C,IAAI9rF,EAAO8rF,EAAI9rF,KACf,GAAa,eAATA,EACA1I,KAAK6zF,YAAYr3F,EAASg4F,EAAIv3F,KAAMu3F,EAAIvqF,YACvC,GAAa,kBAATvB,EACL,IAAK,IAAIhM,EAAI,EAAGyL,EAAOqsF,EAAIviC,WAAYv1D,EAAIyL,EAAK9H,OAAQ3D,GAAK,EAC7D,CACE,IAAIsrB,EAAO7f,EAAKzL,GAEhBsD,KAAKu0F,mBAAmB/3F,EAASwrB,QAElC,GAAa,iBAATtf,EACL,IAAK,IAAIkpF,EAAM,EAAG6C,EAASD,EAAIhS,SAAUoP,EAAM6C,EAAOp0F,OAAQuxF,GAAO,EAAG,CACxE,IAAI8C,EAAMD,EAAO7C,GAEX8C,GAAO10F,KAAKu0F,mBAAmB/3F,EAASk4F,OAEhC,aAAThsF,EACL1I,KAAKu0F,mBAAmB/3F,EAASg4F,EAAI72F,OACvB,sBAAT+K,EACL1I,KAAKu0F,mBAAmB/3F,EAASg4F,EAAI5/E,MACvB,gBAATlM,EACL1I,KAAKu0F,mBAAmB/3F,EAASg4F,EAAInU,UACvB,4BAAT33E,GACL1I,KAAKu0F,mBAAmB/3F,EAASg4F,EAAI7V,aAG3C2Q,EAAK2E,oBAAsB,SAASz3F,EAASm4F,GAC3C,GAAKn4F,EACL,IAAK,IAAIE,EAAI,EAAGyL,EAAOwsF,EAAOj4F,EAAIyL,EAAK9H,OAAQ3D,GAAK,EAClD,CACA,IAAI0kF,EAAOj5E,EAAKzL,GAEhBsD,KAAKu0F,mBAAmB/3F,EAAS4kF,EAAKh1E,MAI1CkjF,EAAK0E,2BAA6B,WAChC,MAA6B,QAAtBh0F,KAAK0I,KAAK0tE,SACO,UAAtBp2E,KAAK0I,KAAK0tE,SACY,UAAtBp2E,KAAK0I,KAAK0tE,SACY,aAAtBp2E,KAAK0I,KAAK0tE,SACVp2E,KAAKwvF,SACLxvF,KAAK4vF,mBAKTN,EAAK4E,sBAAwB,SAAS13F,GACpC,IAAI8yE,EAAQ,GAAIx0B,GAAQ,EAGxB,IADA96C,KAAKg/E,OAAOpwE,EAAMqrE,SACVj6E,KAAK4+E,IAAIhwE,EAAMsrE,SAAS,CAC9B,GAAKp/B,EAGIA,GAAQ,OADf,GADA96C,KAAKg/E,OAAOpwE,EAAMyrE,OACdr6E,KAAK4uF,mBAAmBhgF,EAAMsrE,QAAW,MAG/C,IAAIne,EAAO/7D,KAAKmzE,YAChBpX,EAAKs4B,MAAQr0F,KAAKy/E,YAAW,GAC7B1jB,EAAK64B,SAAW50F,KAAKyuF,cAAc,MAAQzuF,KAAKy/E,YAAW,GAAQ1jB,EAAKs4B,MACxEr0F,KAAK6zF,YAAYr3F,EAASu/D,EAAK64B,SAAS33F,KAAM8+D,EAAK64B,SAAS3qF,OAC5DqlE,EAAMzvE,KAAKG,KAAK0zE,WAAW3X,EAAM,oBAEnC,OAAOuT,GAKTggB,EAAKwB,YAAc,SAAS/0B,GAY1B,OAXA/7D,KAAKuhB,OAEDvhB,KAAK0I,OAASkG,EAAMuiD,QACtB4K,EAAK0pB,WAAa1P,EAClBha,EAAK13D,OAASrE,KAAKgiF,kBAEnBjmB,EAAK0pB,WAAazlF,KAAK60F,wBACvB70F,KAAK0uF,iBAAiB,QACtB3yB,EAAK13D,OAASrE,KAAK0I,OAASkG,EAAMuiD,OAASnxD,KAAKgiF,gBAAkBhiF,KAAK++E,cAEzE/+E,KAAK8+E,YACE9+E,KAAK0zE,WAAW3X,EAAM,sBAK/BuzB,EAAKuF,sBAAwB,WAC3B,IAAIvlB,EAAQ,GAAIx0B,GAAQ,EACxB,GAAI96C,KAAK0I,OAASkG,EAAM3R,KAAM,CAE5B,IAAI8+D,EAAO/7D,KAAKmzE,YAIhB,GAHApX,EAAKs4B,MAAQr0F,KAAKy/E,aAClBz/E,KAAKi/E,UAAUljB,EAAKs4B,MAhlCL,GAilCf/kB,EAAMzvE,KAAKG,KAAK0zE,WAAW3X,EAAM,4BAC5B/7D,KAAK4+E,IAAIhwE,EAAMyrE,OAAU,OAAO/K,EAEvC,GAAItvE,KAAK0I,OAASkG,EAAMy6E,KAAM,CAC5B,IAAIyL,EAAS90F,KAAKmzE,YAMlB,OALAnzE,KAAKuhB,OACLvhB,KAAK0uF,iBAAiB,MACtBoG,EAAOT,MAAQr0F,KAAKy/E,aACpBz/E,KAAKi/E,UAAU6V,EAAOT,MAzlCP,GA0lCf/kB,EAAMzvE,KAAKG,KAAK0zE,WAAWohB,EAAQ,6BAC5BxlB,EAGT,IADAtvE,KAAKg/E,OAAOpwE,EAAMqrE,SACVj6E,KAAK4+E,IAAIhwE,EAAMsrE,SAAS,CAC9B,GAAKp/B,EAGIA,GAAQ,OADf,GADA96C,KAAKg/E,OAAOpwE,EAAMyrE,OACdr6E,KAAK4uF,mBAAmBhgF,EAAMsrE,QAAW,MAG/C,IAAI6a,EAAS/0F,KAAKmzE,YAClB4hB,EAAOC,SAAWh1F,KAAKy/E,YAAW,GAC9Bz/E,KAAKyuF,cAAc,MACrBsG,EAAOV,MAAQr0F,KAAKy/E,cAEpBz/E,KAAKo0F,gBAAgBW,EAAOC,UAC5BD,EAAOV,MAAQU,EAAOC,UAExBh1F,KAAKi/E,UAAU8V,EAAOV,MA5mCP,GA6mCf/kB,EAAMzvE,KAAKG,KAAK0zE,WAAWqhB,EAAQ,oBAErC,OAAOzlB,GAITggB,EAAKC,uBAAyB,SAAS0F,GACrC,IAAK,IAAIv4F,EAAI,EAAGA,EAAIu4F,EAAW50F,QAAUL,KAAKk1F,qBAAqBD,EAAWv4F,MAAOA,EACnFu4F,EAAWv4F,GAAGy4F,UAAYF,EAAWv4F,GAAGiiF,WAAW0D,IAAI78E,MAAM,GAAI,IAGrE8pF,EAAK4F,qBAAuB,SAAS/C,GACnC,MACqB,wBAAnBA,EAAUzpF,MACoB,YAA9BypF,EAAUxT,WAAWj2E,MACiB,iBAA/BypF,EAAUxT,WAAWhhF,QAEK,MAAhCqC,KAAKoyE,MAAM+f,EAAUloF,QAAmD,MAAhCjK,KAAKoyE,MAAM+f,EAAUloF,SAIlE,IAAImrF,EAAO9J,EAAOhtF,UAKlB82F,EAAKhE,aAAe,SAASr1B,EAAMs5B,EAAWtG,GAC5C,GAAI/uF,KAAKmJ,QAAQ0qE,aAAe,GAAK9X,EACnC,OAAQA,EAAKrzD,MACb,IAAK,aACC1I,KAAKitF,SAAyB,UAAdlxB,EAAK9+D,MACrB+C,KAAKm1E,MAAMpZ,EAAK9xD,MAAO,6DAC3B,MAEF,IAAK,gBACL,IAAK,eACL,IAAK,cACH,MAEF,IAAK,mBACH8xD,EAAKrzD,KAAO,gBACRqmF,GAA0B/uF,KAAK8uF,mBAAmBC,GAAwB,GAC9E,IAAK,IAAIryF,EAAI,EAAGyL,EAAO4zD,EAAK9J,WAAYv1D,EAAIyL,EAAK9H,OAAQ3D,GAAK,EAAG,CAC/D,IAAIsrB,EAAO7f,EAAKzL,GAElBsD,KAAKoxF,aAAappE,EAAMqtE,GAON,gBAAdrtE,EAAKtf,MACmB,iBAAvBsf,EAAKq4D,SAAS33E,MAAkD,kBAAvBsf,EAAKq4D,SAAS33E,MAExD1I,KAAKm1E,MAAMntD,EAAKq4D,SAASp2E,MAAO,oBAGpC,MAEF,IAAK,WAEe,SAAd8xD,EAAKqjB,MAAmBp/E,KAAKm1E,MAAMpZ,EAAK99D,IAAIgM,MAAO,iDACvDjK,KAAKoxF,aAAar1B,EAAKp+D,MAAO03F,GAC9B,MAEF,IAAK,kBACHt5B,EAAKrzD,KAAO,eACRqmF,GAA0B/uF,KAAK8uF,mBAAmBC,GAAwB,GAC9E/uF,KAAKs1F,iBAAiBv5B,EAAKymB,SAAU6S,GACrC,MAEF,IAAK,gBACHt5B,EAAKrzD,KAAO,cACZ1I,KAAKoxF,aAAar1B,EAAKskB,SAAUgV,GACN,sBAAvBt5B,EAAKskB,SAAS33E,MACd1I,KAAKm1E,MAAMpZ,EAAKskB,SAASp2E,MAAO,6CACpC,MAEF,IAAK,uBACmB,MAAlB8xD,EAAKhU,UAAoB/nD,KAAKm1E,MAAMpZ,EAAKnnD,KAAKvM,IAAK,+DACvD0zD,EAAKrzD,KAAO,2BACLqzD,EAAKhU,SACZ/nD,KAAKoxF,aAAar1B,EAAKnnD,KAAMygF,GAG/B,IAAK,oBACH,MAEF,IAAK,0BACHr1F,KAAKoxF,aAAar1B,EAAK4iB,WAAY0W,EAAWtG,GAC9C,MAEF,IAAK,mBACH,IAAKsG,EAAa,MAEpB,QACEr1F,KAAKm1E,MAAMpZ,EAAK9xD,MAAO,4BAEhB8kF,GAA0B/uF,KAAK8uF,mBAAmBC,GAAwB,GACrF,OAAOhzB,GAKTq5B,EAAKE,iBAAmB,SAASC,EAAUF,GAEzC,IADA,IAAIhtF,EAAMktF,EAASl1F,OACV3D,EAAI,EAAGA,EAAI2L,EAAK3L,IAAK,CAC5B,IAAIg4F,EAAMa,EAAS74F,GACfg4F,GAAO10F,KAAKoxF,aAAasD,EAAKW,GAEpC,GAAIhtF,EAAK,CACP,IAAI80C,EAAOo4C,EAASltF,EAAM,GACO,IAA7BrI,KAAKmJ,QAAQ0qE,aAAqBwhB,GAAal4C,GAAsB,gBAAdA,EAAKz0C,MAAiD,eAAvBy0C,EAAKkjC,SAAS33E,MACpG1I,KAAK++E,WAAW5hC,EAAKkjC,SAASp2E,OAEpC,OAAOsrF,GAKTH,EAAKI,YAAc,SAASzG,GAC1B,IAAIhzB,EAAO/7D,KAAKmzE,YAGhB,OAFAnzE,KAAKuhB,OACLw6C,EAAKskB,SAAWrgF,KAAKshF,kBAAiB,EAAOyN,GACtC/uF,KAAK0zE,WAAW3X,EAAM,kBAG/Bq5B,EAAKK,iBAAmB,WACtB,IAAI15B,EAAO/7D,KAAKmzE,YAShB,OARAnzE,KAAKuhB,OAG4B,IAA7BvhB,KAAKmJ,QAAQ0qE,aAAqB7zE,KAAK0I,OAASkG,EAAM3R,MACtD+C,KAAK++E,aAEThjB,EAAKskB,SAAWrgF,KAAK0xF,mBAEd1xF,KAAK0zE,WAAW3X,EAAM,gBAK/Bq5B,EAAK1D,iBAAmB,WACtB,GAAI1xF,KAAKmJ,QAAQ0qE,aAAe,EAC9B,OAAQ7zE,KAAK0I,MACb,KAAKkG,EAAMmrE,SACT,IAAIhe,EAAO/7D,KAAKmzE,YAGhB,OAFAnzE,KAAKuhB,OACLw6C,EAAKymB,SAAWxiF,KAAK2yF,iBAAiB/jF,EAAMorE,UAAU,GAAM,GACrDh6E,KAAK0zE,WAAW3X,EAAM,gBAE/B,KAAKntD,EAAMqrE,OACT,OAAOj6E,KAAK6iF,UAAS,GAGzB,OAAO7iF,KAAKy/E,cAGd2V,EAAKzC,iBAAmB,SAASxP,EAAOE,EAAYD,GAElD,IADA,IAAIE,EAAO,GAAIxoC,GAAQ,GACf96C,KAAK4+E,IAAIuE,IAGf,GAFIroC,EAASA,GAAQ,EACd96C,KAAKg/E,OAAOpwE,EAAMyrE,OACrBgJ,GAAcrjF,KAAK0I,OAASkG,EAAMyrE,MACpCiJ,EAAKzjF,KAAK,UACL,IAAIujF,GAAsBpjF,KAAK4uF,mBAAmBzL,GACvD,MACK,GAAInjF,KAAK0I,OAASkG,EAAM45E,SAAU,CACvC,IAAIkN,EAAO11F,KAAKy1F,mBAChBz1F,KAAK21F,qBAAqBD,GAC1BpS,EAAKzjF,KAAK61F,GACN11F,KAAK0I,OAASkG,EAAMyrE,OAASr6E,KAAKm1E,MAAMn1E,KAAKiK,MAAO,iDACxDjK,KAAKg/E,OAAOmE,GACZ,MAEA,IAAIyS,EAAO51F,KAAK61F,kBAAkB71F,KAAKiK,MAAOjK,KAAK01E,UACnD11E,KAAK21F,qBAAqBC,GAC1BtS,EAAKzjF,KAAK+1F,GAGd,OAAOtS,GAGT8R,EAAKO,qBAAuB,SAASjoE,GACnC,OAAOA,GAKT0nE,EAAKS,kBAAoB,SAAStK,EAAU7V,EAAU9gE,GAEpD,GADAA,EAAOA,GAAQ5U,KAAK0xF,mBAChB1xF,KAAKmJ,QAAQ0qE,YAAc,IAAM7zE,KAAK4+E,IAAIhwE,EAAM8rE,IAAO,OAAO9lE,EAClE,IAAImnD,EAAO/7D,KAAKszF,YAAY/H,EAAU7V,GAGtC,OAFA3Z,EAAKnnD,KAAOA,EACZmnD,EAAKjnD,MAAQ9U,KAAKshF,mBACXthF,KAAK0zE,WAAW3X,EAAM,sBAU/Bq5B,EAAKnW,UAAY,SAASC,EAAM4W,EAAaC,GAG3C,YAFqB,IAAhBD,IAAyBA,EA9zChB,GAg0CN5W,EAAKx2E,MACb,IAAK,aA/zCY,IAg0CXotF,GAA8C,QAAd5W,EAAKjiF,MACrC+C,KAAKgvF,iBAAiB9P,EAAKj1E,MAAO,+CAClCjK,KAAKgzE,QAAUhzE,KAAK2rF,wBAAwBlkF,KAAKy3E,EAAKjiF,OACtD+C,KAAKgvF,iBAAiB9P,EAAKj1E,OAAQ6rF,EAAc,WAAa,iBAAmB5W,EAAKjiF,KAAO,mBAC7F84F,IACE3L,EAAI2L,EAAc7W,EAAKjiF,OACvB+C,KAAKgvF,iBAAiB9P,EAAKj1E,MAAO,uBACtC8rF,EAAa7W,EAAKjiF,OAAQ,GAz0ChB,IA20CR64F,GAt0CW,IAs0CkBA,GAAgC91F,KAAKg2F,YAAY9W,EAAKjiF,KAAM64F,EAAa5W,EAAKj1E,OAC/G,MAEF,IAAK,mBACC6rF,GAAe91F,KAAKgvF,iBAAiB9P,EAAKj1E,MAAO,6BACrD,MAEF,IAAK,gBACH,IAAK,IAAIvN,EAAI,EAAGyL,EAAO+2E,EAAKjtB,WAAYv1D,EAAIyL,EAAK9H,OAAQ3D,GAAK,EAC5D,CACF,IAAIsrB,EAAO7f,EAAKzL,GAEhBsD,KAAKi/E,UAAUj3D,EAAM8tE,EAAaC,GAElC,MAEF,IAAK,WAEH/1F,KAAKi/E,UAAUC,EAAKvhF,MAAOm4F,EAAaC,GACxC,MAEF,IAAK,eACH,IAAK,IAAInE,EAAM,EAAG6C,EAASvV,EAAKsD,SAAUoP,EAAM6C,EAAOp0F,OAAQuxF,GAAO,EAAG,CACvE,IAAIgE,EAAOnB,EAAO7C,GAEhBgE,GAAQ51F,KAAKi/E,UAAU2W,EAAME,EAAaC,GAE9C,MAEF,IAAK,oBACH/1F,KAAKi/E,UAAUC,EAAKtqE,KAAMkhF,EAAaC,GACvC,MAEF,IAAK,cACH/1F,KAAKi/E,UAAUC,EAAKmB,SAAUyV,EAAaC,GAC3C,MAEF,IAAK,0BACH/1F,KAAKi/E,UAAUC,EAAKP,WAAYmX,EAAaC,GAC7C,MAEF,QACE/1F,KAAKm1E,MAAM+J,EAAKj1E,OAAQ6rF,EAAc,UAAY,gBAAkB,aAMxE,IAAIG,EAAO3K,EAAOhtF,UAOlB23F,EAAKC,eAAiB,SAASluE,EAAMmuE,EAAUpH,GAC7C,KAAI/uF,KAAKmJ,QAAQ0qE,aAAe,GAAmB,kBAAd7rD,EAAKtf,MAEtC1I,KAAKmJ,QAAQ0qE,aAAe,IAAM7rD,EAAKk6D,UAAYl6D,EAAKo8B,QAAUp8B,EAAKouE,YAA3E,CAEA,IACIn5F,EADAgB,EAAM+pB,EAAK/pB,IAEf,OAAQA,EAAIyK,MACZ,IAAK,aAAczL,EAAOgB,EAAIhB,KAAM,MACpC,IAAK,UAAWA,EAAO+lE,OAAO/kE,EAAIN,OAAQ,MAC1C,QAAS,OAET,IAAIyhF,EAAOp3D,EAAKo3D,KAChB,GAAIp/E,KAAKmJ,QAAQ0qE,aAAe,EACjB,cAAT52E,GAAiC,SAATmiF,IACtB+W,EAAStuF,QACPknF,GAA0BA,EAAuBR,YAAc,EAAKQ,EAAuBR,YAActwF,EAAIgM,MAE1GjK,KAAKgvF,iBAAiB/wF,EAAIgM,MAAO,uCAE1CksF,EAAStuF,OAAQ,OAPrB,CAYA,IAAIylB,EAAQ6oE,EADZl5F,EAAO,IAAMA,GAEb,GAAIqwB,GAEW,SAAT8xD,EACap/E,KAAKgzE,QAAU1lD,EAAMuyD,MAAQvyD,EAAM/vB,KAAO+vB,EAAMvnB,IAEhDunB,EAAMuyD,MAAQvyD,EAAM8xD,KAGjCp/E,KAAKgvF,iBAAiB/wF,EAAIgM,MAAO,iCAErCqjB,EAAQ6oE,EAASl5F,GAAQ,CACvB4iF,MAAM,EACNtiF,KAAK,EACLwI,KAAK,GAGTunB,EAAM8xD,IAAQ,KAkBhB6W,EAAKhW,gBAAkB,SAASkB,EAAM4N,GACpC,IAAIxD,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SACvCwJ,EAAOl/E,KAAKshF,iBAAiBH,EAAM4N,GACvC,GAAI/uF,KAAK0I,OAASkG,EAAMyrE,MAAO,CAC7B,IAAIte,EAAO/7D,KAAKszF,YAAY/H,EAAU7V,GAEtC,IADA3Z,EAAKwlB,YAAc,CAACrC,GACbl/E,KAAK4+E,IAAIhwE,EAAMyrE,QAAUte,EAAKwlB,YAAY1hF,KAAKG,KAAKshF,iBAAiBH,EAAM4N,IAClF,OAAO/uF,KAAK0zE,WAAW3X,EAAM,sBAE/B,OAAOmjB,GAMT+W,EAAK3U,iBAAmB,SAASH,EAAM4N,EAAwBsH,GAC7D,GAAIr2F,KAAKwuF,aAAa,SAAU,CAC9B,GAAIxuF,KAAKgtF,YAAe,OAAOhtF,KAAKs2F,WAAWnV,GAGxCnhF,KAAKosF,aAAc,EAG5B,IAAImK,GAAyB,EAAOC,GAAkB,EAAGC,GAAoB,EAAGC,GAAsB,EAClG3H,GACFyH,EAAiBzH,EAAuBV,oBACxCoI,EAAmB1H,EAAuBX,cAC1CsI,EAAqB3H,EAAuBZ,gBAC5CY,EAAuBV,oBAAsBU,EAAuBX,cAAgBW,EAAuBZ,iBAAmB,IAE9HY,EAAyB,IAAIb,EAC7BqI,GAAyB,GAG3B,IAAIhL,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SACvC11E,KAAK0I,OAASkG,EAAMurE,QAAUn6E,KAAK0I,OAASkG,EAAM3R,OAClD+C,KAAKusF,iBAAmBvsF,KAAKiK,OACjC,IAAI2K,EAAO5U,KAAK8hF,sBAAsBX,EAAM4N,GAE5C,GADIsH,IAAkBzhF,EAAOyhF,EAAex5F,KAAKmD,KAAM4U,EAAM22E,EAAU7V,IACnE11E,KAAK0I,KAAKmwE,SAAU,CACtB,IAAI9c,EAAO/7D,KAAKszF,YAAY/H,EAAU7V,GAQtC,OAPA3Z,EAAKhU,SAAW/nD,KAAKrC,MACrBo+D,EAAKnnD,KAAO5U,KAAK0I,OAASkG,EAAM8rE,GAAK16E,KAAKoxF,aAAax8E,GAAM,EAAOm6E,GAA0Bn6E,EACzF2hF,GAA0BrI,EAAoBrxF,KAAKkyF,GACxDA,EAAuBZ,iBAAmB,EAC1CnuF,KAAKi/E,UAAUrqE,GACf5U,KAAKuhB,OACLw6C,EAAKjnD,MAAQ9U,KAAKshF,iBAAiBH,GAC5BnhF,KAAK0zE,WAAW3X,EAAM,wBAO/B,OALMw6B,GAA0Bv2F,KAAKkvF,sBAAsBH,GAAwB,GAE/EyH,GAAkB,IAAKzH,EAAuBV,oBAAsBmI,GACpEC,GAAoB,IAAK1H,EAAuBX,cAAgBqI,GAChEC,GAAsB,IAAK3H,EAAuBZ,gBAAkBuI,GACjE9hF,GAKTqhF,EAAKnU,sBAAwB,SAASX,EAAM4N,GAC1C,IAAIxD,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SACvCwJ,EAAOl/E,KAAK6hF,aAAaV,EAAM4N,GACnC,GAAI/uF,KAAKkvF,sBAAsBH,GAA2B,OAAO7P,EACjE,GAAIl/E,KAAK4+E,IAAIhwE,EAAM4rE,UAAW,CAC5B,IAAIze,EAAO/7D,KAAKszF,YAAY/H,EAAU7V,GAKtC,OAJA3Z,EAAKt0D,KAAOy3E,EACZnjB,EAAKokB,WAAangF,KAAKshF,mBACvBthF,KAAKg/E,OAAOpwE,EAAM2rE,OAClBxe,EAAKqkB,UAAYpgF,KAAKshF,iBAAiBH,GAChCnhF,KAAK0zE,WAAW3X,EAAM,yBAE/B,OAAOmjB,GAKT+W,EAAKpU,aAAe,SAASV,EAAM4N,GACjC,IAAIxD,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SACvCwJ,EAAOl/E,KAAK2hF,gBAAgBoN,GAAwB,GACxD,OAAI/uF,KAAKkvF,sBAAsBH,IACxB7P,EAAKj1E,QAAUshF,GAA0B,4BAAdrM,EAAKx2E,KAD0Bw2E,EACkBl/E,KAAKwhF,YAAYtC,EAAMqM,EAAU7V,GAAW,EAAGyL,IASpI8U,EAAKzU,YAAc,SAAS5sE,EAAM+hF,EAAcC,EAAcnV,EAASN,GACrE,IAAIO,EAAO1hF,KAAK0I,KAAKovE,MACrB,GAAY,MAAR4J,KAAkBP,GAAQnhF,KAAK0I,OAASkG,EAAMi1C,MAC5C69B,EAAOD,EAAS,CAClB,IAAIoV,EAAU72F,KAAK0I,OAASkG,EAAMg6E,WAAa5oF,KAAK0I,OAASkG,EAAMi6E,WAC/DxpE,EAAKrf,KAAKrC,MACdqC,KAAKuhB,OACL,IAAIgqE,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SACvC5gE,EAAQ9U,KAAKwhF,YAAYxhF,KAAK2hF,gBAAgB,MAAM,GAAQ4J,EAAU7V,EAAUgM,EAAMP,GACtFplB,EAAO/7D,KAAK82F,YAAYH,EAAcC,EAAchiF,EAAME,EAAOuK,EAAIw3E,GACzE,OAAO72F,KAAKwhF,YAAYzlB,EAAM46B,EAAcC,EAAcnV,EAASN,GAGvE,OAAOvsE,GAGTqhF,EAAKa,YAAc,SAASvL,EAAU7V,EAAU9gE,EAAME,EAAOuK,EAAIw3E,GAC/D,IAAI96B,EAAO/7D,KAAKszF,YAAY/H,EAAU7V,GAItC,OAHA3Z,EAAKnnD,KAAOA,EACZmnD,EAAKhU,SAAW1oC,EAChB08C,EAAKjnD,MAAQA,EACN9U,KAAK0zE,WAAW3X,EAAM86B,EAAU,oBAAsB,qBAK/DZ,EAAKtU,gBAAkB,SAASoN,EAAwBgI,GACtD,IAAqD7X,EAAjDqM,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SAC3C,GAAI11E,KAAKwuF,aAAa,WAAaxuF,KAAKitF,UAAajtF,KAAK+yE,YAAc/yE,KAAKmJ,QAAQ0hF,2BACnF3L,EAAOl/E,KAAKg3F,aACZD,GAAW,OACN,GAAI/2F,KAAK0I,KAAKuuD,OAAQ,CAC3B,IAAI8E,EAAO/7D,KAAKmzE,YAAa1xE,EAASzB,KAAK0I,OAASkG,EAAM+5E,OAC1D5sB,EAAKhU,SAAW/nD,KAAKrC,MACrBo+D,EAAK9E,QAAS,EACdj3D,KAAKuhB,OACLw6C,EAAKskB,SAAWrgF,KAAK2hF,gBAAgB,MAAM,GAC3C3hF,KAAKkvF,sBAAsBH,GAAwB,GAC/CttF,EAAUzB,KAAKi/E,UAAUljB,EAAKskB,UACzBrgF,KAAKgzE,QAA4B,WAAlBjX,EAAKhU,UACG,eAAvBgU,EAAKskB,SAAS33E,KACnB1I,KAAKgvF,iBAAiBjzB,EAAK9xD,MAAO,0CAC/B8sF,GAAW,EAClB7X,EAAOl/E,KAAK0zE,WAAW3X,EAAMt6D,EAAS,mBAAqB,uBACtD,CAEL,GADAy9E,EAAOl/E,KAAK4zF,oBAAoB7E,GAC5B/uF,KAAKkvF,sBAAsBH,GAA2B,OAAO7P,EACjE,KAAOl/E,KAAK0I,KAAKswE,UAAYh5E,KAAK6+E,sBAAsB,CACtD,IAAIiW,EAAS90F,KAAKszF,YAAY/H,EAAU7V,GACxCof,EAAO/sC,SAAW/nD,KAAKrC,MACvBm3F,EAAO79B,QAAS,EAChB69B,EAAOzU,SAAWnB,EAClBl/E,KAAKi/E,UAAUC,GACfl/E,KAAKuhB,OACL29D,EAAOl/E,KAAK0zE,WAAWohB,EAAQ,qBAInC,OAAKiC,GAAY/2F,KAAK4+E,IAAIhwE,EAAM06E,UACrBtpF,KAAK82F,YAAYvL,EAAU7V,EAAUwJ,EAAMl/E,KAAK2hF,gBAAgB,MAAM,GAAQ,MAAM,GAEpFzC,GAKb+W,EAAKrC,oBAAsB,SAAS7E,GAClC,IAAIxD,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SACvCwJ,EAAOl/E,KAAKgiF,cAAc+M,GAC1BkI,EAAoC,4BAAd/X,EAAKx2E,MAA+F,MAAzD1I,KAAKoyE,MAAM5sE,MAAMxF,KAAKisF,aAAcjsF,KAAKksF,YAC9G,GAAIlsF,KAAKkvF,sBAAsBH,IAA2BkI,EAAuB,OAAO/X,EACxF,IAAI33B,EAASvnD,KAAK+hF,gBAAgB7C,EAAMqM,EAAU7V,GAKlD,OAJIqZ,GAA0C,qBAAhBxnC,EAAO7+C,OAC/BqmF,EAAuBV,qBAAuB9mC,EAAOt9C,QAAS8kF,EAAuBV,qBAAuB,GAC5GU,EAAuBT,mBAAqB/mC,EAAOt9C,QAAS8kF,EAAuBT,mBAAqB,IAEvG/mC,GAGT0uC,EAAKlU,gBAAkB,SAAS56E,EAAMokF,EAAU7V,EAAUuM,GAGxD,IAFA,IAAIiV,EAAkBl3F,KAAKmJ,QAAQ0qE,aAAe,GAAmB,eAAd1sE,EAAKuB,MAAuC,UAAdvB,EAAKlK,MACtF+C,KAAKksF,aAAe/kF,EAAKkB,MAAQrI,KAAK6+E,sBAAmE,UAA3C7+E,KAAKoyE,MAAM5sE,MAAM2B,EAAK8C,MAAO9C,EAAKkB,OACvF,CACX,IAAI+K,EAAUpT,KAAKm3F,eAAehwF,EAAMokF,EAAU7V,EAAUuM,EAASiV,GACrE,GAAI9jF,IAAYjM,GAAyB,4BAAjBiM,EAAQ1K,KAAsC,OAAO0K,EAC7EjM,EAAOiM,IAIX6iF,EAAKkB,eAAiB,SAAShwF,EAAMokF,EAAU7V,EAAUuM,EAASiV,GAChE,IAAIhV,EAAWliF,KAAK4+E,IAAIhwE,EAAMmrE,UAC9B,GAAImI,GAAYliF,KAAK4+E,IAAIhwE,EAAM4O,KAAM,CACnC,IAAIu+C,EAAO/7D,KAAKszF,YAAY/H,EAAU7V,GACtC3Z,EAAK39D,OAAS+I,EACd40D,EAAK19D,SAAW6jF,EAAWliF,KAAKigF,kBAAoBjgF,KAAKy/E,WAA0C,UAA/Bz/E,KAAKmJ,QAAQwhF,eACjF5uB,EAAKmmB,WAAaA,EACdA,GAAYliF,KAAKg/E,OAAOpwE,EAAMorE,UAClC7yE,EAAOnH,KAAK0zE,WAAW3X,EAAM,yBACxB,IAAKkmB,GAAWjiF,KAAK4+E,IAAIhwE,EAAMurE,QAAS,CAC7C,IAAI4U,EAAyB,IAAIb,EAAqBoE,EAActyF,KAAKwsF,SAAU+F,EAAcvyF,KAAKysF,SAAU+F,EAAmBxyF,KAAK0sF,cACxI1sF,KAAKwsF,SAAW,EAChBxsF,KAAKysF,SAAW,EAChBzsF,KAAK0sF,cAAgB,EACrB,IAAI6I,EAAWv1F,KAAKoiF,cAAcxzE,EAAMwrE,OAAQp6E,KAAKmJ,QAAQ0qE,aAAe,GAAmB,WAAd1sE,EAAKuB,MAAmB,EAAOqmF,GAChH,GAAImI,IAAoBl3F,KAAK6+E,sBAAwB7+E,KAAK4+E,IAAIhwE,EAAMy5E,OAQlE,OAPAroF,KAAK8uF,mBAAmBC,GAAwB,GAChD/uF,KAAKovF,iCACDpvF,KAAK0sF,cAAgB,GACrB1sF,KAAKm1E,MAAMn1E,KAAK0sF,cAAe,6DACnC1sF,KAAKwsF,SAAW8F,EAChBtyF,KAAKysF,SAAW8F,EAChBvyF,KAAK0sF,cAAgB8F,EACdxyF,KAAKo3F,qBAAqBp3F,KAAKszF,YAAY/H,EAAU7V,GAAW6f,GAAU,GAEnFv1F,KAAKkvF,sBAAsBH,GAAwB,GACnD/uF,KAAKwsF,SAAW8F,GAAetyF,KAAKwsF,SACpCxsF,KAAKysF,SAAW8F,GAAevyF,KAAKysF,SACpCzsF,KAAK0sF,cAAgB8F,GAAoBxyF,KAAK0sF,cAC9C,IAAIoI,EAAS90F,KAAKszF,YAAY/H,EAAU7V,GAGxC,GAFAof,EAAO3S,OAASh7E,EAChB2tF,EAAO5uF,UAAYqvF,EACQ,WAAvBT,EAAO3S,OAAOz5E,KAAmB,CACH,IAA5BosF,EAAO5uF,UAAU7F,QACnBL,KAAKm1E,MAAM2f,EAAO7qF,MAAO,0CAG3B,IAAIotF,EAAYvC,EAAO5uF,UAAU,GAC7BmxF,GAAgC,kBAAnBA,EAAU3uF,MACzB1I,KAAKm1E,MAAMkiB,EAAUptF,MAAO,kCAGhC9C,EAAOnH,KAAK0zE,WAAWohB,EAAQ,uBAC1B,GAAI90F,KAAK0I,OAASkG,EAAM65E,UAAW,CACxC,IAAIsM,EAAS/0F,KAAKszF,YAAY/H,EAAU7V,GACxCqf,EAAOlpB,IAAM1kE,EACb4tF,EAAOuC,MAAQt3F,KAAKu3F,cAAc,CAACC,UAAU,IAC7CrwF,EAAOnH,KAAK0zE,WAAWqhB,EAAQ,4BAEjC,OAAO5tF,GAQT8uF,EAAKjU,cAAgB,SAAS+M,GAGxB/uF,KAAK0I,OAASkG,EAAM6rE,OAASz6E,KAAKi9E,aAEtC,IAAIlhB,EAAM07B,EAAaz3F,KAAKusF,mBAAqBvsF,KAAKiK,MACtD,OAAQjK,KAAK0I,MACb,KAAKkG,EAAM46E,OAeT,OAdKxpF,KAAKktF,YACNltF,KAAKm1E,MAAMn1E,KAAKiK,MAAO,oCAC3B8xD,EAAO/7D,KAAKmzE,YACZnzE,KAAKuhB,OACDvhB,KAAK0I,OAASkG,EAAMurE,QAAWn6E,KAAKmtF,kBACpCntF,KAAKm1E,MAAMpZ,EAAK9xD,MAAO,kDAOvBjK,KAAK0I,OAASkG,EAAM4O,KAAOxd,KAAK0I,OAASkG,EAAMmrE,UAAY/5E,KAAK0I,OAASkG,EAAMurE,QAC/En6E,KAAK++E,aACF/+E,KAAK0zE,WAAW3X,EAAM,SAE/B,KAAKntD,EAAM6oE,MAGT,OAFA1b,EAAO/7D,KAAKmzE,YACZnzE,KAAKuhB,OACEvhB,KAAK0zE,WAAW3X,EAAM,kBAE/B,KAAKntD,EAAM3R,KACT,IAAIsuF,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SAAU2F,EAAcr7E,KAAKq7E,YACpEjvE,EAAKpM,KAAKy/E,YAAW,GACzB,GAAIz/E,KAAKmJ,QAAQ0qE,aAAe,IAAMwH,GAA2B,UAAZjvE,EAAGnP,OAAqB+C,KAAK6+E,sBAAwB7+E,KAAK4+E,IAAIhwE,EAAMmoE,WACrH,OAAO/2E,KAAKkgF,cAAclgF,KAAKszF,YAAY/H,EAAU7V,GAAW,GAAG,GAAO,GAC9E,GAAI+hB,IAAez3F,KAAK6+E,qBAAsB,CAC5C,GAAI7+E,KAAK4+E,IAAIhwE,EAAMy5E,OACf,OAAOroF,KAAKo3F,qBAAqBp3F,KAAKszF,YAAY/H,EAAU7V,GAAW,CAACtpE,IAAK,GACjF,GAAIpM,KAAKmJ,QAAQ0qE,aAAe,GAAiB,UAAZznE,EAAGnP,MAAoB+C,KAAK0I,OAASkG,EAAM3R,OAASo+E,EAIvF,OAHAjvE,EAAKpM,KAAKy/E,YAAW,IACjBz/E,KAAK6+E,sBAAyB7+E,KAAK4+E,IAAIhwE,EAAMy5E,QAC7CroF,KAAK++E,aACF/+E,KAAKo3F,qBAAqBp3F,KAAKszF,YAAY/H,EAAU7V,GAAW,CAACtpE,IAAK,GAGjF,OAAOA,EAET,KAAKwC,EAAMisE,OACT,IAAIl9E,EAAQqC,KAAKrC,MAGjB,OAFAo+D,EAAO/7D,KAAK03F,aAAa/5F,EAAMA,QAC1Bg6F,MAAQ,CAACC,QAASj6F,EAAMi6F,QAASvtE,MAAO1sB,EAAM0sB,OAC5C0xC,EAET,KAAKntD,EAAMgsE,IAAK,KAAKhsE,EAAMuiD,OACzB,OAAOnxD,KAAK03F,aAAa13F,KAAKrC,OAEhC,KAAKiR,EAAM8oE,MAAO,KAAK9oE,EAAMgpE,MAAO,KAAKhpE,EAAMipE,OAK7C,OAJA9b,EAAO/7D,KAAKmzE,aACPx1E,MAAQqC,KAAK0I,OAASkG,EAAM8oE,MAAQ,KAAO13E,KAAK0I,OAASkG,EAAMgpE,MACpE7b,EAAKsmB,IAAMriF,KAAK0I,KAAK0tE,QACrBp2E,KAAKuhB,OACEvhB,KAAK0zE,WAAW3X,EAAM,WAE/B,KAAKntD,EAAMurE,OACT,IAAIlwE,EAAQjK,KAAKiK,MAAOi1E,EAAOl/E,KAAK63F,mCAAmCJ,GAOvE,OANI1I,IACEA,EAAuBV,oBAAsB,IAAMruF,KAAKqvF,qBAAqBnQ,KAC7E6P,EAAuBV,oBAAsBpkF,GAC7C8kF,EAAuBT,kBAAoB,IAC3CS,EAAuBT,kBAAoBrkF,IAE1Ci1E,EAET,KAAKtwE,EAAMmrE,SAIT,OAHAhe,EAAO/7D,KAAKmzE,YACZnzE,KAAKuhB,OACLw6C,EAAKymB,SAAWxiF,KAAKoiF,cAAcxzE,EAAMorE,UAAU,GAAM,EAAM+U,GACxD/uF,KAAK0zE,WAAW3X,EAAM,mBAE/B,KAAKntD,EAAMqrE,OACT,OAAOj6E,KAAK6iF,UAAS,EAAOkM,GAE9B,KAAKngF,EAAMmoE,UAGT,OAFAhb,EAAO/7D,KAAKmzE,YACZnzE,KAAKuhB,OACEvhB,KAAKkgF,cAAcnkB,EAAM,GAElC,KAAKntD,EAAMpG,OACT,OAAOxI,KAAKmwF,WAAWnwF,KAAKmzE,aAAa,GAE3C,KAAKvkE,EAAM4oE,KACT,OAAOx3E,KAAK8iF,WAEd,KAAKl0E,EAAM65E,UACT,OAAOzoF,KAAKu3F,gBAEd,KAAK3oF,EAAM+6E,QACT,OAAI3pF,KAAKmJ,QAAQ0qE,YAAc,GACtB7zE,KAAK83F,qBAEL93F,KAAK++E,aAGhB,QACE/+E,KAAK++E,eAITkX,EAAK6B,mBAAqB,WACxB,IAAI/7B,EAAO/7D,KAAKmzE,YAKhB,OAJAnzE,KAAKuhB,OACDvhB,KAAK0I,OAASkG,EAAMurE,QACtBn6E,KAAK++E,aAEA/+E,KAAK0zE,WAAW3X,EAAM,WAG/Bk6B,EAAKyB,aAAe,SAAS/5F,GAC3B,IAAIo+D,EAAO/7D,KAAKmzE,YAKhB,OAJApX,EAAKp+D,MAAQA,EACbo+D,EAAKsmB,IAAMriF,KAAKoyE,MAAM5sE,MAAMxF,KAAKiK,MAAOjK,KAAKqI,KACI,MAA7C0zD,EAAKsmB,IAAI9F,WAAWxgB,EAAKsmB,IAAIhiF,OAAS,KAAc07D,EAAKg8B,OAASh8B,EAAKsmB,IAAI78E,MAAM,GAAI,IACzFxF,KAAKuhB,OACEvhB,KAAK0zE,WAAW3X,EAAM,YAG/Bk6B,EAAKtW,qBAAuB,WAC1B3/E,KAAKg/E,OAAOpwE,EAAMurE,QAClB,IAAItzE,EAAM7G,KAAKigF,kBAEf,OADAjgF,KAAKg/E,OAAOpwE,EAAMwrE,QACXvzE,GAGTovF,EAAK4B,mCAAqC,SAASJ,GACjD,IAAqD5wF,EAAjD0kF,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SAAe0N,EAAqBpjF,KAAKmJ,QAAQ0qE,aAAe,EAC3G,GAAI7zE,KAAKmJ,QAAQ0qE,aAAe,EAAG,CACjC7zE,KAAKuhB,OAEL,IAEgHy2E,EAF5GC,EAAgBj4F,KAAKiK,MAAOiuF,EAAgBl4F,KAAK01E,SACjD6f,EAAW,GAAIz6C,GAAQ,EAAMq9C,GAAc,EAC3CpJ,EAAyB,IAAIb,EAAqBoE,EAActyF,KAAKwsF,SAAU+F,EAAcvyF,KAAKysF,SAItG,IAHAzsF,KAAKwsF,SAAW,EAChBxsF,KAAKysF,SAAW,EAETzsF,KAAK0I,OAASkG,EAAMwrE,QAAQ,CAEjC,GADAt/B,EAAQA,GAAQ,EAAQ96C,KAAKg/E,OAAOpwE,EAAMyrE,OACtC+I,GAAsBpjF,KAAK4uF,mBAAmBhgF,EAAMwrE,QAAQ,GAAO,CACrE+d,GAAc,EACd,MACK,GAAIn4F,KAAK0I,OAASkG,EAAM45E,SAAU,CACvCwP,EAAch4F,KAAKiK,MACnBsrF,EAAS11F,KAAKG,KAAKo4F,eAAep4F,KAAKy1F,qBACnCz1F,KAAK0I,OAASkG,EAAMyrE,OAASr6E,KAAKm1E,MAAMn1E,KAAKiK,MAAO,iDACxD,MAEAsrF,EAAS11F,KAAKG,KAAKshF,kBAAiB,EAAOyN,EAAwB/uF,KAAKo4F,iBAG5E,IAAIC,EAAcr4F,KAAKiK,MAAOquF,EAAct4F,KAAK01E,SAGjD,GAFA11E,KAAKg/E,OAAOpwE,EAAMwrE,QAEdqd,IAAez3F,KAAK6+E,sBAAwB7+E,KAAK4+E,IAAIhwE,EAAMy5E,OAK7D,OAJAroF,KAAK8uF,mBAAmBC,GAAwB,GAChD/uF,KAAKovF,iCACLpvF,KAAKwsF,SAAW8F,EAChBtyF,KAAKysF,SAAW8F,EACTvyF,KAAKu4F,oBAAoBhN,EAAU7V,EAAU6f,GAGjDA,EAASl1F,SAAU83F,GAAen4F,KAAK++E,WAAW/+E,KAAKisF,cACxD+L,GAAeh4F,KAAK++E,WAAWiZ,GACnCh4F,KAAKkvF,sBAAsBH,GAAwB,GACnD/uF,KAAKwsF,SAAW8F,GAAetyF,KAAKwsF,SACpCxsF,KAAKysF,SAAW8F,GAAevyF,KAAKysF,SAEhC8I,EAASl1F,OAAS,IACpBwG,EAAM7G,KAAKszF,YAAY2E,EAAeC,IAClC3W,YAAcgU,EAClBv1F,KAAKw4F,aAAa3xF,EAAK,qBAAsBwxF,EAAaC,IAE1DzxF,EAAM0uF,EAAS,QAGjB1uF,EAAM7G,KAAK2/E,uBAGb,GAAI3/E,KAAKmJ,QAAQ08E,eAAgB,CAC/B,IAAI4S,EAAMz4F,KAAKszF,YAAY/H,EAAU7V,GAErC,OADA+iB,EAAI9Z,WAAa93E,EACV7G,KAAK0zE,WAAW+kB,EAAK,2BAE5B,OAAO5xF,GAIXovF,EAAKmC,eAAiB,SAASjsF,GAC7B,OAAOA,GAGT8pF,EAAKsC,oBAAsB,SAAShN,EAAU7V,EAAU6f,GACtD,OAAOv1F,KAAKo3F,qBAAqBp3F,KAAKszF,YAAY/H,EAAU7V,GAAW6f,IASzE,IAAImD,EAAU,GAEdzC,EAAKnT,SAAW,WACd,IAAI/mB,EAAO/7D,KAAKmzE,YACZ1Q,EAAOziE,KAAKy/E,YAAW,GAC3B,GAAIz/E,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAK4+E,IAAIhwE,EAAM4O,KAAM,CACxDu+C,EAAK0G,KAAOA,EACZ,IAAI4Y,EAAcr7E,KAAKq7E,YAMvB,OALAtf,EAAK19D,SAAW2B,KAAKy/E,YAAW,IACL,WAAvB1jB,EAAK19D,SAASpB,MAAqBo+E,IACnCr7E,KAAKgvF,iBAAiBjzB,EAAK19D,SAAS4L,MAAO,sDAC1CjK,KAAK0tF,sBACN1tF,KAAKgvF,iBAAiBjzB,EAAK9xD,MAAO,4CAC/BjK,KAAK0zE,WAAW3X,EAAM,gBAE/B,IAAIwvB,EAAWvrF,KAAKiK,MAAOyrE,EAAW11E,KAAK01E,SAO3C,OANA3Z,EAAKomB,OAASniF,KAAK+hF,gBAAgB/hF,KAAKgiF,gBAAiBuJ,EAAU7V,GAAU,GACzE11E,KAAKmJ,QAAQ0qE,YAAc,IAA2B,WAArB9X,EAAKomB,OAAOz5E,MAC/C1I,KAAKm1E,MAAMpZ,EAAKomB,OAAOl4E,MAAO,mCAE5BjK,KAAK4+E,IAAIhwE,EAAMurE,QAAWpe,EAAK71D,UAAYlG,KAAKoiF,cAAcxzE,EAAMwrE,OAAQp6E,KAAKmJ,QAAQ0qE,aAAe,GAA0B,WAArB9X,EAAKomB,OAAOz5E,MAAmB,GACzIqzD,EAAK71D,UAAYwyF,EACjB14F,KAAK0zE,WAAW3X,EAAM,kBAK/Bk6B,EAAK0C,qBAAuB,SAAStsF,GACnC,IAAImrF,EAAWnrF,EAAImrF,SAEf5B,EAAO51F,KAAKmzE,YAiBhB,OAhBInzE,KAAK0I,OAASkG,EAAM25E,iBACjBiP,GACHx3F,KAAKgvF,iBAAiBhvF,KAAKiK,MAAO,oDAEpC2rF,EAAKj4F,MAAQ,CACX0kF,IAAKriF,KAAKrC,MACVi7F,OAAQ,OAGVhD,EAAKj4F,MAAQ,CACX0kF,IAAKriF,KAAKoyE,MAAM5sE,MAAMxF,KAAKiK,MAAOjK,KAAKqI,KAAK+F,QAAQ,SAAU,MAC9DwqF,OAAQ54F,KAAKrC,OAGjBqC,KAAKuhB,OACLq0E,EAAKl0F,KAAO1B,KAAK0I,OAASkG,EAAM65E,UACzBzoF,KAAK0zE,WAAWkiB,EAAM,oBAG/BK,EAAKsB,cAAgB,SAASlrF,QACf,IAARA,IAAiBA,EAAM,IAC5B,IAAImrF,EAAWnrF,EAAImrF,cAA4B,IAAbA,IAAsBA,GAAW,GAEnE,IAAIz7B,EAAO/7D,KAAKmzE,YAChBnzE,KAAKuhB,OACLw6C,EAAKwlB,YAAc,GACnB,IAAIsX,EAAS74F,KAAK24F,qBAAqB,CAACnB,SAAUA,IAElD,IADAz7B,EAAK+8B,OAAS,CAACD,IACPA,EAAOn3F,MACT1B,KAAK0I,OAASkG,EAAM+rE,KAAO36E,KAAKm1E,MAAMn1E,KAAKy/B,IAAK,iCACpDz/B,KAAKg/E,OAAOpwE,EAAM85E,cAClB3sB,EAAKwlB,YAAY1hF,KAAKG,KAAKigF,mBAC3BjgF,KAAKg/E,OAAOpwE,EAAMsrE,QAClBne,EAAK+8B,OAAOj5F,KAAKg5F,EAAS74F,KAAK24F,qBAAqB,CAACnB,SAAUA,KAGjE,OADAx3F,KAAKuhB,OACEvhB,KAAK0zE,WAAW3X,EAAM,oBAG/Bk6B,EAAK8C,YAAc,SAAS/wE,GAC1B,OAAQA,EAAKk6D,UAA8B,eAAlBl6D,EAAK/pB,IAAIyK,MAA2C,UAAlBsf,EAAK/pB,IAAIhB,OACjE+C,KAAK0I,OAASkG,EAAM3R,MAAQ+C,KAAK0I,OAASkG,EAAMgsE,KAAO56E,KAAK0I,OAASkG,EAAMuiD,QAAUnxD,KAAK0I,OAASkG,EAAMmrE,UAAY/5E,KAAK0I,KAAK0tE,SAAYp2E,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAK0I,OAASkG,EAAMy6E,QAChMrU,EAAUvtE,KAAKzH,KAAKoyE,MAAM5sE,MAAMxF,KAAKksF,WAAYlsF,KAAKiK,SAK3DgsF,EAAKpT,SAAW,SAASmW,EAAWjK,GAClC,IAAIhzB,EAAO/7D,KAAKmzE,YAAar4B,GAAQ,EAAMq7C,EAAW,GAGtD,IAFAp6B,EAAK9J,WAAa,GAClBjyD,KAAKuhB,QACGvhB,KAAK4+E,IAAIhwE,EAAMsrE,SAAS,CAC9B,GAAKp/B,EAGIA,GAAQ,OADf,GADA96C,KAAKg/E,OAAOpwE,EAAMyrE,OACdr6E,KAAK4uF,mBAAmBhgF,EAAMsrE,QAAW,MAG/C,IAAIlyD,EAAOhoB,KAAKi5F,cAAcD,EAAWjK,GACpCiK,GAAah5F,KAAKk2F,eAAeluE,EAAMmuE,EAAUpH,GACtDhzB,EAAK9J,WAAWpyD,KAAKmoB,GAEvB,OAAOhoB,KAAK0zE,WAAW3X,EAAMi9B,EAAY,gBAAkB,qBAG7D/C,EAAKgD,cAAgB,SAASD,EAAWjK,GACvC,IAA6ByE,EAAanC,EAAS9F,EAAU7V,EAAzD1tD,EAAOhoB,KAAKmzE,YAChB,GAAInzE,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAK4+E,IAAIhwE,EAAM45E,UAClD,OAAIwQ,GACFhxE,EAAKq4D,SAAWrgF,KAAKy/E,YAAW,GAC5Bz/E,KAAK0I,OAASkG,EAAMyrE,OACtBr6E,KAAKm1E,MAAMn1E,KAAKiK,MAAO,iDAElBjK,KAAK0zE,WAAW1rD,EAAM,iBAG3BhoB,KAAK0I,OAASkG,EAAMurE,QAAU4U,IAC5BA,EAAuBV,oBAAsB,IAC/CU,EAAuBV,oBAAsBruF,KAAKiK,OAEhD8kF,EAAuBT,kBAAoB,IAC7CS,EAAuBT,kBAAoBtuF,KAAKiK,QAIpD+d,EAAKq4D,SAAWrgF,KAAKshF,kBAAiB,EAAOyN,GAEzC/uF,KAAK0I,OAASkG,EAAMyrE,OAAS0U,GAA0BA,EAAuBX,cAAgB,IAChGW,EAAuBX,cAAgBpuF,KAAKiK,OAGvCjK,KAAK0zE,WAAW1rD,EAAM,kBAE3BhoB,KAAKmJ,QAAQ0qE,aAAe,IAC9B7rD,EAAKo8B,QAAS,EACdp8B,EAAKouE,WAAY,GACb4C,GAAajK,KACfxD,EAAWvrF,KAAKiK,MAChByrE,EAAW11E,KAAK01E,UAEbsjB,IACDxF,EAAcxzF,KAAK4+E,IAAIhwE,EAAMy6E,QAEnC,IAAIhO,EAAcr7E,KAAKq7E,YAUvB,OATAr7E,KAAK0iF,kBAAkB16D,IAClBgxE,IAAc3d,GAAer7E,KAAKmJ,QAAQ0qE,aAAe,IAAM2f,GAAexzF,KAAK+4F,YAAY/wE,IAClGqpE,GAAU,EACVmC,EAAcxzF,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAK4+E,IAAIhwE,EAAMy6E,MAC9DrpF,KAAK0iF,kBAAkB16D,EAAM+mE,IAE7BsC,GAAU,EAEZrxF,KAAKk5F,mBAAmBlxE,EAAMgxE,EAAWxF,EAAanC,EAAS9F,EAAU7V,EAAUqZ,EAAwB1T,GACpGr7E,KAAK0zE,WAAW1rD,EAAM,aAG/BiuE,EAAKiD,mBAAqB,SAASlxE,EAAMgxE,EAAWxF,EAAanC,EAAS9F,EAAU7V,EAAUqZ,EAAwB1T,GAIpH,IAHKmY,GAAenC,IAAYrxF,KAAK0I,OAASkG,EAAM2rE,OAChDv6E,KAAK++E,aAEL/+E,KAAK4+E,IAAIhwE,EAAM2rE,OACjBvyD,EAAKrqB,MAAQq7F,EAAYh5F,KAAK61F,kBAAkB71F,KAAKiK,MAAOjK,KAAK01E,UAAY11E,KAAKshF,kBAAiB,EAAOyN,GAC1G/mE,EAAKo3D,KAAO,YACP,GAAIp/E,KAAKmJ,QAAQ0qE,aAAe,GAAK7zE,KAAK0I,OAASkG,EAAMurE,OAC1D6e,GAAah5F,KAAK++E,aACtB/2D,EAAKo3D,KAAO,OACZp3D,EAAKo8B,QAAS,EACdp8B,EAAKrqB,MAAQqC,KAAK2zF,YAAYH,EAAanC,QACtC,GAAK2H,GAAc3d,KACfr7E,KAAKmJ,QAAQ0qE,aAAe,IAAM7rD,EAAKk6D,UAA8B,eAAlBl6D,EAAK/pB,IAAIyK,MACzC,QAAlBsf,EAAK/pB,IAAIhB,MAAoC,QAAlB+qB,EAAK/pB,IAAIhB,MACpC+C,KAAK0I,OAASkG,EAAMyrE,OAASr6E,KAAK0I,OAASkG,EAAMsrE,OAgBlDl6E,KAAKmJ,QAAQ0qE,aAAe,IAAM7rD,EAAKk6D,UAA8B,eAAlBl6D,EAAK/pB,IAAIyK,OACjE8qF,GAAenC,IAAWrxF,KAAK++E,aACnC/+E,KAAKo0F,gBAAgBpsE,EAAK/pB,KACJ,UAAlB+pB,EAAK/pB,IAAIhB,MAAqB+C,KAAK0sF,gBACnC1sF,KAAK0sF,cAAgBnB,GACzBvjE,EAAKo3D,KAAO,OACR4Z,EACFhxE,EAAKrqB,MAAQqC,KAAK61F,kBAAkBtK,EAAU7V,EAAU1tD,EAAK/pB,KACpD+B,KAAK0I,OAASkG,EAAM8rE,IAAMqU,GAC/BA,EAAuBZ,gBAAkB,IACzCY,EAAuBZ,gBAAkBnuF,KAAKiK,OAClD+d,EAAKrqB,MAAQqC,KAAK61F,kBAAkBtK,EAAU7V,EAAU1tD,EAAK/pB,MAE7D+pB,EAAKrqB,MAAQqqB,EAAK/pB,IAEpB+pB,EAAKouE,WAAY,GACVp2F,KAAK++E,iBAhCwD,EAChEyU,GAAenC,IAAWrxF,KAAK++E,aACnC/2D,EAAKo3D,KAAOp3D,EAAK/pB,IAAIhB,KACrB+C,KAAK0iF,kBAAkB16D,GACvBA,EAAKrqB,MAAQqC,KAAK2zF,aAAY,GAC9B,IAAIwF,EAA2B,QAAdnxE,EAAKo3D,KAAiB,EAAI,EAC3C,GAAIp3D,EAAKrqB,MAAMqlF,OAAO3iF,SAAW84F,EAAY,CAC3C,IAAIlvF,EAAQ+d,EAAKrqB,MAAMsM,MACL,QAAd+d,EAAKo3D,KACLp/E,KAAKgvF,iBAAiB/kF,EAAO,gCAE7BjK,KAAKgvF,iBAAiB/kF,EAAO,4CAEf,QAAd+d,EAAKo3D,MAAgD,gBAA9Bp3D,EAAKrqB,MAAMqlF,OAAO,GAAGt6E,MAC5C1I,KAAKgvF,iBAAiBhnE,EAAKrqB,MAAMqlF,OAAO,GAAG/4E,MAAO,mCAqB5DgsF,EAAKvT,kBAAoB,SAAS16D,GAChC,GAAIhoB,KAAKmJ,QAAQ0qE,aAAe,EAAG,CACjC,GAAI7zE,KAAK4+E,IAAIhwE,EAAMmrE,UAIjB,OAHA/xD,EAAKk6D,UAAW,EAChBl6D,EAAK/pB,IAAM+B,KAAKshF,mBAChBthF,KAAKg/E,OAAOpwE,EAAMorE,UACXhyD,EAAK/pB,IAEZ+pB,EAAKk6D,UAAW,EAGpB,OAAOl6D,EAAK/pB,IAAM+B,KAAK0I,OAASkG,EAAMgsE,KAAO56E,KAAK0I,OAASkG,EAAMuiD,OAASnxD,KAAKgiF,gBAAkBhiF,KAAKy/E,WAA0C,UAA/Bz/E,KAAKmJ,QAAQwhF,gBAKhIsL,EAAK5D,aAAe,SAASt2B,GAC3BA,EAAK3vD,GAAK,KACNpM,KAAKmJ,QAAQ0qE,aAAe,IAAK9X,EAAKsvB,UAAYtvB,EAAK4iB,YAAa,GACpE3+E,KAAKmJ,QAAQ0qE,aAAe,IAAK9X,EAAKwM,OAAQ,IAKpD0tB,EAAKtC,YAAc,SAASH,EAAanC,EAASlE,GAChD,IAAIpxB,EAAO/7D,KAAKmzE,YAAamf,EAActyF,KAAKwsF,SAAU+F,EAAcvyF,KAAKysF,SAAU+F,EAAmBxyF,KAAK0sF,cAqB/G,OAnBA1sF,KAAKqyF,aAAat2B,GACd/7D,KAAKmJ,QAAQ0qE,aAAe,IAC5B9X,EAAKsvB,UAAYmI,GACjBxzF,KAAKmJ,QAAQ0qE,aAAe,IAC5B9X,EAAKwM,QAAU8oB,GAEnBrxF,KAAKwsF,SAAW,EAChBxsF,KAAKysF,SAAW,EAChBzsF,KAAK0sF,cAAgB,EACrB1sF,KAAK6sF,WA3mEW,GA2mEAzB,EAAciG,EAASt1B,EAAKsvB,YAA4B8B,EA1mEjD,IA0mEyF,IAEhHntF,KAAKg/E,OAAOpwE,EAAMurE,QAClBpe,EAAKinB,OAAShjF,KAAK2yF,iBAAiB/jF,EAAMwrE,QAAQ,EAAOp6E,KAAKmJ,QAAQ0qE,aAAe,GACrF7zE,KAAKovF,iCACLpvF,KAAK0yF,kBAAkB32B,GAAM,GAAO,GAEpC/7D,KAAKwsF,SAAW8F,EAChBtyF,KAAKysF,SAAW8F,EAChBvyF,KAAK0sF,cAAgB8F,EACdxyF,KAAK0zE,WAAW3X,EAAM,uBAK/Bk6B,EAAKmB,qBAAuB,SAASr7B,EAAMinB,EAAQqO,GACjD,IAAIiB,EAActyF,KAAKwsF,SAAU+F,EAAcvyF,KAAKysF,SAAU+F,EAAmBxyF,KAAK0sF,cAgBtF,OAdA1sF,KAAK6sF,WA/nEW,GA+nEAzB,EAAciG,GAAS,IACvCrxF,KAAKqyF,aAAat2B,GACd/7D,KAAKmJ,QAAQ0qE,aAAe,IAAK9X,EAAKwM,QAAU8oB,GAEpDrxF,KAAKwsF,SAAW,EAChBxsF,KAAKysF,SAAW,EAChBzsF,KAAK0sF,cAAgB,EAErB3wB,EAAKinB,OAAShjF,KAAKs1F,iBAAiBtS,GAAQ,GAC5ChjF,KAAK0yF,kBAAkB32B,GAAM,GAAM,GAEnC/7D,KAAKwsF,SAAW8F,EAChBtyF,KAAKysF,SAAW8F,EAChBvyF,KAAK0sF,cAAgB8F,EACdxyF,KAAK0zE,WAAW3X,EAAM,4BAK/Bk6B,EAAKvD,kBAAoB,SAAS32B,EAAMq9B,EAAiBC,GACvD,IAAIC,EAAeF,GAAmBp5F,KAAK0I,OAASkG,EAAMqrE,OACtDiH,EAAYlhF,KAAKgzE,OAAQumB,GAAY,EAEzC,GAAID,EACFv9B,EAAKtE,KAAOz3D,KAAKshF,mBACjBvlB,EAAK4iB,YAAa,EAClB3+E,KAAKw5F,YAAYz9B,GAAM,OAClB,CACL,IAAI09B,EAAYz5F,KAAKmJ,QAAQ0qE,aAAe,IAAM7zE,KAAK05F,kBAAkB39B,EAAKinB,QACzE9B,IAAauY,IAChBF,EAAYv5F,KAAKssF,gBAAgBtsF,KAAKqI,OAIrBoxF,GACbz5F,KAAKgvF,iBAAiBjzB,EAAK9xD,MAAO,6EAIxC,IAAIi5E,EAAYljF,KAAKizE,OACrBjzE,KAAKizE,OAAS,GACVsmB,IAAav5F,KAAKgzE,QAAS,GAI/BhzE,KAAKw5F,YAAYz9B,GAAOmlB,IAAcqY,IAAcH,IAAoBC,GAAYr5F,KAAK05F,kBAAkB39B,EAAKinB,SAChHjnB,EAAKtE,KAAOz3D,KAAK2gF,YAAW,GAC5B5kB,EAAK4iB,YAAa,EAClB3+E,KAAKuvF,uBAAuBxzB,EAAKtE,KAAKA,MACtCz3D,KAAKizE,OAASiQ,EAEhBljF,KAAKyxF,YAGDzxF,KAAKgzE,QAAUjX,EAAK3vD,IAAMpM,KAAKi/E,UAAUljB,EAAK3vD,GArqEjC,GAsqEjBpM,KAAKgzE,OAASkO,GAGhB+U,EAAKyD,kBAAoB,SAAS1W,GAChC,IAAK,IAAItmF,EAAI,EAAGyL,EAAO66E,EAAQtmF,EAAIyL,EAAK9H,OAAQ3D,GAAK,EACnD,CAGA,GAAmB,eAFPyL,EAAKzL,GAEPgM,KAAyB,OAAO,EAE5C,OAAO,GAMTutF,EAAKuD,YAAc,SAASz9B,EAAM49B,GAEhC,IADA,IAAIC,EAAW,GACNl9F,EAAI,EAAGyL,EAAO4zD,EAAKinB,OAAQtmF,EAAIyL,EAAK9H,OAAQ3D,GAAK,EACxD,CACA,IAAIgxB,EAAQvlB,EAAKzL,GAEjBsD,KAAKi/E,UAAUvxD,EAhsEJ,EAgsEqBisE,EAAkB,KAAOC,KAU7D3D,EAAK7T,cAAgB,SAASe,EAAOC,EAAoBC,EAAY0L,GAEnE,IADA,IAAIzL,EAAO,GAAIxoC,GAAQ,GACf96C,KAAK4+E,IAAIuE,IAAQ,CACvB,GAAKroC,EAGIA,GAAQ,OADf,GADA96C,KAAKg/E,OAAOpwE,EAAMyrE,OACd+I,GAAsBpjF,KAAK4uF,mBAAmBzL,GAAU,MAG9D,IAAIuR,OAAM,EACNrR,GAAcrjF,KAAK0I,OAASkG,EAAMyrE,MAClCqa,EAAM,KACD10F,KAAK0I,OAASkG,EAAM45E,UAC3BkM,EAAM10F,KAAKw1F,YAAYzG,GACnBA,GAA0B/uF,KAAK0I,OAASkG,EAAMyrE,OAAS0U,EAAuBX,cAAgB,IAC9FW,EAAuBX,cAAgBpuF,KAAKiK,QAEhDyqF,EAAM10F,KAAKshF,kBAAiB,EAAOyN,GAErCzL,EAAKzjF,KAAK60F,GAEZ,OAAOpR,GAGT2S,EAAK7B,gBAAkB,SAAS/nF,GAC9B,IAAIpC,EAAQoC,EAAIpC,MACZ5B,EAAMgE,EAAIhE,IACVpL,EAAOoP,EAAIpP,MAEX+C,KAAKgtF,aAAwB,UAAT/vF,GACpB+C,KAAKgvF,iBAAiB/kF,EAAO,uDAC7BjK,KAAKitF,SAAoB,UAAThwF,GAChB+C,KAAKgvF,iBAAiB/kF,EAAO,6DAC7BjK,KAAKynF,SAAShgF,KAAKxK,IACnB+C,KAAKm1E,MAAMlrE,EAAQ,uBAAyBhN,EAAO,KACnD+C,KAAKmJ,QAAQ0qE,YAAc,IACmB,IAAhD7zE,KAAKoyE,MAAM5sE,MAAMyE,EAAO5B,GAAK2G,QAAQ,SAC9BhP,KAAKgzE,OAAShzE,KAAK0rF,oBAAsB1rF,KAAKmnF,eAChD1/E,KAAKxK,KACL+C,KAAKitF,SAAoB,UAAThwF,GACjB+C,KAAKgvF,iBAAiB/kF,EAAO,wDACjCjK,KAAKgvF,iBAAiB/kF,EAAQ,gBAAkBhN,EAAO,mBAQ3Dg5F,EAAKxW,WAAa,SAAS8D,EAAS8R,GAClC,IAAIt5B,EAAO/7D,KAAKmzE,YAwBhB,OAvBInzE,KAAK0I,OAASkG,EAAM3R,KACtB8+D,EAAK9+D,KAAO+C,KAAKrC,MACRqC,KAAK0I,KAAK0tE,SACnBra,EAAK9+D,KAAO+C,KAAK0I,KAAK0tE,QAMH,UAAdra,EAAK9+D,MAAkC,aAAd8+D,EAAK9+D,MAC9B+C,KAAKksF,aAAelsF,KAAKisF,aAAe,GAAkD,KAA7CjsF,KAAKoyE,MAAMmK,WAAWv8E,KAAKisF,eAC3EjsF,KAAKslC,QAAQlH,OAGfp+B,KAAK++E,aAEP/+E,KAAKuhB,OACLvhB,KAAK0zE,WAAW3X,EAAM,cACjBwnB,IACHvjF,KAAKo0F,gBAAgBr4B,GACH,UAAdA,EAAK9+D,MAAqB+C,KAAK0sF,gBAC/B1sF,KAAK0sF,cAAgB3wB,EAAK9xD,QAEzB8xD,GAKTk6B,EAAKK,WAAa,SAASnV,GACpBnhF,KAAKwsF,WAAYxsF,KAAKwsF,SAAWxsF,KAAKiK,OAE3C,IAAI8xD,EAAO/7D,KAAKmzE,YAShB,OARAnzE,KAAKuhB,OACDvhB,KAAK0I,OAASkG,EAAM0rE,MAAQt6E,KAAK6+E,sBAAyB7+E,KAAK0I,OAASkG,EAAMy6E,OAASrpF,KAAK0I,KAAKw/E,YACnGnsB,EAAK89B,UAAW,EAChB99B,EAAKskB,SAAW,OAEhBtkB,EAAK89B,SAAW75F,KAAK4+E,IAAIhwE,EAAMy6E,MAC/BttB,EAAKskB,SAAWrgF,KAAKshF,iBAAiBH,IAEjCnhF,KAAK0zE,WAAW3X,EAAM,oBAG/Bk6B,EAAKe,WAAa,WACXh3F,KAAKysF,WAAYzsF,KAAKysF,SAAWzsF,KAAKiK,OAE3C,IAAI8xD,EAAO/7D,KAAKmzE,YAGhB,OAFAnzE,KAAKuhB,OACLw6C,EAAKskB,SAAWrgF,KAAK2hF,gBAAgB,MAAM,GACpC3hF,KAAK0zE,WAAW3X,EAAM,oBAG/B,IAAI+9B,GAAOxO,EAAOhtF,UAQlBw7F,GAAK3kB,MAAQ,SAAS11C,EAAKqpC,GACzB,IAAI73B,EAAM6jC,EAAY90E,KAAKoyE,MAAO3yC,GAClCqpC,GAAW,KAAO73B,EAAIxoB,KAAO,IAAMwoB,EAAIikC,OAAS,IAChD,IAAIE,EAAM,IAAIC,YAAYvM,GAE1B,MADAsM,EAAI31C,IAAMA,EAAK21C,EAAInkC,IAAMA,EAAKmkC,EAAIE,SAAWt1E,KAAKy/B,IAC5C21C,GAGR0kB,GAAK9K,iBAAmB8K,GAAK3kB,MAE7B2kB,GAAKhO,YAAc,WACjB,GAAI9rF,KAAKmJ,QAAQiqC,UACf,OAAO,IAAIm3C,EAASvqF,KAAK6rF,QAAS7rF,KAAKy/B,IAAMz/B,KAAK4rF,YAItD,IAAImO,GAAOzO,EAAOhtF,UAEd07F,GAAQ,SAAe3vE,GACzBrqB,KAAKqqB,MAAQA,EAEbrqB,KAAKi6F,IAAM,GAEXj6F,KAAKk6F,QAAU,GAEfl6F,KAAK+5D,UAAY,IAKnBggC,GAAKlN,WAAa,SAASxiE,GACzBrqB,KAAK4sF,WAAW/sF,KAAK,IAAIm6F,GAAM3vE,KAGjC0vE,GAAKtI,UAAY,WACfzxF,KAAK4sF,WAAWxuD,OAMlB27D,GAAKvM,2BAA6B,SAASt6E,GACzC,OAl3EmB,EAk3EXA,EAAMmX,QAA4BrqB,KAAKqsF,UAn3EjC,EAm3E8Cn5E,EAAMmX,OAGpE0vE,GAAK/D,YAAc,SAAS/4F,EAAM64F,EAAar2D,GAC7C,IAAI06D,GAAa,EACjB,GAt2EiB,IAs2EbrE,EAA8B,CAChC,IAAI5iF,EAAQlT,KAAKytF,eACjB0M,EAAajnF,EAAMgnF,QAAQlrF,QAAQ/R,IAAS,GAAKiW,EAAM6mD,UAAU/qD,QAAQ/R,IAAS,GAAKiW,EAAM+mF,IAAIjrF,QAAQ/R,IAAS,EAClHiW,EAAMgnF,QAAQr6F,KAAK5C,GACf+C,KAAKqsF,UA53EG,EA43EUn5E,EAAMmX,cACjBrqB,KAAK2sF,iBAAiB1vF,QAC5B,GA12Ee,IA02EX64F,EAAmC,CAC9B91F,KAAKytF,eACXyM,QAAQr6F,KAAK5C,QAChB,GA92EW,IA82EP64F,EAA+B,CACxC,IAAIsE,EAAUp6F,KAAKytF,eAEf0M,EADAn6F,KAAKotF,oBACQgN,EAAQF,QAAQlrF,QAAQ/R,IAAS,EAEjCm9F,EAAQF,QAAQlrF,QAAQ/R,IAAS,GAAKm9F,EAAQH,IAAIjrF,QAAQ/R,IAAS,EACpFm9F,EAAQrgC,UAAUl6D,KAAK5C,QAEvB,IAAK,IAAIP,EAAIsD,KAAK4sF,WAAWvsF,OAAS,EAAG3D,GAAK,IAAKA,EAAG,CACpD,IAAI29F,EAAUr6F,KAAK4sF,WAAWlwF,GAC9B,GAAI29F,EAAQH,QAAQlrF,QAAQ/R,IAAS,KAr4ElB,GAq4E0Bo9F,EAAQhwE,OAA+BgwE,EAAQH,QAAQ,KAAOj9F,KACtG+C,KAAKwtF,2BAA2B6M,IAAYA,EAAQtgC,UAAU/qD,QAAQ/R,IAAS,EAAG,CACrFk9F,GAAa,EACb,MAKF,GAHAE,EAAQJ,IAAIp6F,KAAK5C,GACb+C,KAAKqsF,UAj5EC,EAi5EYgO,EAAQhwE,cACnBrqB,KAAK2sF,iBAAiB1vF,GAh5EvBq9F,EAi5END,EAAQhwE,MAAqB,MAGjC8vE,GAAcn6F,KAAKgvF,iBAAiBvvD,EAAM,eAAiBxiC,EAAO,gCAGxE88F,GAAKzF,iBAAmB,SAASloF,IAEsB,IAAjDpM,KAAK4sF,WAAW,GAAGsN,QAAQlrF,QAAQ5C,EAAGnP,QACO,IAA7C+C,KAAK4sF,WAAW,GAAGqN,IAAIjrF,QAAQ5C,EAAGnP,QACpC+C,KAAK2sF,iBAAiBvgF,EAAGnP,MAAQmP,IAIrC2tF,GAAKtM,aAAe,WAClB,OAAOztF,KAAK4sF,WAAW5sF,KAAK4sF,WAAWvsF,OAAS,IAGlD05F,GAAKzM,gBAAkB,WACrB,IAAK,IAAI5wF,EAAIsD,KAAK4sF,WAAWvsF,OAAS,GAAI3D,IAAK,CAC7C,IAAIwW,EAAQlT,KAAK4sF,WAAWlwF,GAC5B,GAt6EY49F,EAs6ERpnF,EAAMmX,MAAqB,OAAOnX,IAK1C6mF,GAAKxM,iBAAmB,WACtB,IAAK,IAAI7wF,EAAIsD,KAAK4sF,WAAWvsF,OAAS,GAAI3D,IAAK,CAC7C,IAAIwW,EAAQlT,KAAK4sF,WAAWlwF,GAC5B,GA96EY49F,EA86ERpnF,EAAMmX,SA36EI,GA26EmBnX,EAAMmX,OAAwB,OAAOnX,IAI1E,IAAIqnF,GAAO,SAAcroC,EAAQzyB,EAAKwR,GACpCjxC,KAAK0I,KAAO,GACZ1I,KAAKiK,MAAQw1B,EACbz/B,KAAKqI,IAAM,EACP6pD,EAAO/oD,QAAQiqC,YACfpzC,KAAKixC,IAAM,IAAIu5C,EAAet4B,EAAQjhB,IACtCihB,EAAO/oD,QAAQirE,mBACfp0E,KAAKsyE,WAAapgB,EAAO/oD,QAAQirE,kBACjCliB,EAAO/oD,QAAQgrE,SACfn0E,KAAKy+E,MAAQ,CAACh/C,EAAK,KAKrB+6D,GAAOlP,EAAOhtF,UAYlB,SAASk6F,GAAaz8B,EAAMrzD,EAAM+2B,EAAKwR,GAOrC,OANA8qB,EAAKrzD,KAAOA,EACZqzD,EAAK1zD,IAAMo3B,EACPz/B,KAAKmJ,QAAQiqC,YACb2oB,EAAK9qB,IAAI5oC,IAAM4oC,GACfjxC,KAAKmJ,QAAQgrE,SACbpY,EAAK0iB,MAAM,GAAKh/C,GACbs8B,EAjBTy+B,GAAKrnB,UAAY,WACf,OAAO,IAAIonB,GAAKv6F,KAAMA,KAAKiK,MAAOjK,KAAK01E,WAGzC8kB,GAAKlH,YAAc,SAAS7zD,EAAKwR,GAC/B,OAAO,IAAIspD,GAAKv6F,KAAMy/B,EAAKwR,IAe7BupD,GAAK9mB,WAAa,SAAS3X,EAAMrzD,GAC/B,OAAO8vF,GAAa37F,KAAKmD,KAAM+7D,EAAMrzD,EAAM1I,KAAKksF,WAAYlsF,KAAK+rF,gBAKnEyO,GAAKhC,aAAe,SAASz8B,EAAMrzD,EAAM+2B,EAAKwR,GAC5C,OAAOunD,GAAa37F,KAAKmD,KAAM+7D,EAAMrzD,EAAM+2B,EAAKwR,IAKlD,IAAIwpD,GAAa,SAAoBxP,EAAOyP,EAAQC,EAAeC,EAAUvP,GAC3ErrF,KAAKirF,MAAQA,EACbjrF,KAAK06F,SAAWA,EAChB16F,KAAK26F,gBAAkBA,EACvB36F,KAAK46F,SAAWA,EAChB56F,KAAKqrF,YAAcA,GAGjBwP,GAAU,CACZC,OAAQ,IAAIL,GAAW,KAAK,GAC5BM,OAAQ,IAAIN,GAAW,KAAK,GAC5BO,OAAQ,IAAIP,GAAW,MAAM,GAC7BQ,OAAQ,IAAIR,GAAW,KAAK,GAC5BS,OAAQ,IAAIT,GAAW,KAAK,GAC5BU,OAAQ,IAAIV,GAAW,KAAK,GAAM,GAAM,SAAUj8F,GAAK,OAAOA,EAAE48F,0BAChEC,OAAQ,IAAIZ,GAAW,YAAY,GACnCa,OAAQ,IAAIb,GAAW,YAAY,GACnCc,WAAY,IAAId,GAAW,YAAY,GAAM,EAAO,MAAM,GAC1De,MAAO,IAAIf,GAAW,YAAY,GAAO,EAAO,MAAM,IAGpDgB,GAAOnQ,EAAOhtF,UAElBm9F,GAAKtP,eAAiB,WACpB,MAAO,CAAC0O,GAAQC,SAGlBW,GAAKC,aAAe,SAASC,GAC3B,IAAI5rE,EAAS/vB,KAAK47F,aAClB,OAAI7rE,IAAW8qE,GAAQS,QAAUvrE,IAAW8qE,GAAQQ,SAEhDM,IAAa/sF,EAAM2rE,OAAUxqD,IAAW8qE,GAAQC,QAAU/qE,IAAW8qE,GAAQE,OAM7EY,IAAa/sF,EAAMqoE,SAAW0kB,IAAa/sF,EAAM3R,MAAQ+C,KAAKosF,YACvDpX,EAAUvtE,KAAKzH,KAAKoyE,MAAM5sE,MAAMxF,KAAKksF,WAAYlsF,KAAKiK,QAC7D0xF,IAAa/sF,EAAMgoE,OAAS+kB,IAAa/sF,EAAM0rE,MAAQqhB,IAAa/sF,EAAM+rE,KAAOghB,IAAa/sF,EAAMwrE,QAAUuhB,IAAa/sF,EAAMy5E,QAEjIsT,IAAa/sF,EAAMqrE,OACZlqD,IAAW8qE,GAAQC,OAC1Ba,IAAa/sF,EAAMyoE,MAAQskB,IAAa/sF,EAAM26E,QAAUoS,IAAa/sF,EAAM3R,OAEvE+C,KAAKosF,cAbDr8D,EAAO2qE,SAgBrBe,GAAKI,mBAAqB,WACxB,IAAK,IAAIn/F,EAAIsD,KAAKslC,QAAQjlC,OAAS,EAAG3D,GAAK,EAAGA,IAAK,CACjD,IAAI4oC,EAAUtlC,KAAKslC,QAAQ5oC,GAC3B,GAAsB,aAAlB4oC,EAAQ2lD,MACR,OAAO3lD,EAAQ+lD,UAErB,OAAO,GAGToQ,GAAKtT,cAAgB,SAASwT,GAC5B,IAAIl6F,EAAQiH,EAAO1I,KAAK0I,KACpBA,EAAK0tE,SAAWulB,IAAa/sF,EAAM4O,IACnCxd,KAAKosF,aAAc,GACd3qF,EAASiH,EAAKy/E,eACnB1mF,EAAO5E,KAAKmD,KAAM27F,GAElB37F,KAAKosF,YAAc1jF,EAAK4tE,YAK9B1nE,EAAMwrE,OAAO+N,cAAgBv5E,EAAMsrE,OAAOiO,cAAgB,WACxD,GAA4B,IAAxBnoF,KAAKslC,QAAQjlC,OAAjB,CAIA,IAAIujD,EAAM5jD,KAAKslC,QAAQlH,MACnBwlB,IAAQi3C,GAAQC,QAAsC,aAA5B96F,KAAK47F,aAAa3Q,QAC9CrnC,EAAM5jD,KAAKslC,QAAQlH,OAErBp+B,KAAKosF,aAAexoC,EAAI82C,YAPtB16F,KAAKosF,aAAc,GAUvBx9E,EAAMqrE,OAAOkO,cAAgB,SAASwT,GACpC37F,KAAKslC,QAAQzlC,KAAKG,KAAK07F,aAAaC,GAAYd,GAAQC,OAASD,GAAQE,QACzE/6F,KAAKosF,aAAc,GAGrBx9E,EAAM85E,aAAaP,cAAgB,WACjCnoF,KAAKslC,QAAQzlC,KAAKg7F,GAAQG,QAC1Bh7F,KAAKosF,aAAc,GAGrBx9E,EAAMurE,OAAOgO,cAAgB,SAASwT,GACpC,IAAIG,EAAkBH,IAAa/sF,EAAMooE,KAAO2kB,IAAa/sF,EAAMkoE,MAAQ6kB,IAAa/sF,EAAM2oE,OAASokB,IAAa/sF,EAAM0oE,OAC1Ht3E,KAAKslC,QAAQzlC,KAAKi8F,EAAkBjB,GAAQI,OAASJ,GAAQK,QAC7Dl7F,KAAKosF,aAAc,GAGrBx9E,EAAM+5E,OAAOR,cAAgB,aAI7Bv5E,EAAMmoE,UAAUoR,cAAgBv5E,EAAMpG,OAAO2/E,cAAgB,SAASwT,IAChEA,EAASrlB,YAAcqlB,IAAa/sF,EAAM0rE,MAAQqhB,IAAa/sF,EAAMgoE,OACnE+kB,IAAa/sF,EAAMqoE,SAAWjC,EAAUvtE,KAAKzH,KAAKoyE,MAAM5sE,MAAMxF,KAAKksF,WAAYlsF,KAAKiK,UACnF0xF,IAAa/sF,EAAM2rE,OAASohB,IAAa/sF,EAAMqrE,SAAWj6E,KAAK47F,eAAiBf,GAAQC,OAG3F96F,KAAKslC,QAAQzlC,KAAKg7F,GAAQQ,QAF1Br7F,KAAKslC,QAAQzlC,KAAKg7F,GAAQS,QAG9Bt7F,KAAKosF,aAAc,GAGrBx9E,EAAM65E,UAAUN,cAAgB,WAC1BnoF,KAAK47F,eAAiBf,GAAQM,OAC9Bn7F,KAAKslC,QAAQlH,MAEbp+B,KAAKslC,QAAQzlC,KAAKg7F,GAAQM,QAC9Bn7F,KAAKosF,aAAc,GAGrBx9E,EAAMy6E,KAAKlB,cAAgB,SAASwT,GAClC,GAAIA,IAAa/sF,EAAMmoE,UAAW,CAChC,IAAIjpE,EAAQ9N,KAAKslC,QAAQjlC,OAAS,EAC9BL,KAAKslC,QAAQx3B,KAAW+sF,GAAQS,OAChCt7F,KAAKslC,QAAQx3B,GAAS+sF,GAAQU,WAE9Bv7F,KAAKslC,QAAQx3B,GAAS+sF,GAAQW,MAEpCx7F,KAAKosF,aAAc,GAGrBx9E,EAAM3R,KAAKkrF,cAAgB,SAASwT,GAClC,IAAII,GAAU,EACV/7F,KAAKmJ,QAAQ0qE,aAAe,GAAK8nB,IAAa/sF,EAAM4O,MACnC,OAAfxd,KAAKrC,QAAmBqC,KAAKosF,aACd,UAAfpsF,KAAKrC,OAAqBqC,KAAK67F,wBAC/BE,GAAU,GAEhB/7F,KAAKosF,YAAc2P,GAQrB,IAAIC,GAAwB,89BACxBC,GAAyBD,GAAwB,yBAEjDE,GAA0B,CAC5BC,EAAGH,GACHI,GAAIH,GACJI,GAJ2BJ,q/BAQzBK,GAA+B,qpBAG/BC,GAAoB,2+DACpBC,GAAqBD,GAAoB,kHAEzCE,GAAsB,CACxBN,EAAGI,GACHH,GAAII,GACJH,GAJuBG,iqEAOrBrtE,GAAO,GACX,SAASutE,GAAiB7oB,GACxB,IAAI72E,EAAImyB,GAAK0kD,GAAe,CAC1B8oB,OAAQrS,EAAY4R,GAAwBroB,GAAe,IAAMyoB,IACjEM,UAAW,CACTC,iBAAkBvS,EAAYgS,IAC9BQ,OAAQxS,EAAYmS,GAAoB5oB,MAG5C72E,EAAE4/F,UAAUG,kBAAoB//F,EAAE4/F,UAAUE,OAE5C9/F,EAAE4/F,UAAUI,GAAKhgG,EAAE4/F,UAAUC,iBAC7B7/F,EAAE4/F,UAAUK,GAAKjgG,EAAE4/F,UAAUE,OAC7B9/F,EAAE4/F,UAAUM,IAAMlgG,EAAE4/F,UAAUG,kBAEhCL,GAAiB,GACjBA,GAAiB,IACjBA,GAAiB,IAEjB,IAAIS,GAAO7R,EAAOhtF,UAEd8+F,GAAwB,SAA+BlrC,GACzDlyD,KAAKkyD,OAASA,EACdlyD,KAAKq9F,WAAa,OAASnrC,EAAO/oD,QAAQ0qE,aAAe,EAAI,KAAO,KAAO3hB,EAAO/oD,QAAQ0qE,aAAe,EAAI,IAAM,IACnH7zE,KAAKs9F,kBAAoBnuE,GAAK+iC,EAAO/oD,QAAQ0qE,aAAe,GAAK,GAAK3hB,EAAO/oD,QAAQ0qE,aACrF7zE,KAAKqE,OAAS,GACdrE,KAAKqqB,MAAQ,GACbrqB,KAAKiK,MAAQ,EACbjK,KAAKu9F,SAAU,EACfv9F,KAAKw9F,SAAU,EACfx9F,KAAKy/B,IAAM,EACXz/B,KAAKy9F,aAAe,EACpBz9F,KAAK09F,gBAAkB,GACvB19F,KAAK29F,6BAA8B,EACnC39F,KAAK49F,mBAAqB,EAC1B59F,KAAK69F,iBAAmB,EACxB79F,KAAK89F,WAAa,GAClB99F,KAAK+9F,mBAAqB,IAkE5B,SAASC,GAAkB1hB,GACzB,OAAIA,GAAM,MAAiBtZ,OAAOC,aAAaqZ,IAC/CA,GAAM,MACCtZ,OAAOC,aAA0B,OAAZqZ,GAAM,IAA8B,OAAV,KAALA,KAiSnD,SAAS2hB,GAAkB3hB,GACzB,OACS,KAAPA,GACAA,GAAM,IAAgBA,GAAM,IACrB,KAAPA,GACO,KAAPA,GACAA,GAAM,IAAgBA,GAAM,IAC5BA,GAAM,KAAgBA,GAAM,IA4PhC,SAAS4hB,GAAgB5hB,GACvB,OACGA,GAAM,IAAgBA,GAAM,IAC5BA,GAAM,IAAgBA,GAAM,IA0KjC,SAAS6hB,GAA+B7hB,GACtC,OAAO4hB,GAAgB5hB,IAAc,KAAPA,EAchC,SAAS8hB,GAAgC9hB,GACvC,OAAO6hB,GAA+B7hB,IAAO+hB,GAAe/hB,GAuI9D,SAAS+hB,GAAe/hB,GACtB,OAAOA,GAAM,IAAgBA,GAAM,GAcrC,SAASgiB,GAAWhiB,GAClB,OACGA,GAAM,IAAgBA,GAAM,IAC5BA,GAAM,IAAgBA,GAAM,IAC5BA,GAAM,IAAgBA,GAAM,IAGjC,SAASiiB,GAASjiB,GAChB,OAAIA,GAAM,IAAgBA,GAAM,GACjBA,EAAK,GAAX,GAELA,GAAM,IAAgBA,GAAM,IACjBA,EAAK,GAAX,GAEFA,EAAK,GAkCd,SAASkiB,GAAaliB,GACpB,OAAOA,GAAM,IAAgBA,GAAM,GA1+BrC8gB,GAAsB9+F,UAAUmmB,MAAQ,SAAgBxa,EAAO2tF,EAASvtE,GACtE,IAAIo0E,GAAkC,IAAxBp0E,EAAMrb,QAAQ,KAC5BhP,KAAKiK,MAAgB,EAARA,EACbjK,KAAKqE,OAASuzF,EAAU,GACxB53F,KAAKqqB,MAAQA,EACbrqB,KAAKu9F,QAAUkB,GAAWz+F,KAAKkyD,OAAO/oD,QAAQ0qE,aAAe,EAC7D7zE,KAAKw9F,QAAUiB,GAAWz+F,KAAKkyD,OAAO/oD,QAAQ0qE,aAAe,GAG/DupB,GAAsB9+F,UAAU62E,MAAQ,SAAgBrM,GACtD9oE,KAAKkyD,OAAO88B,iBAAiBhvF,KAAKiK,MAAQ,gCAAmCjK,KAAW,OAAI,MAAQ8oE,IAKtGs0B,GAAsB9+F,UAAUogG,GAAK,SAAahiG,GAChD,IAAI+B,EAAIuB,KAAKqE,OACT1H,EAAI8B,EAAE4B,OACV,GAAI3D,GAAKC,EACP,OAAQ,EAEV,IAAII,EAAI0B,EAAE89E,WAAW7/E,GACrB,IAAKsD,KAAKu9F,SAAWxgG,GAAK,OAAUA,GAAK,OAAUL,EAAI,GAAKC,EAC1D,OAAOI,EAET,IAAIwkB,EAAO9iB,EAAE89E,WAAW7/E,EAAI,GAC5B,OAAO6kB,GAAQ,OAAUA,GAAQ,OAAUxkB,GAAK,IAAMwkB,EAAO,SAAYxkB,GAG3EqgG,GAAsB9+F,UAAUqgG,UAAY,SAAoBjiG,GAC9D,IAAI+B,EAAIuB,KAAKqE,OACT1H,EAAI8B,EAAE4B,OACV,GAAI3D,GAAKC,EACP,OAAOA,EAET,IAAyB4kB,EAArBxkB,EAAI0B,EAAE89E,WAAW7/E,GACrB,OAAKsD,KAAKu9F,SAAWxgG,GAAK,OAAUA,GAAK,OAAUL,EAAI,GAAKC,IACvD4kB,EAAO9iB,EAAE89E,WAAW7/E,EAAI,IAAM,OAAU6kB,EAAO,MAC3C7kB,EAAI,EAENA,EAAI,GAGb0gG,GAAsB9+F,UAAU0f,QAAU,WACxC,OAAOhe,KAAK0+F,GAAG1+F,KAAKy/B,MAGtB29D,GAAsB9+F,UAAUsgG,UAAY,WAC1C,OAAO5+F,KAAK0+F,GAAG1+F,KAAK2+F,UAAU3+F,KAAKy/B,OAGrC29D,GAAsB9+F,UAAUugG,QAAU,WACxC7+F,KAAKy/B,IAAMz/B,KAAK2+F,UAAU3+F,KAAKy/B,MAGjC29D,GAAsB9+F,UAAUsgF,IAAM,SAActC,GAClD,OAAIt8E,KAAKge,YAAcs+D,IACrBt8E,KAAK6+F,WACE,IAiBX1B,GAAK2B,oBAAsB,SAASl4B,GAIlC,IAHA,IAAIy2B,EAAaz2B,EAAMy2B,WACnBhzE,EAAQu8C,EAAMv8C,MAET3tB,EAAI,EAAGA,EAAI2tB,EAAMhqB,OAAQ3D,IAAK,CACrC,IAAI20B,EAAOhH,EAAMuzD,OAAOlhF,IACU,IAA9B2gG,EAAWruF,QAAQqiB,IACrBrxB,KAAKm1E,MAAMvO,EAAM38D,MAAO,mCAEtBogB,EAAMrb,QAAQqiB,EAAM30B,EAAI,IAAM,GAChCsD,KAAKm1E,MAAMvO,EAAM38D,MAAO,uCAW9BkzF,GAAK4B,sBAAwB,SAASn4B,GACpC5mE,KAAKg/F,eAAep4B,IAOfA,EAAM42B,SAAWx9F,KAAKmJ,QAAQ0qE,aAAe,GAAKjN,EAAMk3B,WAAWz9F,OAAS,IAC/EumE,EAAM42B,SAAU,EAChBx9F,KAAKg/F,eAAep4B,KAKxBu2B,GAAK6B,eAAiB,SAASp4B,GAC7BA,EAAMnnC,IAAM,EACZmnC,EAAM62B,aAAe,EACrB72B,EAAM82B,gBAAkB,GACxB92B,EAAM+2B,6BAA8B,EACpC/2B,EAAMg3B,mBAAqB,EAC3Bh3B,EAAMi3B,iBAAmB,EACzBj3B,EAAMk3B,WAAWz9F,OAAS,EAC1BumE,EAAMm3B,mBAAmB19F,OAAS,EAElCL,KAAKi/F,mBAAmBr4B,GAEpBA,EAAMnnC,MAAQmnC,EAAMviE,OAAOhE,SAEzBumE,EAAMgY,IAAI,KACZhY,EAAMuO,MAAM,kBAEVvO,EAAMgY,IAAI,KAAiBhY,EAAMgY,IAAI,OACvChY,EAAMuO,MAAM,6BAGZvO,EAAMi3B,iBAAmBj3B,EAAMg3B,oBACjCh3B,EAAMuO,MAAM,kBAEd,IAAK,IAAIz4E,EAAI,EAAGyL,EAAOy+D,EAAMm3B,mBAAoBrhG,EAAIyL,EAAK9H,OAAQ3D,GAAK,EAAG,CACxE,IAAIO,EAAOkL,EAAKzL,IAEwB,IAApCkqE,EAAMk3B,WAAW9uF,QAAQ/R,IAC3B2pE,EAAMuO,MAAM,sCAMlBgoB,GAAK8B,mBAAqB,SAASr4B,GAEjC,IADA5mE,KAAKk/F,mBAAmBt4B,GACjBA,EAAMgY,IAAI,MACf5+E,KAAKk/F,mBAAmBt4B,GAItB5mE,KAAKm/F,qBAAqBv4B,GAAO,IACnCA,EAAMuO,MAAM,qBAEVvO,EAAMgY,IAAI,MACZhY,EAAMuO,MAAM,6BAKhBgoB,GAAK+B,mBAAqB,SAASt4B,GACjC,KAAOA,EAAMnnC,IAAMmnC,EAAMviE,OAAOhE,QAAUL,KAAKo/F,eAAex4B,OAKhEu2B,GAAKiC,eAAiB,SAASx4B,GAC7B,OAAI5mE,KAAKq/F,oBAAoBz4B,IAIvBA,EAAM+2B,6BAA+B39F,KAAKm/F,qBAAqBv4B,IAE7DA,EAAM22B,SACR32B,EAAMuO,MAAM,uBAGT,MAGLvO,EAAM22B,QAAUv9F,KAAKs/F,eAAe14B,GAAS5mE,KAAKu/F,uBAAuB34B,MAC3E5mE,KAAKm/F,qBAAqBv4B,IACnB,IAOXu2B,GAAKkC,oBAAsB,SAASz4B,GAClC,IAAI38D,EAAQ28D,EAAMnnC,IAIlB,GAHAmnC,EAAM+2B,6BAA8B,EAGhC/2B,EAAMgY,IAAI,KAAiBhY,EAAMgY,IAAI,IACvC,OAAO,EAIT,GAAIhY,EAAMgY,IAAI,IAAe,CAC3B,GAAIhY,EAAMgY,IAAI,KAAiBhY,EAAMgY,IAAI,IACvC,OAAO,EAEThY,EAAMnnC,IAAMx1B,EAId,GAAI28D,EAAMgY,IAAI,KAAiBhY,EAAMgY,IAAI,IAAe,CACtD,IAAI4gB,GAAa,EAIjB,GAHIx/F,KAAKmJ,QAAQ0qE,aAAe,IAC9B2rB,EAAa54B,EAAMgY,IAAI,KAErBhY,EAAMgY,IAAI,KAAiBhY,EAAMgY,IAAI,IAMvC,OALA5+E,KAAKi/F,mBAAmBr4B,GACnBA,EAAMgY,IAAI,KACbhY,EAAMuO,MAAM,sBAEdvO,EAAM+2B,6BAA+B6B,GAC9B,EAKX,OADA54B,EAAMnnC,IAAMx1B,GACL,GAITkzF,GAAKgC,qBAAuB,SAASv4B,EAAO64B,GAG1C,YAFiB,IAAZA,IAAqBA,GAAU,KAEhCz/F,KAAK0/F,2BAA2B94B,EAAO64B,KACzC74B,EAAMgY,IAAI,KACH,IAMXue,GAAKuC,2BAA6B,SAAS94B,EAAO64B,GAChD,OACE74B,EAAMgY,IAAI,KACVhY,EAAMgY,IAAI,KACVhY,EAAMgY,IAAI,KACV5+E,KAAK2/F,2BAA2B/4B,EAAO64B,IAG3CtC,GAAKwC,2BAA6B,SAAS/4B,EAAO64B,GAChD,IAAIx1F,EAAQ28D,EAAMnnC,IAClB,GAAImnC,EAAMgY,IAAI,KAAe,CAC3B,IAAI9/E,EAAM,EAAGC,GAAO,EACpB,GAAIiB,KAAK4/F,wBAAwBh5B,KAC/B9nE,EAAM8nE,EAAM62B,aACR72B,EAAMgY,IAAI,KAAiB5+E,KAAK4/F,wBAAwBh5B,KAC1D7nE,EAAM6nE,EAAM62B,cAEV72B,EAAMgY,IAAI,MAKZ,OAHa,IAAT7/E,GAAcA,EAAMD,IAAQ2gG,GAC9B74B,EAAMuO,MAAM,0CAEP,EAGPvO,EAAM22B,UAAYkC,GACpB74B,EAAMuO,MAAM,yBAEdvO,EAAMnnC,IAAMx1B,EAEd,OAAO,GAITkzF,GAAKmC,eAAiB,SAAS14B,GAC7B,OACE5mE,KAAK6/F,4BAA4Bj5B,IACjCA,EAAMgY,IAAI,KACV5+E,KAAK8/F,mCAAmCl5B,IACxC5mE,KAAK+/F,yBAAyBn5B,IAC9B5mE,KAAKggG,2BAA2Bp5B,IAChC5mE,KAAKigG,yBAAyBr5B,IAGlCu2B,GAAK2C,mCAAqC,SAASl5B,GACjD,IAAI38D,EAAQ28D,EAAMnnC,IAClB,GAAImnC,EAAMgY,IAAI,IAAe,CAC3B,GAAI5+E,KAAKkgG,qBAAqBt5B,GAC5B,OAAO,EAETA,EAAMnnC,IAAMx1B,EAEd,OAAO,GAETkzF,GAAK6C,2BAA6B,SAASp5B,GACzC,IAAI38D,EAAQ28D,EAAMnnC,IAClB,GAAImnC,EAAMgY,IAAI,IAAe,CAC3B,GAAIhY,EAAMgY,IAAI,KAAiBhY,EAAMgY,IAAI,IAAe,CAEtD,GADA5+E,KAAKi/F,mBAAmBr4B,GACpBA,EAAMgY,IAAI,IACZ,OAAO,EAEThY,EAAMuO,MAAM,sBAEdvO,EAAMnnC,IAAMx1B,EAEd,OAAO,GAETkzF,GAAK8C,yBAA2B,SAASr5B,GACvC,GAAIA,EAAMgY,IAAI,IAAe,CAO3B,GANI5+E,KAAKmJ,QAAQ0qE,aAAe,EAC9B7zE,KAAKmgG,sBAAsBv5B,GACE,KAApBA,EAAM5oD,WACf4oD,EAAMuO,MAAM,iBAEdn1E,KAAKi/F,mBAAmBr4B,GACpBA,EAAMgY,IAAI,IAEZ,OADAhY,EAAMg3B,oBAAsB,GACrB,EAETh3B,EAAMuO,MAAM,sBAEd,OAAO,GAITgoB,GAAKoC,uBAAyB,SAAS34B,GACrC,OACEA,EAAMgY,IAAI,KACV5+E,KAAK8/F,mCAAmCl5B,IACxC5mE,KAAK+/F,yBAAyBn5B,IAC9B5mE,KAAKggG,2BAA2Bp5B,IAChC5mE,KAAKigG,yBAAyBr5B,IAC9B5mE,KAAKogG,kCAAkCx5B,IACvC5mE,KAAKqgG,mCAAmCz5B,IAK5Cu2B,GAAKiD,kCAAoC,SAASx5B,GAIhD,OAHI5mE,KAAK2/F,2BAA2B/4B,GAAO,IACzCA,EAAMuO,MAAM,sBAEP,GAITgoB,GAAKmD,0BAA4B,SAAS15B,GACxC,IAAI0V,EAAK1V,EAAM5oD,UACf,QAAIigF,GAAkB3hB,KACpB1V,EAAM62B,aAAenhB,EACrB1V,EAAMi4B,WACC,IAiBX1B,GAAK0C,4BAA8B,SAASj5B,GAG1C,IAFA,IAAI38D,EAAQ28D,EAAMnnC,IACd68C,EAAK,GAC0B,KAA3BA,EAAK1V,EAAM5oD,aAAsBigF,GAAkB3hB,IACzD1V,EAAMi4B,UAER,OAAOj4B,EAAMnnC,MAAQx1B,GAIvBkzF,GAAKkD,mCAAqC,SAASz5B,GACjD,IAAI0V,EAAK1V,EAAM5oD,UACf,SACU,IAARs+D,GACO,KAAPA,GACEA,GAAM,IAAgBA,GAAM,IACvB,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,MAAPA,KAEA1V,EAAMi4B,WACC,IAQX1B,GAAKgD,sBAAwB,SAASv5B,GACpC,GAAIA,EAAMgY,IAAI,IAAe,CAC3B,GAAI5+E,KAAKugG,oBAAoB35B,GAK3B,OAJyD,IAArDA,EAAMk3B,WAAW9uF,QAAQ43D,EAAM82B,kBACjC92B,EAAMuO,MAAM,qCAEdvO,EAAMk3B,WAAWj+F,KAAK+mE,EAAM82B,iBAG9B92B,EAAMuO,MAAM,mBAOhBgoB,GAAKoD,oBAAsB,SAAS35B,GAElC,GADAA,EAAM82B,gBAAkB,GACpB92B,EAAMgY,IAAI,IAAe,CAC3B,GAAI5+E,KAAKwgG,+BAA+B55B,IAAUA,EAAMgY,IAAI,IAC1D,OAAO,EAEThY,EAAMuO,MAAM,8BAEd,OAAO,GAOTgoB,GAAKqD,+BAAiC,SAAS55B,GAE7C,GADAA,EAAM82B,gBAAkB,GACpB19F,KAAKygG,gCAAgC75B,GAAQ,CAE/C,IADAA,EAAM82B,iBAAmBM,GAAkBp3B,EAAM62B,cAC1Cz9F,KAAK0gG,+BAA+B95B,IACzCA,EAAM82B,iBAAmBM,GAAkBp3B,EAAM62B,cAEnD,OAAO,EAET,OAAO,GAQTN,GAAKsD,gCAAkC,SAAS75B,GAC9C,IAAI38D,EAAQ28D,EAAMnnC,IACd68C,EAAK1V,EAAM5oD,UAMf,OALA4oD,EAAMi4B,UAEK,KAAPviB,GAAuBt8E,KAAK2gG,sCAAsC/5B,KACpE0V,EAAK1V,EAAM62B,cAUf,SAAiCnhB,GAC/B,OAAOL,EAAkBK,GAAI,IAAgB,KAAPA,GAA8B,KAAPA,EATzDskB,CAAwBtkB,IAC1B1V,EAAM62B,aAAenhB,GACd,IAGT1V,EAAMnnC,IAAMx1B,GACL,IAaTkzF,GAAKuD,+BAAiC,SAAS95B,GAC7C,IAAI38D,EAAQ28D,EAAMnnC,IACd68C,EAAK1V,EAAM5oD,UAMf,OALA4oD,EAAMi4B,UAEK,KAAPviB,GAAuBt8E,KAAK2gG,sCAAsC/5B,KACpE0V,EAAK1V,EAAM62B,cAUf,SAAgCnhB,GAC9B,OAAOJ,EAAiBI,GAAI,IAAgB,KAAPA,GAA8B,KAAPA,GAA8B,OAAPA,GAAqC,OAAPA,EAT7GukB,CAAuBvkB,IACzB1V,EAAM62B,aAAenhB,GACd,IAGT1V,EAAMnnC,IAAMx1B,GACL,IAOTkzF,GAAK+C,qBAAuB,SAASt5B,GACnC,SACE5mE,KAAK8gG,wBAAwBl6B,IAC7B5mE,KAAK+gG,+BAA+Bn6B,IACpC5mE,KAAKghG,0BAA0Bp6B,IAC9BA,EAAM42B,SAAWx9F,KAAKihG,qBAAqBr6B,MAI1CA,EAAM22B,UAEgB,KAApB32B,EAAM5oD,WACR4oD,EAAMuO,MAAM,0BAEdvO,EAAMuO,MAAM,oBAEP,IAETgoB,GAAK2D,wBAA0B,SAASl6B,GACtC,IAAI38D,EAAQ28D,EAAMnnC,IAClB,GAAIz/B,KAAKkhG,wBAAwBt6B,GAAQ,CACvC,IAAIzoE,EAAIyoE,EAAM62B,aACd,GAAI72B,EAAM22B,QAKR,OAHIp/F,EAAIyoE,EAAMi3B,mBACZj3B,EAAMi3B,iBAAmB1/F,IAEpB,EAET,GAAIA,GAAKyoE,EAAMg3B,mBACb,OAAO,EAETh3B,EAAMnnC,IAAMx1B,EAEd,OAAO,GAETkzF,GAAK8D,qBAAuB,SAASr6B,GACnC,GAAIA,EAAMgY,IAAI,KAAe,CAC3B,GAAI5+E,KAAKugG,oBAAoB35B,GAE3B,OADAA,EAAMm3B,mBAAmBl+F,KAAK+mE,EAAM82B,kBAC7B,EAET92B,EAAMuO,MAAM,2BAEd,OAAO,GAITgoB,GAAK6D,0BAA4B,SAASp6B,GACxC,OACE5mE,KAAKmhG,wBAAwBv6B,IAC7B5mE,KAAKohG,yBAAyBx6B,IAC9B5mE,KAAKqhG,eAAez6B,IACpB5mE,KAAKshG,4BAA4B16B,IACjC5mE,KAAK2gG,sCAAsC/5B,KACzCA,EAAM22B,SAAWv9F,KAAKuhG,oCAAoC36B,IAC5D5mE,KAAKwhG,yBAAyB56B,IAGlCu2B,GAAKiE,yBAA2B,SAASx6B,GACvC,IAAI38D,EAAQ28D,EAAMnnC,IAClB,GAAImnC,EAAMgY,IAAI,IAAe,CAC3B,GAAI5+E,KAAKyhG,wBAAwB76B,GAC/B,OAAO,EAETA,EAAMnnC,IAAMx1B,EAEd,OAAO,GAETkzF,GAAKkE,eAAiB,SAASz6B,GAC7B,OAAwB,KAApBA,EAAM5oD,YAA+BqgF,GAAez3B,EAAMg4B,eAC5Dh4B,EAAM62B,aAAe,EACrB72B,EAAMi4B,WACC,IAMX1B,GAAKgE,wBAA0B,SAASv6B,GACtC,IAAI0V,EAAK1V,EAAM5oD,UACf,OAAW,MAAPs+D,GACF1V,EAAM62B,aAAe,EACrB72B,EAAMi4B,WACC,GAEE,MAAPviB,GACF1V,EAAM62B,aAAe,GACrB72B,EAAMi4B,WACC,GAEE,MAAPviB,GACF1V,EAAM62B,aAAe,GACrB72B,EAAMi4B,WACC,GAEE,MAAPviB,GACF1V,EAAM62B,aAAe,GACrB72B,EAAMi4B,WACC,GAEE,MAAPviB,IACF1V,EAAM62B,aAAe,GACrB72B,EAAMi4B,WACC,IAMX1B,GAAKsE,wBAA0B,SAAS76B,GACtC,IAAI0V,EAAK1V,EAAM5oD,UACf,QAAIkgF,GAAgB5hB,KAClB1V,EAAM62B,aAAenhB,EAAK,GAC1B1V,EAAMi4B,WACC,IAYX1B,GAAKwD,sCAAwC,SAAS/5B,GACpD,IAoCsB0V,EApClBryE,EAAQ28D,EAAMnnC,IAElB,GAAImnC,EAAMgY,IAAI,KAAe,CAC3B,GAAI5+E,KAAK0hG,yBAAyB96B,EAAO,GAAI,CAC3C,IAAI+6B,EAAO/6B,EAAM62B,aACjB,GAAI72B,EAAM22B,SAAWoE,GAAQ,OAAUA,GAAQ,MAAQ,CACrD,IAAIC,EAAmBh7B,EAAMnnC,IAC7B,GAAImnC,EAAMgY,IAAI,KAAiBhY,EAAMgY,IAAI,MAAiB5+E,KAAK0hG,yBAAyB96B,EAAO,GAAI,CACjG,IAAIi7B,EAAQj7B,EAAM62B,aAClB,GAAIoE,GAAS,OAAUA,GAAS,MAE9B,OADAj7B,EAAM62B,aAAiC,MAAjBkE,EAAO,QAAmBE,EAAQ,OAAU,OAC3D,EAGXj7B,EAAMnnC,IAAMmiE,EACZh7B,EAAM62B,aAAekE,EAEvB,OAAO,EAET,GACE/6B,EAAM22B,SACN32B,EAAMgY,IAAI,MACV5+E,KAAK8hG,oBAAoBl7B,IACzBA,EAAMgY,IAAI,QAaQtC,EAZH1V,EAAM62B,eAaZ,GAAKnhB,GAAM,SAXpB,OAAO,EAEL1V,EAAM22B,SACR32B,EAAMuO,MAAM,0BAEdvO,EAAMnnC,IAAMx1B,EAGd,OAAO,GAOTkzF,GAAKqE,yBAA2B,SAAS56B,GACvC,GAAIA,EAAM22B,QACR,QAAIv9F,KAAKsgG,0BAA0B15B,MAG/BA,EAAMgY,IAAI,MACZhY,EAAM62B,aAAe,IACd,GAKX,IAAInhB,EAAK1V,EAAM5oD,UACf,QAAW,KAAPs+D,GAAyB1V,EAAM42B,SAAkB,MAAPlhB,KAC5C1V,EAAM62B,aAAenhB,EACrB1V,EAAMi4B,WACC,IAOX1B,GAAK+D,wBAA0B,SAASt6B,GACtCA,EAAM62B,aAAe,EACrB,IAAInhB,EAAK1V,EAAM5oD,UACf,GAAIs+D,GAAM,IAAgBA,GAAM,GAAc,CAC5C,GACE1V,EAAM62B,aAAe,GAAK72B,EAAM62B,cAAgBnhB,EAAK,IACrD1V,EAAMi4B,iBACEviB,EAAK1V,EAAM5oD,YAAc,IAAgBs+D,GAAM,IACzD,OAAO,EAET,OAAO,GAIT6gB,GAAK4D,+BAAiC,SAASn6B,GAC7C,IAAI0V,EAAK1V,EAAM5oD,UAEf,GAyBF,SAAgCs+D,GAC9B,OACS,MAAPA,GACO,KAAPA,GACO,MAAPA,GACO,KAAPA,GACO,MAAPA,GACO,KAAPA,EAhCEylB,CAAuBzlB,GAGzB,OAFA1V,EAAM62B,cAAgB,EACtB72B,EAAMi4B,WACC,EAGT,GACEj4B,EAAM22B,SACNv9F,KAAKmJ,QAAQ0qE,aAAe,IACpB,KAAPyI,GAA8B,MAAPA,GACxB,CAGA,GAFA1V,EAAM62B,cAAgB,EACtB72B,EAAMi4B,UAEJj4B,EAAMgY,IAAI,MACV5+E,KAAKgiG,yCAAyCp7B,IAC9CA,EAAMgY,IAAI,KAEV,OAAO,EAEThY,EAAMuO,MAAM,yBAGd,OAAO,GAgBTgoB,GAAK6E,yCAA2C,SAASp7B,GACvD,IAAI38D,EAAQ28D,EAAMnnC,IAGlB,GAAIz/B,KAAKiiG,8BAA8Br7B,IAAUA,EAAMgY,IAAI,IAAe,CACxE,IAAI3hF,EAAO2pE,EAAM82B,gBACjB,GAAI19F,KAAKkiG,+BAA+Bt7B,GAAQ,CAC9C,IAAIjpE,EAAQipE,EAAM82B,gBAElB,OADA19F,KAAKmiG,2CAA2Cv7B,EAAO3pE,EAAMU,IACtD,GAMX,GAHAipE,EAAMnnC,IAAMx1B,EAGRjK,KAAKoiG,yCAAyCx7B,GAAQ,CACxD,IAAIy7B,EAAcz7B,EAAM82B,gBAExB,OADA19F,KAAKsiG,0CAA0C17B,EAAOy7B,IAC/C,EAET,OAAO,GAETlF,GAAKgF,2CAA6C,SAASv7B,EAAO3pE,EAAMU,GACjEysF,EAAIxjB,EAAM02B,kBAAkBV,UAAW3/F,IACxC2pE,EAAMuO,MAAM,yBACXvO,EAAM02B,kBAAkBV,UAAU3/F,GAAMwK,KAAK9J,IAC9CipE,EAAMuO,MAAM,2BAElBgoB,GAAKmF,0CAA4C,SAAS17B,EAAOy7B,GAC1Dz7B,EAAM02B,kBAAkBX,OAAOl1F,KAAK46F,IACrCz7B,EAAMuO,MAAM,0BAKlBgoB,GAAK8E,8BAAgC,SAASr7B,GAC5C,IAAI0V,EAAK,EAET,IADA1V,EAAM82B,gBAAkB,GACjBS,GAA+B7hB,EAAK1V,EAAM5oD,YAC/C4oD,EAAM82B,iBAAmBM,GAAkB1hB,GAC3C1V,EAAMi4B,UAER,MAAiC,KAA1Bj4B,EAAM82B,iBAQfP,GAAK+E,+BAAiC,SAASt7B,GAC7C,IAAI0V,EAAK,EAET,IADA1V,EAAM82B,gBAAkB,GACjBU,GAAgC9hB,EAAK1V,EAAM5oD,YAChD4oD,EAAM82B,iBAAmBM,GAAkB1hB,GAC3C1V,EAAMi4B,UAER,MAAiC,KAA1Bj4B,EAAM82B,iBAQfP,GAAKiF,yCAA2C,SAASx7B,GACvD,OAAO5mE,KAAKkiG,+BAA+Bt7B,IAI7Cu2B,GAAK4C,yBAA2B,SAASn5B,GACvC,GAAIA,EAAMgY,IAAI,IAAe,CAG3B,GAFAhY,EAAMgY,IAAI,IACV5+E,KAAKuiG,mBAAmB37B,GACpBA,EAAMgY,IAAI,IACZ,OAAO,EAGThY,EAAMuO,MAAM,gCAEd,OAAO,GAMTgoB,GAAKoF,mBAAqB,SAAS37B,GACjC,KAAO5mE,KAAKwiG,oBAAoB57B,IAAQ,CACtC,IAAIhyD,EAAOgyD,EAAM62B,aACjB,GAAI72B,EAAMgY,IAAI,KAAiB5+E,KAAKwiG,oBAAoB57B,GAAQ,CAC9D,IAAI9xD,EAAQ8xD,EAAM62B,cACd72B,EAAM22B,UAAsB,IAAV3oF,IAA0B,IAAXE,GACnC8xD,EAAMuO,MAAM,4BAEA,IAAVvgE,IAA0B,IAAXE,GAAgBF,EAAOE,GACxC8xD,EAAMuO,MAAM,4CAQpBgoB,GAAKqF,oBAAsB,SAAS57B,GAClC,IAAI38D,EAAQ28D,EAAMnnC,IAElB,GAAImnC,EAAMgY,IAAI,IAAe,CAC3B,GAAI5+E,KAAKyiG,sBAAsB77B,GAC7B,OAAO,EAET,GAAIA,EAAM22B,QAAS,CAEjB,IAAImF,EAAO97B,EAAM5oD,WACJ,KAAT0kF,GAAyBlE,GAAakE,KACxC97B,EAAMuO,MAAM,wBAEdvO,EAAMuO,MAAM,kBAEdvO,EAAMnnC,IAAMx1B,EAGd,IAAIqyE,EAAK1V,EAAM5oD,UACf,OAAW,KAAPs+D,IACF1V,EAAM62B,aAAenhB,EACrB1V,EAAMi4B,WACC,IAOX1B,GAAKsF,sBAAwB,SAAS77B,GACpC,IAAI38D,EAAQ28D,EAAMnnC,IAElB,GAAImnC,EAAMgY,IAAI,IAEZ,OADAhY,EAAM62B,aAAe,GACd,EAGT,GAAI72B,EAAM22B,SAAW32B,EAAMgY,IAAI,IAE7B,OADAhY,EAAM62B,aAAe,IACd,EAGT,IAAK72B,EAAM22B,SAAW32B,EAAMgY,IAAI,IAAe,CAC7C,GAAI5+E,KAAK2iG,6BAA6B/7B,GACpC,OAAO,EAETA,EAAMnnC,IAAMx1B,EAGd,OACEjK,KAAK+gG,+BAA+Bn6B,IACpC5mE,KAAKghG,0BAA0Bp6B,IAKnCu2B,GAAKwF,6BAA+B,SAAS/7B,GAC3C,IAAI0V,EAAK1V,EAAM5oD,UACf,SAAIqgF,GAAe/hB,IAAc,KAAPA,KACxB1V,EAAM62B,aAAenhB,EAAK,GAC1B1V,EAAMi4B,WACC,IAMX1B,GAAKmE,4BAA8B,SAAS16B,GAC1C,IAAI38D,EAAQ28D,EAAMnnC,IAClB,GAAImnC,EAAMgY,IAAI,KAAe,CAC3B,GAAI5+E,KAAK0hG,yBAAyB96B,EAAO,GACvC,OAAO,EAELA,EAAM22B,SACR32B,EAAMuO,MAAM,kBAEdvO,EAAMnnC,IAAMx1B,EAEd,OAAO,GAITkzF,GAAKyC,wBAA0B,SAASh5B,GACtC,IAAI38D,EAAQ28D,EAAMnnC,IACd68C,EAAK,EAET,IADA1V,EAAM62B,aAAe,EACdY,GAAe/hB,EAAK1V,EAAM5oD,YAC/B4oD,EAAM62B,aAAe,GAAK72B,EAAM62B,cAAgBnhB,EAAK,IACrD1V,EAAMi4B,UAER,OAAOj4B,EAAMnnC,MAAQx1B,GAOvBkzF,GAAK2E,oBAAsB,SAASl7B,GAClC,IAAI38D,EAAQ28D,EAAMnnC,IACd68C,EAAK,EAET,IADA1V,EAAM62B,aAAe,EACda,GAAWhiB,EAAK1V,EAAM5oD,YAC3B4oD,EAAM62B,aAAe,GAAK72B,EAAM62B,aAAec,GAASjiB,GACxD1V,EAAMi4B,UAER,OAAOj4B,EAAMnnC,MAAQx1B,GAqBvBkzF,GAAKoE,oCAAsC,SAAS36B,GAClD,GAAI5mE,KAAK4iG,qBAAqBh8B,GAAQ,CACpC,IAAIi8B,EAAKj8B,EAAM62B,aACf,GAAIz9F,KAAK4iG,qBAAqBh8B,GAAQ,CACpC,IAAIk8B,EAAKl8B,EAAM62B,aACXoF,GAAM,GAAK7iG,KAAK4iG,qBAAqBh8B,GACvCA,EAAM62B,aAAoB,GAALoF,EAAe,EAALC,EAASl8B,EAAM62B,aAE9C72B,EAAM62B,aAAoB,EAALoF,EAASC,OAGhCl8B,EAAM62B,aAAeoF,EAEvB,OAAO,EAET,OAAO,GAIT1F,GAAKyF,qBAAuB,SAASh8B,GACnC,IAAI0V,EAAK1V,EAAM5oD,UACf,OAAIwgF,GAAaliB,IACf1V,EAAM62B,aAAenhB,EAAK,GAC1B1V,EAAMi4B,WACC,IAETj4B,EAAM62B,aAAe,GACd,IASTN,GAAKuE,yBAA2B,SAAS96B,EAAOvmE,GAC9C,IAAI4J,EAAQ28D,EAAMnnC,IAClBmnC,EAAM62B,aAAe,EACrB,IAAK,IAAI/gG,EAAI,EAAGA,EAAI2D,IAAU3D,EAAG,CAC/B,IAAI4/E,EAAK1V,EAAM5oD,UACf,IAAKsgF,GAAWhiB,GAEd,OADA1V,EAAMnnC,IAAMx1B,GACL,EAET28D,EAAM62B,aAAe,GAAK72B,EAAM62B,aAAec,GAASjiB,GACxD1V,EAAMi4B,UAER,OAAO,GAOT,IAAIkE,GAAQ,SAAevkG,GACzBwB,KAAK0I,KAAOlK,EAAEkK,KACd1I,KAAKrC,MAAQa,EAAEb,MACfqC,KAAKiK,MAAQzL,EAAEyL,MACfjK,KAAKqI,IAAM7J,EAAE6J,IACT7J,EAAE2K,QAAQiqC,YACVpzC,KAAKixC,IAAM,IAAIu5C,EAAehsF,EAAGA,EAAEk3E,SAAUl3E,EAAEm3E,SAC/Cn3E,EAAE2K,QAAQgrE,SACVn0E,KAAKy+E,MAAQ,CAACjgF,EAAEyL,MAAOzL,EAAE6J,OAK3B26F,GAAO1X,EAAOhtF,UAkdlB,SAAS2kG,GAAoBnwF,GAE3B,OAAIA,GAAQ,MAAiBkwD,OAAOC,aAAanwD,IACjDA,GAAQ,MACDkwD,OAAOC,aAA4B,OAAdnwD,GAAQ,IAA8B,OAAR,KAAPA,KAldrDkwF,GAAKzhF,KAAO,WACNvhB,KAAKmJ,QAAQ4hF,SACb/qF,KAAKmJ,QAAQ4hF,QAAQ,IAAIgY,GAAM/iG,OAEnCA,KAAKksF,WAAalsF,KAAKqI,IACvBrI,KAAKisF,aAAejsF,KAAKiK,MACzBjK,KAAK+rF,cAAgB/rF,KAAK21E,OAC1B31E,KAAKgsF,gBAAkBhsF,KAAK01E,SAC5B11E,KAAKqtF,aAGP2V,GAAKxtB,SAAW,WAEd,OADAx1E,KAAKuhB,OACE,IAAIwhF,GAAM/iG,OAIG,oBAAXvC,SACPulG,GAAKvlG,OAAOylG,UAAY,WACxB,IAAI/P,EAASnzF,KAEb,MAAO,CACLuhB,KAAM,WACJ,IAAI0pE,EAAQkI,EAAO3d,WACnB,MAAO,CACL2tB,KAAMlY,EAAMviF,OAASkG,EAAM+rE,IAC3Bh9E,MAAOstF,OASjB+X,GAAKpH,WAAa,WAChB,OAAO57F,KAAKslC,QAAQtlC,KAAKslC,QAAQjlC,OAAS,IAM5C2iG,GAAK3V,UAAY,WACf,IAAIuO,EAAa57F,KAAK47F,aAKtB,OAJKA,GAAeA,EAAWjB,eAAiB36F,KAAK81E,YAErD91E,KAAKiK,MAAQjK,KAAKy/B,IACdz/B,KAAKmJ,QAAQiqC,YAAapzC,KAAK01E,SAAW11E,KAAK8rF,eAC/C9rF,KAAKy/B,KAAOz/B,KAAKoyE,MAAM/xE,OAAiBL,KAAKm8E,YAAYvtE,EAAM+rE,KAE/DihB,EAAWhB,SAAmBgB,EAAWhB,SAAS56F,WAC/CA,KAAKkzE,UAAUlzE,KAAKojG,sBAG7BJ,GAAK9vB,UAAY,SAASpgE,GAGxB,OAAImpE,EAAkBnpE,EAAM9S,KAAKmJ,QAAQ0qE,aAAe,IAAe,KAAT/gE,EACnD9S,KAAKw9E,WAETx9E,KAAKw8E,iBAAiB1pE,IAG/BkwF,GAAKI,kBAAoB,WACvB,IAAItwF,EAAO9S,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,KACtC,OAAI3sB,GAAQ,OAAUA,GAAQ,MAAiBA,GAEvCA,GAAQ,IADL9S,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GACf,UAG/BujE,GAAK5mB,iBAAmB,WACtB,IAMMh1E,EANFsuE,EAAW11E,KAAKmJ,QAAQ+qE,WAAal0E,KAAK8rF,cAC1C7hF,EAAQjK,KAAKy/B,IAAKp3B,EAAMrI,KAAKoyE,MAAMpjE,QAAQ,KAAMhP,KAAKy/B,KAAO,GAGjE,IAFa,IAATp3B,GAAcrI,KAAKm1E,MAAMn1E,KAAKy/B,IAAM,EAAG,wBAC3Cz/B,KAAKy/B,IAAMp3B,EAAM,EACbrI,KAAKmJ,QAAQiqC,UAGf,IAFA42C,EAAW/U,UAAYhrE,GAEf7C,EAAQ4iF,EAAWr4E,KAAK3R,KAAKoyE,SAAWhrE,EAAM0G,MAAQ9N,KAAKy/B,OAC/Dz/B,KAAK6rF,QACP7rF,KAAK4rF,UAAYxkF,EAAM0G,MAAQ1G,EAAM,GAAG/G,OAGxCL,KAAKmJ,QAAQ+qE,WACbl0E,KAAKmJ,QAAQ+qE,WAAU,EAAMl0E,KAAKoyE,MAAM5sE,MAAMyE,EAAQ,EAAG5B,GAAM4B,EAAOjK,KAAKy/B,IACtDi2C,EAAU11E,KAAK8rF,gBAG1CkX,GAAK3mB,gBAAkB,SAASgnB,GAI9B,IAHA,IAAIp5F,EAAQjK,KAAKy/B,IACbi2C,EAAW11E,KAAKmJ,QAAQ+qE,WAAal0E,KAAK8rF,cAC1CxP,EAAKt8E,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,KAAO4jE,GACpCrjG,KAAKy/B,IAAMz/B,KAAKoyE,MAAM/xE,SAAW4pF,EAAU3N,IAChDA,EAAKt8E,KAAKoyE,MAAMmK,aAAav8E,KAAKy/B,KAEhCz/B,KAAKmJ,QAAQ+qE,WACbl0E,KAAKmJ,QAAQ+qE,WAAU,EAAOl0E,KAAKoyE,MAAM5sE,MAAMyE,EAAQo5F,EAAWrjG,KAAKy/B,KAAMx1B,EAAOjK,KAAKy/B,IACpEi2C,EAAU11E,KAAK8rF,gBAM1CkX,GAAKltB,UAAY,WACfp2B,EAAM,KAAO1/C,KAAKy/B,IAAMz/B,KAAKoyE,MAAM/xE,QAAQ,CACzC,IAAIi8E,EAAKt8E,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,KACpC,OAAQ68C,GACR,KAAK,GAAI,KAAK,MACVt8E,KAAKy/B,IACP,MACF,KAAK,GACyC,KAAxCz/B,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,MACjCz/B,KAAKy/B,IAEX,KAAK,GAAI,KAAK,KAAM,KAAK,OACrBz/B,KAAKy/B,IACHz/B,KAAKmJ,QAAQiqC,cACbpzC,KAAK6rF,QACP7rF,KAAK4rF,UAAY5rF,KAAKy/B,KAExB,MACF,KAAK,GACH,OAAQz/B,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,IACzC,KAAK,GACHz/B,KAAKo8E,mBACL,MACF,KAAK,GACHp8E,KAAKq8E,gBAAgB,GACrB,MACF,QACE,MAAM38B,EAER,MACF,QACE,KAAI48B,EAAK,GAAKA,EAAK,IAAMA,GAAM,MAAQX,EAAmBl0E,KAAKu7D,OAAOC,aAAaqZ,KAGjF,MAAM58B,IAFJ1/C,KAAKy/B,OAafujE,GAAK7mB,YAAc,SAASzzE,EAAM7B,GAChC7G,KAAKqI,IAAMrI,KAAKy/B,IACZz/B,KAAKmJ,QAAQiqC,YAAapzC,KAAK21E,OAAS31E,KAAK8rF,eACjD,IAAI6P,EAAW37F,KAAK0I,KACpB1I,KAAK0I,KAAOA,EACZ1I,KAAKrC,MAAQkJ,EAEb7G,KAAKmoF,cAAcwT,IAYrBqH,GAAKtmB,cAAgB,WACnB,IAAIn7D,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAC5C,GAAIle,GAAQ,IAAMA,GAAQ,GAAM,OAAOvhB,KAAKy8E,YAAW,GACvD,IAAI6mB,EAAQtjG,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAC7C,OAAIz/B,KAAKmJ,QAAQ0qE,aAAe,GAAc,KAATtyD,GAAyB,KAAV+hF,GAClDtjG,KAAKy/B,KAAO,EACLz/B,KAAKm8E,YAAYvtE,EAAM45E,cAE5BxoF,KAAKy/B,IACAz/B,KAAKm8E,YAAYvtE,EAAM4O,OAIlCwlF,GAAK7lB,gBAAkB,WACrB,IAAI57D,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAC5C,OAAIz/B,KAAKosF,eAAiBpsF,KAAKy/B,IAAYz/B,KAAKi9E,cACnC,KAAT17D,EAAsBvhB,KAAKk9E,SAAStuE,EAAM5I,OAAQ,GAC/ChG,KAAKk9E,SAAStuE,EAAM6rE,MAAO,IAGpCuoB,GAAKO,0BAA4B,SAASzwF,GACxC,IAAIyO,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GACxClgC,EAAO,EACPikG,EAAqB,KAAT1wF,EAAclE,EAAMy6E,KAAOz6E,EAAM2P,OASjD,OANIve,KAAKmJ,QAAQ0qE,aAAe,GAAc,KAAT/gE,GAAwB,KAATyO,MAChDhiB,EACFikG,EAAY50F,EAAM06E,SAClB/nE,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,IAG7B,KAATle,EAAsBvhB,KAAKk9E,SAAStuE,EAAM5I,OAAQzG,EAAO,GACtDS,KAAKk9E,SAASsmB,EAAWjkG,IAGlCyjG,GAAK5lB,mBAAqB,SAAStqE,GACjC,IAAIyO,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAC5C,OAAIle,IAASzO,EAAe9S,KAAKk9E,SAAkB,MAATpqE,EAAelE,EAAMg6E,UAAYh6E,EAAMi6E,WAAY,GAChF,KAATtnE,EAAsBvhB,KAAKk9E,SAAStuE,EAAM5I,OAAQ,GAC/ChG,KAAKk9E,SAAkB,MAATpqE,EAAelE,EAAMk6E,UAAYl6E,EAAMo6E,WAAY,IAG1Ega,GAAKS,gBAAkB,WAErB,OAAa,KADFzjG,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAClBz/B,KAAKk9E,SAAStuE,EAAM5I,OAAQ,GAC/ChG,KAAKk9E,SAAStuE,EAAMm6E,WAAY,IAGzCia,GAAK3lB,mBAAqB,SAASvqE,GACjC,IAAIyO,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAC5C,OAAIle,IAASzO,EACE,KAATyO,GAAgBvhB,KAAKqsF,UAAoD,KAAxCrsF,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,IAC7C,IAApBz/B,KAAKksF,aAAoBlX,EAAUvtE,KAAKzH,KAAKoyE,MAAM5sE,MAAMxF,KAAKksF,WAAYlsF,KAAKy/B,MAM7Ez/B,KAAKk9E,SAAStuE,EAAM+5E,OAAQ,IAJjC3oF,KAAKq8E,gBAAgB,GACrBr8E,KAAK81E,YACE91E,KAAKqtF,aAIH,KAAT9rE,EAAsBvhB,KAAKk9E,SAAStuE,EAAM5I,OAAQ,GAC/ChG,KAAKk9E,SAAStuE,EAAMw6E,QAAS,IAGtC4Z,GAAK1lB,gBAAkB,SAASxqE,GAC9B,IAAIyO,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GACxClgC,EAAO,EACX,OAAIgiB,IAASzO,GACXvT,EAAgB,KAATuT,GAAuD,KAAxC9S,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAAY,EAAI,EACxB,KAA3Cz/B,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAMlgC,GAAuBS,KAAKk9E,SAAStuE,EAAM5I,OAAQzG,EAAO,GACxFS,KAAKk9E,SAAStuE,EAAMu6E,SAAU5pF,IAE1B,KAATgiB,GAAwB,KAATzO,GAAgB9S,KAAKqsF,UAAoD,KAAxCrsF,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,IACzC,KAAxCz/B,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,IAMxB,KAATle,IAAehiB,EAAO,GACnBS,KAAKk9E,SAAStuE,EAAMs6E,WAAY3pF,KALrCS,KAAKq8E,gBAAgB,GACrBr8E,KAAK81E,YACE91E,KAAKqtF,cAMhB2V,GAAKzlB,kBAAoB,SAASzqE,GAChC,IAAIyO,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAC5C,OAAa,KAATle,EAAsBvhB,KAAKk9E,SAAStuE,EAAMq6E,SAAkD,KAAxCjpF,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAAY,EAAI,GAC5F,KAAT3sB,GAAwB,KAATyO,GAAevhB,KAAKmJ,QAAQ0qE,aAAe,GAC5D7zE,KAAKy/B,KAAO,EACLz/B,KAAKm8E,YAAYvtE,EAAMy5E,QAEzBroF,KAAKk9E,SAAkB,KAATpqE,EAAclE,EAAM8rE,GAAK9rE,EAAMqoD,OAAQ,IAG9D+rC,GAAKxmB,iBAAmB,SAAS1pE,GAC/B,OAAQA,GAGR,KAAK,GACH,OAAO9S,KAAK08E,gBAGd,KAAK,GAAgB,QAAV18E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAMurE,QACnD,KAAK,GAAgB,QAAVn6E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAMwrE,QACnD,KAAK,GAAgB,QAAVp6E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAM0rE,MACnD,KAAK,GAAgB,QAAVt6E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAMyrE,OACnD,KAAK,GAAgB,QAAVr6E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAMmrE,UACnD,KAAK,GAAgB,QAAV/5E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAMorE,UACnD,KAAK,IAAiB,QAAVh6E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAMqrE,QACpD,KAAK,IAAiB,QAAVj6E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAMsrE,QACpD,KAAK,GAAgB,QAAVl6E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAM2rE,OACnD,KAAK,GAAgB,QAAVv6E,KAAKy/B,IAAYz/B,KAAKm8E,YAAYvtE,EAAM4rE,UAEnD,KAAK,GACH,GAAIx6E,KAAKmJ,QAAQ0qE,YAAc,EAAK,MAEpC,QADE7zE,KAAKy/B,IACAz/B,KAAKm8E,YAAYvtE,EAAM65E,WAEhC,KAAK,GACH,IAAIlnE,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAC5C,GAAa,MAATle,GAAyB,KAATA,EAAe,OAAOvhB,KAAK0jG,gBAAgB,IAC/D,GAAI1jG,KAAKmJ,QAAQ0qE,aAAe,EAAG,CACjC,GAAa,MAATtyD,GAAyB,KAATA,EAAe,OAAOvhB,KAAK0jG,gBAAgB,GAC/D,GAAa,KAATniF,GAAwB,KAATA,EAAe,OAAOvhB,KAAK0jG,gBAAgB,GAKlE,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAC3E,OAAO1jG,KAAKy8E,YAAW,GAGzB,KAAK,GAAI,KAAK,GACZ,OAAOz8E,KAAKg9E,WAAWlqE,GAOzB,KAAK,GACH,OAAO9S,KAAKm9E,kBAEd,KAAK,GAAI,KAAK,GACZ,OAAOn9E,KAAKujG,0BAA0BzwF,GAExC,KAAK,IAAK,KAAK,GACb,OAAO9S,KAAKo9E,mBAAmBtqE,GAEjC,KAAK,GACH,OAAO9S,KAAKyjG,kBAEd,KAAK,GAAI,KAAK,GACZ,OAAOzjG,KAAKq9E,mBAAmBvqE,GAEjC,KAAK,GAAI,KAAK,GACZ,OAAO9S,KAAKs9E,gBAAgBxqE,GAE9B,KAAK,GAAI,KAAK,GACZ,OAAO9S,KAAKu9E,kBAAkBzqE,GAEhC,KAAK,IACH,OAAO9S,KAAKk9E,SAAStuE,EAAMqoD,OAAQ,GAGrCj3D,KAAKm1E,MAAMn1E,KAAKy/B,IAAK,yBAA2BwjE,GAAoBnwF,GAAQ,MAG9EkwF,GAAK9lB,SAAW,SAASx0E,EAAMnJ,GAC7B,IAAI4O,EAAMnO,KAAKoyE,MAAM5sE,MAAMxF,KAAKy/B,IAAKz/B,KAAKy/B,IAAMlgC,GAEhD,OADAS,KAAKy/B,KAAOlgC,EACLS,KAAKm8E,YAAYzzE,EAAMyF,IAGhC60F,GAAK/lB,WAAa,WAEhB,IADA,IAAIS,EAASC,EAAS1zE,EAAQjK,KAAKy/B,MAC1B,CACHz/B,KAAKy/B,KAAOz/B,KAAKoyE,MAAM/xE,QAAUL,KAAKm1E,MAAMlrE,EAAO,mCACvD,IAAIqyE,EAAKt8E,KAAKoyE,MAAMwL,OAAO59E,KAAKy/B,KAEhC,GADIu1C,EAAUvtE,KAAK60E,IAAOt8E,KAAKm1E,MAAMlrE,EAAO,mCACvCyzE,EAKIA,GAAU,MALL,CACZ,GAAW,MAAPpB,EAAcqB,GAAU,OACvB,GAAW,MAAPrB,GAAcqB,EAAWA,GAAU,OACvC,GAAW,MAAPrB,IAAeqB,EAAW,MACnCD,EAAiB,OAAPpB,IAEVt8E,KAAKy/B,IAET,IAAIm4D,EAAU53F,KAAKoyE,MAAM5sE,MAAMyE,EAAOjK,KAAKy/B,OACzCz/B,KAAKy/B,IACP,IAAIkkE,EAAa3jG,KAAKy/B,IAClBpV,EAAQrqB,KAAK89E,YACb99E,KAAKq7E,aAAer7E,KAAK++E,WAAW4kB,GAGxC,IAAI/8B,EAAQ5mE,KAAK8sF,cAAgB9sF,KAAK8sF,YAAc,IAAIsQ,GAAsBp9F,OAC9E4mE,EAAMniD,MAAMxa,EAAO2tF,EAASvtE,GAC5BrqB,KAAK8+F,oBAAoBl4B,GACzB5mE,KAAK++F,sBAAsBn4B,GAG3B,IAAIjpE,EAAQ,KACZ,IACEA,EAAQ,IAAIm+E,OAAO8b,EAASvtE,GAC5B,MAAO8a,IAKT,OAAOnlC,KAAKm8E,YAAYvtE,EAAMisE,OAAQ,CAAC+c,QAASA,EAASvtE,MAAOA,EAAO1sB,MAAOA,KAOhFqlG,GAAKrmB,QAAU,SAASoB,EAAOhsC,GAE7B,IADA,IAAI9nC,EAAQjK,KAAKy/B,IAAK8G,EAAQ,EACrB7pC,EAAI,EAAGyoC,EAAW,MAAP4M,EAAc72B,IAAW62B,EAAKr1C,EAAIyoC,IAAKzoC,EAAG,CAC5D,IAAIoW,EAAO9S,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,KAAM54B,OAAM,EAKlD,IAJkBA,EAAdiM,GAAQ,GAAYA,EAAO,GAAK,GAC3BA,GAAQ,GAAYA,EAAO,GAAK,GAChCA,GAAQ,IAAMA,GAAQ,GAAYA,EAAO,GACrCoI,MACF6iE,EAAS,QAClB/9E,KAAKy/B,IACP8G,EAAQA,EAAQw3C,EAAQl3E,EAE1B,OAAI7G,KAAKy/B,MAAQx1B,GAAgB,MAAP8nC,GAAe/xC,KAAKy/B,IAAMx1B,IAAU8nC,EAAc,KAErExL,GAGTy8D,GAAKU,gBAAkB,SAAS3lB,GAC9B,IAAI9zE,EAAQjK,KAAKy/B,IACjBz/B,KAAKy/B,KAAO,EACZ,IAAI54B,EAAM7G,KAAK28E,QAAQoB,GAMvB,OALW,MAAPl3E,GAAe7G,KAAKm1E,MAAMn1E,KAAKiK,MAAQ,EAAG,4BAA8B8zE,GACxE/9E,KAAKmJ,QAAQ0qE,aAAe,IAA0C,MAApC7zE,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,MAC/D54B,EAAwB,oBAAX+8F,OAAyBA,OAAO5jG,KAAKoyE,MAAM5sE,MAAMyE,EAAOjK,KAAKy/B,MAAQ,OAChFz/B,KAAKy/B,KACEw8C,EAAkBj8E,KAAKojG,sBAAwBpjG,KAAKm1E,MAAMn1E,KAAKy/B,IAAK,oCACxEz/B,KAAKm8E,YAAYvtE,EAAMgsE,IAAK/zE,IAKrCm8F,GAAKvmB,WAAa,SAASuB,GACzB,IAAI/zE,EAAQjK,KAAKy/B,IACZu+C,GAAsC,OAArBh+E,KAAK28E,QAAQ,KAAgB38E,KAAKm1E,MAAMlrE,EAAO,kBACrE,IAAI6yE,EAAQ98E,KAAKy/B,IAAMx1B,GAAS,GAAsC,KAAjCjK,KAAKoyE,MAAMmK,WAAWtyE,GACvD6yE,GAAS98E,KAAKgzE,QAAUhzE,KAAKm1E,MAAMlrE,EAAO,kBAC1C6yE,GAAS,OAAOr1E,KAAKzH,KAAKoyE,MAAM5sE,MAAMyE,EAAOjK,KAAKy/B,QAASq9C,GAAQ,GACvE,IAAIv7D,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,KACtC,IAAKq9C,IAAUkB,GAAiBh+E,KAAKmJ,QAAQ0qE,aAAe,IAAe,MAATtyD,EAAc,CAC9E,IAAIsiF,EAAQ7jG,KAAKoyE,MAAM5sE,MAAMyE,EAAOjK,KAAKy/B,KACrCqkE,EAA0B,oBAAXF,OAAyBA,OAAOC,GAAS,KAG5D,QAFE7jG,KAAKy/B,IACHw8C,EAAkBj8E,KAAKojG,sBAAwBpjG,KAAKm1E,MAAMn1E,KAAKy/B,IAAK,oCACjEz/B,KAAKm8E,YAAYvtE,EAAMgsE,IAAKkpB,GAExB,KAATviF,GAAgBu7D,MAChB98E,KAAKy/B,IACPz/B,KAAK28E,QAAQ,IACbp7D,EAAOvhB,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,MAEtB,KAATle,GAAwB,MAATA,GAAkBu7D,IAEvB,MADbv7D,EAAOvhB,KAAKoyE,MAAMmK,aAAav8E,KAAKy/B,OACR,KAATle,KAAiBvhB,KAAKy/B,IAChB,OAArBz/B,KAAK28E,QAAQ,KAAgB38E,KAAKm1E,MAAMlrE,EAAO,mBAEjDgyE,EAAkBj8E,KAAKojG,sBAAwBpjG,KAAKm1E,MAAMn1E,KAAKy/B,IAAK,oCAExE,IAAItxB,EAAMnO,KAAKoyE,MAAM5sE,MAAMyE,EAAOjK,KAAKy/B,KACnC54B,EAAMi2E,EAAQ1rB,SAASjjD,EAAK,GAAKkE,WAAWlE,GAChD,OAAOnO,KAAKm8E,YAAYvtE,EAAMgsE,IAAK/zE,IAKrCm8F,GAAKe,cAAgB,WACnB,IAA0CjxF,EAE1C,GAAW,MAFF9S,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,KAEpB,CACVz/B,KAAKmJ,QAAQ0qE,YAAc,GAAK7zE,KAAK++E,aACzC,IAAIilB,IAAYhkG,KAAKy/B,IACrB3sB,EAAO9S,KAAK+8E,YAAY/8E,KAAKoyE,MAAMpjE,QAAQ,IAAKhP,KAAKy/B,KAAOz/B,KAAKy/B,OAC/Dz/B,KAAKy/B,IACH3sB,EAAO,SAAY9S,KAAKikG,mBAAmBD,EAAS,iCAExDlxF,EAAO9S,KAAK+8E,YAAY,GAE1B,OAAOjqE,GAUTkwF,GAAKhmB,WAAa,SAASH,GAEzB,IADA,IAAIj5B,EAAM,GAAIsgD,IAAelkG,KAAKy/B,MACzB,CACHz/B,KAAKy/B,KAAOz/B,KAAKoyE,MAAM/xE,QAAUL,KAAKm1E,MAAMn1E,KAAKiK,MAAO,gCAC5D,IAAIqyE,EAAKt8E,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,KACpC,GAAI68C,IAAOO,EAAS,MACT,KAAPP,GACF14B,GAAO5jD,KAAKoyE,MAAM5sE,MAAM0+F,EAAYlkG,KAAKy/B,KACzCmkB,GAAO5jD,KAAKmkG,iBAAgB,GAC5BD,EAAalkG,KAAKy/B,MAEdwqD,EAAU3N,EAAIt8E,KAAKmJ,QAAQ0qE,aAAe,KAAO7zE,KAAKm1E,MAAMn1E,KAAKiK,MAAO,kCAC1EjK,KAAKy/B,KAIX,OADAmkB,GAAO5jD,KAAKoyE,MAAM5sE,MAAM0+F,EAAYlkG,KAAKy/B,OAClCz/B,KAAKm8E,YAAYvtE,EAAMuiD,OAAQvN,IAKxC,IAAIwgD,GAAgC,GAEpCpB,GAAK5H,qBAAuB,WAC1Bp7F,KAAKqkG,mBAAoB,EACzB,IACErkG,KAAKskG,gBACL,MAAOlvB,GACP,GAAIA,IAAQgvB,GAGV,MAAMhvB,EAFNp1E,KAAKukG,2BAMTvkG,KAAKqkG,mBAAoB,GAG3BrB,GAAKiB,mBAAqB,SAASrjG,EAAUkoE,GAC3C,GAAI9oE,KAAKqkG,mBAAqBrkG,KAAKmJ,QAAQ0qE,aAAe,EACxD,MAAMuwB,GAENpkG,KAAKm1E,MAAMv0E,EAAUkoE,IAIzBk6B,GAAKsB,cAAgB,WAEnB,IADA,IAAI1gD,EAAM,GAAIsgD,EAAalkG,KAAKy/B,MACvB,CACHz/B,KAAKy/B,KAAOz/B,KAAKoyE,MAAM/xE,QAAUL,KAAKm1E,MAAMn1E,KAAKiK,MAAO,yBAC5D,IAAIqyE,EAAKt8E,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,KACpC,GAAW,KAAP68C,GAAoB,KAAPA,GAAqD,MAAxCt8E,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,IAAM,GAC7D,OAAIz/B,KAAKy/B,MAAQz/B,KAAKiK,OAAUjK,KAAK0I,OAASkG,EAAM05E,UAAYtoF,KAAK0I,OAASkG,EAAM25E,iBASpF3kC,GAAO5jD,KAAKoyE,MAAM5sE,MAAM0+F,EAAYlkG,KAAKy/B,KAClCz/B,KAAKm8E,YAAYvtE,EAAM05E,SAAU1kC,IAT3B,KAAP04B,GACFt8E,KAAKy/B,KAAO,EACLz/B,KAAKm8E,YAAYvtE,EAAM85E,kBAE5B1oF,KAAKy/B,IACAz/B,KAAKm8E,YAAYvtE,EAAM65E,YAMpC,GAAW,KAAPnM,EACF14B,GAAO5jD,KAAKoyE,MAAM5sE,MAAM0+F,EAAYlkG,KAAKy/B,KACzCmkB,GAAO5jD,KAAKmkG,iBAAgB,GAC5BD,EAAalkG,KAAKy/B,SACb,GAAIwqD,EAAU3N,GAAK,CAGxB,OAFA14B,GAAO5jD,KAAKoyE,MAAM5sE,MAAM0+F,EAAYlkG,KAAKy/B,OACvCz/B,KAAKy/B,IACC68C,GACR,KAAK,GACqC,KAApCt8E,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,QAAiBz/B,KAAKy/B,IACvD,KAAK,GACHmkB,GAAO,KACP,MACF,QACEA,GAAOof,OAAOC,aAAaqZ,GAGzBt8E,KAAKmJ,QAAQiqC,cACbpzC,KAAK6rF,QACP7rF,KAAK4rF,UAAY5rF,KAAKy/B,KAExBykE,EAAalkG,KAAKy/B,UAEhBz/B,KAAKy/B,MAMbujE,GAAKuB,yBAA2B,WAC9B,KAAOvkG,KAAKy/B,IAAMz/B,KAAKoyE,MAAM/xE,OAAQL,KAAKy/B,MACxC,OAAQz/B,KAAKoyE,MAAMpyE,KAAKy/B,MACxB,IAAK,OACDz/B,KAAKy/B,IACP,MAEF,IAAK,IACH,GAAiC,MAA7Bz/B,KAAKoyE,MAAMpyE,KAAKy/B,IAAM,GACxB,MAIJ,IAAK,IACH,OAAOz/B,KAAKm8E,YAAYvtE,EAAM25E,gBAAiBvoF,KAAKoyE,MAAM5sE,MAAMxF,KAAKiK,MAAOjK,KAAKy/B,MAKrFz/B,KAAKm1E,MAAMn1E,KAAKiK,MAAO,0BAKzB+4F,GAAKmB,gBAAkB,SAASK,GAC9B,IAAIloB,EAAKt8E,KAAKoyE,MAAMmK,aAAav8E,KAAKy/B,KAEtC,SADEz/B,KAAKy/B,IACC68C,GACR,KAAK,IAAK,MAAO,KACjB,KAAK,IAAK,MAAO,KACjB,KAAK,IAAK,OAAOtZ,OAAOC,aAAajjE,KAAK+8E,YAAY,IACtD,KAAK,IAAK,OAAOkmB,GAAoBjjG,KAAK+jG,iBAC1C,KAAK,IAAK,MAAO,KACjB,KAAK,GAAI,MAAO,KAChB,KAAK,IAAK,MAAO,KACjB,KAAK,IAAK,MAAO,KACjB,KAAK,GAA4C,KAApC/jG,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,QAAiBz/B,KAAKy/B,IAC9D,KAAK,GAEH,OADIz/B,KAAKmJ,QAAQiqC,YAAapzC,KAAK4rF,UAAY5rF,KAAKy/B,MAAOz/B,KAAK6rF,SACzD,GACT,QACE,GAAIvP,GAAM,IAAMA,GAAM,GAAI,CACxB,IAAImoB,EAAWzkG,KAAKoyE,MAAMlS,OAAOlgE,KAAKy/B,IAAM,EAAG,GAAGr4B,MAAM,WAAW,GAC/D01E,EAAQ1rB,SAASqzC,EAAU,GAe/B,OAdI3nB,EAAQ,MACV2nB,EAAWA,EAASj/F,MAAM,GAAI,GAC9Bs3E,EAAQ1rB,SAASqzC,EAAU,IAE7BzkG,KAAKy/B,KAAOglE,EAASpkG,OAAS,EAC9Bi8E,EAAKt8E,KAAKoyE,MAAMmK,WAAWv8E,KAAKy/B,KACd,MAAbglE,GAA2B,KAAPnoB,GAAoB,KAAPA,IAAet8E,KAAKgzE,SAAUwxB,GAClExkG,KAAKikG,mBACHjkG,KAAKy/B,IAAM,EAAIglE,EAASpkG,OACxBmkG,EACI,mCACA,gCAGDxhC,OAAOC,aAAa6Z,GAE7B,OAAImN,EAAU3N,GAGL,GAEFtZ,OAAOC,aAAaqZ,KAM/B0mB,GAAKjmB,YAAc,SAAShrC,GAC1B,IAAIiyD,EAAUhkG,KAAKy/B,IACfthC,EAAI6B,KAAK28E,QAAQ,GAAI5qC,GAEzB,OADU,OAAN5zC,GAAc6B,KAAKikG,mBAAmBD,EAAS,iCAC5C7lG,GAST6kG,GAAKllB,UAAY,WACf99E,KAAKq7E,aAAc,EAGnB,IAFA,IAAI6C,EAAO,GAAIpjC,GAAQ,EAAMopD,EAAalkG,KAAKy/B,IAC3CsoD,EAAS/nF,KAAKmJ,QAAQ0qE,aAAe,EAClC7zE,KAAKy/B,IAAMz/B,KAAKoyE,MAAM/xE,QAAQ,CACnC,IAAIi8E,EAAKt8E,KAAKojG,oBACd,GAAIlnB,EAAiBI,EAAIyL,GACvB/nF,KAAKy/B,KAAO68C,GAAM,MAAS,EAAI,MAC1B,IAAW,KAAPA,EAaT,MAZAt8E,KAAKq7E,aAAc,EACnB6C,GAAQl+E,KAAKoyE,MAAM5sE,MAAM0+F,EAAYlkG,KAAKy/B,KAC1C,IAAIilE,EAAW1kG,KAAKy/B,IACsB,MAAtCz/B,KAAKoyE,MAAMmK,aAAav8E,KAAKy/B,MAC7Bz/B,KAAKikG,mBAAmBjkG,KAAKy/B,IAAK,+CACpCz/B,KAAKy/B,IACP,IAAI0+C,EAAMn+E,KAAK+jG,iBACTjpD,EAAQmhC,EAAoBC,GAAkBiC,EAAK4J,IACrD/nF,KAAKikG,mBAAmBS,EAAU,0BACtCxmB,GAAQ+kB,GAAoB9kB,GAC5B+lB,EAAalkG,KAAKy/B,IAIpBqb,GAAQ,EAEV,OAAOojC,EAAOl+E,KAAKoyE,MAAM5sE,MAAM0+F,EAAYlkG,KAAKy/B,MAMlDujE,GAAKxlB,SAAW,WACd,IAAIU,EAAOl+E,KAAK89E,YACZp1E,EAAOkG,EAAM3R,KAKjB,OAJI+C,KAAKynF,SAAShgF,KAAKy2E,KACjBl+E,KAAKq7E,aAAer7E,KAAKgvF,iBAAiBhvF,KAAKiK,MAAO,8BAAgCi0E,GAC1Fx1E,EAAO0/E,EAAWlK,IAEbl+E,KAAKm8E,YAAYzzE,EAAMw1E,IAKhC,IAAI/rE,GAAU,QA+Bd,SAAS/E,GAAMglE,EAAOjpE,GACpB,OAAOmiF,EAAOl+E,MAAMglE,EAAOjpE,GAO7B,SAAS0kF,GAAkBzb,EAAO3yC,EAAKt2B,GACrC,OAAOmiF,EAAOuC,kBAAkBzb,EAAO3yC,EAAKt2B,GAM9C,SAAS2kF,GAAU1b,EAAOjpE,GACxB,OAAOmiF,EAAOwC,UAAU1b,EAAOjpE,GA7CjCmiF,EAAOnZ,MAAQ,CACbmZ,OAAQA,EACRn5E,QAASA,GACTyhE,eAAgBA,EAChB2W,SAAUA,EACVC,eAAgBA,EAChB1V,YAAaA,EACbylB,KAAMA,GACNvS,UAAWA,EACXlO,SAAUlrE,EACVmpE,aAAcqQ,EACdqS,WAAYA,GACZkK,YAAa9J,GACb3e,iBAAkBA,EAClBD,kBAAmBA,EACnB8mB,MAAOA,GACP9Y,UAAWA,EACXjV,UAAWA,EACXgV,WAAYA,EACZrO,mBAAoBA,I","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import * as paper from 'paper'\n\nwindow.onresize = function(){ location.reload(); }\n\n\n////////////////////////////////////////////////////\n///////////FISH CIRCLES\n        var fish = [];\n        var velocity = -5;  ////// velocity of background\n\n////////////////function to randomly choose the size of the background images\n            function randomNumber(min,max) {\n                return Math.floor(Math.random() * (max - min + 1) + min);\n            }\n\n/////////////// creates the background images(circles)\n            for(var i = 0; i <= 100; i++) {\n                var circle = new Path.Circle(new Point(view.size.width, view.size.height) * Point.random(), randomNumber(0.5, 7)) // (center point, radius)\n\t\t\t\tfish.push(circle) //push circle variable into fish array\n\t\t\t\t\tcircle.onKeyDown = function(event) { ////removes with click\n\t\t\t\t\t\tif (event.key == 'space') {\n\t\t\t\t\t\t\tthis.remove();\n\t\t\t\t\t\t}\n        \t\t\t\t\t\n    \t\t\t\t}\n            }\n\n////////////////assigns random colors\n            for(var i = 0; i <= 100; i++) { \n                var colorSetter = Math.random();\n                if(colorSetter >= .9) {\n\t\t\t\t\tfish[i].fillColor = \"black\";\n                } else if(colorSetter >= .8) {\n                    fish[i].fillColor = \"grey\";\n                } else (fish[i].fillColor = \"white\")\n            }\n\n/////////////// function that determines the velocity of the background images\n             function assignRate() {\n                for(var i = 0; i < fish.length; i++) {\n                var assignedRate = Math.random() * velocity -1\n                fish[i].rate = assignedRate;\n                }\n\t\t\t}\n/////////////////////////////// run the random velocity function\n////////////////ON KEY VELOCITY\n\n           //// key press to speed up background\n            function onKeyDown(event) {\n\n            //     // if(event.key == 'f') {\n            //     //     velocity++;\n            //     //     assignRate();\n            //     // }\n\n            //     ////key press to slow down background\n                 if(event.key == 's') {\n                    velocity--;\n                    assignRate();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\n/////////////////////////////////////////////////////////\n\t\t\t assignRate()\n\n \n////////////////////////////////////////////////////////////////\n///////////////////STINGRAYS\nvar Stingrays = Base.extend({\n\tinitialize: function(position, topSpeed, topPower) {\n\t\tvar strength = Math.random() * .25;\n\t\tthis.amount = strength * 8 + 8;\n\t\tthis.topPower = topPower + strength ;\n\t\tthis.topSpeed = topSpeed + strength;\n\t\tthis.acc = new Point();\n\t\tthis.route = Point.random() * 2 - 1;\n\t\tthis.position = position.clone();\n\t\tthis.count = 1;\n\t\tthis.radius = 150;\n\t\tthis.createItems();\n\t},\n\n\trun: function() {\n\t\tthis.borders();\n\t\tthis.update();\n\t\tthis.tail();\n\t\tthis.moveHead();\n\t},\n\n//////////////////////////tail movement\n\ttail: function() {\n\n\t\tvar speed = this.route.length;\n\t\tvar pieceLength = 4 + speed / 3;\n\t\tvar point = this.position;\n\t\tvar segments = this.path.segments;\n\t\tvar\tsmallSegPath = this.shortPath.segments;\n\t\t\n\t\tsegments[0].point = smallSegPath[0].point = point;\n\t\t//  goes other way than movement\n\t\tvar prevRoute = -this.route;\n\t\tfor (var i = 1; i < this.amount; i++) {\n\t\t\tvar route = segments[i].point - point-1;\n\t\t\tthis.count += speed * 5;\n\t\t\tvar wave = Math.sin((this.count + i * 5) / 400);\n\t\t\tvar sway = prevRoute.rotate(50).normalize(wave);\n\t\t\tpoint += prevRoute.normalize(pieceLength) + sway;\n\t\t\tsegments[i].point = point;\n\t\t\tif (i < 3)\n\t\t\t\tsmallSegPath[i].point = point;\n\t\t\tprevRoute = route;\n        }\n        \n\t\tthis.path.smooth();\n\t},\n\n    \n\tcreateItems: function() {\n\t\t\n\t\t\n///////////////////////tail shape\n        this.path = new Path({\n\t\t\tstrokeColor: 'gray',\n\t\t\tstrokeWidth: 2,\n\t\t\tstrokeLength: 12,\n\t\t\tstrokeCap: 'round'\n\t\t});\n\n\t\tfor (var i = 0; i < this.amount; i++)\n\t\t\tthis.path.add(new Point());\n\n\t\t\tthis.shortPath = new Path({\n\t\t\t\tstrokeColor: 'gray',\n\t\t\t\tstrokeWidth: 5,\n\t\t\t\tstrokeLength: 1,\n\t\t\t\tstrokeCap: 'round'\n\t\t\t});\n\n\n\t\tfor (var i = 0; i < Math.min(3, this.amount); i++)\n\t\tthis.shortPath.add(new Point());\n\t\tvar topLeft = view.center - [7, 7];\n\t    var bottomRight = view.center + [11, 11];\n\t   \n//////////////////////string ray head shape \n\t\t\t   this.head2 = \n\t\t\t\t   new Path.Rectangle({\n\t\t\t\t   topLeft: topLeft,\n\t\t\t\t   bottomRight: bottomRight,\n\t\t\t\t   fillColor: {\n\t\t\t\t\t   gradient: {\n\t\t\t\t\t\t   stops: ['black', 'grey', 'white']\n\t\t\t\t\t   },\n\t\t\t\t\t   origin: topLeft,\n\t\t\t\t\t   destination: bottomRight\n\t\t\t\t   },\n\t\t\t\t   opacity: .9,\n\t\t\t\t   radius: 3\n\t\t\t\t   });\n\n\t},\n\t\n\tmoveHead: function() {\n\t\t// this.head.position = this.position;\n        // this.head2.rotation = this.route.angle;\n        // this.head.rotation = 0\n        this.head2.position = this.position; ///giant fish movement\n        // this.head.rotation = this.route.angle;\n        this.head2\n\t},\n\n\n\tupdate: function() {\n\t\t// velocity\n\t\tthis.route += this.acc;\n\t\t// speed max\n\t\tthis.route.length = Math.min(this.topSpeed, this.route.length);\n\t\tthis.position += this.route;\n\t\t// Reset acc to 0 each cycle\n\t\tthis.acc = new Point();\n\t},\n\n\n\tborders: function() {\n\t\tvar route = new Point();\n\t\tvar position = this.position  \n\t\tvar radius = this.radius;\n        var size = view.size;\n        ///////// these lines generate new stingrays so they don't all disappear\n\t\tif (position.x < -radius) route.x = size.width + radius; \n\t\tif (position.y < -radius) route.y = size.height + radius;\n\t\tif (position.x > size.width + radius) route.x = -size.width -radius;\n\t\tif (position.y > size.height + radius) route.y = -size.height -radius;\n\t\tif (!route.isZero()) {\n\t\t\tthis.position += route;\n\t\t\tfor (var i = 0; i < this.amount; i++) {\n\t\t\t\tthis.path.segments[i].point += route;\n\t\t\t}\n        }\n\t}\n});\n\n\n//////////////// Add the stingrays:\nvar stingrays = [];\nfor (var i = 0; i < 20; i++) { //number of stingrays\n\tvar position = Point.random() * view.size;\n\tstingrays.push(new Stingrays(position, 10, .05));\n}\n//////////////////////////////////////\n/////////////JELLYFISH\n\nvar Jellyfish = Base.extend({\n\tinitialize: function(position, topSpeed, topPower) {\n\t\tvar strength = Math.random() * .25;\n\t\tthis.amount = strength * 8 + 8;\n\t\tthis.topPower = topPower + strength ;\n\t\tthis.topSpeed = topSpeed + strength;\n\t\tthis.acc = new Point();\n\t\tthis.route = Point.random() * 2 - 1;\n\t\tthis.position = position.clone();\n\t\tthis.count = 1;\n\t\tthis.radius = 150;\n\t\tthis.createItems();\n\t},\n\n\trun: function(jellyfish) {\n\t\tthis.borders();\n\t\tthis.update();\n\t\tthis.tail();\n\t\tthis.moveHead();\n\t},\n\n//////////////////////////tail movement\n\ttail: function() {\n\n\t\tvar speed = this.route.length/4;\n\t\tvar pieceLength = 4 + speed / 3;\n\t\tvar point = this.position;\n\t\tvar segments = this.path.segments;\n\t\tvar\tsmallSegPath = this.shortPath.segments;\n\t\t\n\t\tsegments[0].point = smallSegPath[0].point = point;\n\t\t//  goes other way than movement\n\t\tvar prevRoute = -this.route;\n\t\tfor (var i = 1; i < this.amount; i++) {\n\t\t\tvar route = segments[i].point - point-1;\n\t\t\tthis.count += speed * 5;\n\t\t\tvar wave = Math.sin((this.count + i * 5) / 400);\n\t\t\tvar sway = prevRoute.rotate(50).normalize(wave);\n\t\t\tpoint += prevRoute.normalize(pieceLength) + sway;\n\t\t\tsegments[i].point = point;\n\t\t\tif (i < 3)\n\t\t\t\tsmallSegPath[i].point = point;\n\t\t\tprevRoute = route;\n        }\n        \n\t\tthis.path.smooth();\n\t},\n\n///////////////////////////////////////\n////////////CREATE ITEMS JELLYFISH    \n\tcreateItems: function() {\n\t\t\n\t\t\n///////////////////////tail shape\n        this.path =\n        \n        new Path({\n\t\t\tstrokeColor: 'gray',\n\t\t\tstrokeWidth: 0,\n\t\t\tstrokeLength: 0,\n\t\t\tstrokeCap: 'round',\n\t\t\topacity: 0\n\t\t});\n\t\tfor (var i = 0; i < this.amount; i++)\n\t\tthis.path.add(new Point());\n\t\t\n\t\tthis.shortPath = new Path({\n\t\t\tstrokeColor: 'gray',\n\t\t\tstrokeWidth: 0,\n\t\t\tstrokeLength: 0,\n\t\t\tstrokeCap: 'round',\n\t\t\topacity: 0\n\t\t});\n\n\n\t\tfor (var i = 0; i < Math.min(3, this.amount); i++)\n        this.shortPath.add(new Point());\n   \n//////////////////////JELLYFISH HEAD \n\n//////////////////////string ray head shape \n\t\t\t   this.jelly = new Path.Circle(new Point(470, 470), 10);\n            this.jelly.strokeColor = 'yellow';\n            this.jelly.fillColor = '#fb9062';\n            this.jelly.opacity = .7;\n            this.jelly.selected = false;\n            this.jelly.removeSegment(3);;\n\n\t},\n\t\n//////////////////////////END CREATE ITEMS JELLYFISH\n\n\n\tmoveHead: function() {\n\t\t// this.jelly.rotation = this.route.angle;\n\t\tthis.jelly.rotation = 0;\n        this.jelly.position = this.position; \n        // this.jelly\n\t},\n\n\n\tupdate: function() {\n\t\t// velocity\n\t\tthis.route += this.acc;\n\t\t// speed max\n\t\tthis.route.length = Math.min(this.topSpeed, this.route.length);\n\t\tthis.position += this.route / 2;\n\t\t// Reset acc to 0 each cycle\n\t\tthis.acc = new Point();\n\t},\n\n\n\tborders: function() {\n\t\tvar route = new Point();\n\t\tvar position = this.position  \n\t\tvar radius = this.radius;\n        var size = view.size;\n        ///////// these lines generate new jellyfish once they leave screen\n\t\tif (position.x < -radius) route.x = size.width + radius; \n\t\tif (position.y < -radius) route.y = size.height + radius;\n\t\tif (position.x > size.width + radius) route.x = -size.width -radius;\n\t\tif (position.y > size.height + radius) route.y = -size.height -radius;\n\t\tif (!route.isZero()) {\n\t\t\tthis.position += route;\n\t\t\tfor (var i = 0; i < this.amount; i++) {\n\t\t\t\tthis.path.segments[i].point += route;\n\t\t\t}\n        }\n\t}\n});\n\n\n//////////////// Add the jellyfish:\nvar jellyfish = [];\nfor (var i = 0; i < 10; i++) { //number of jellyfish\n\tvar position = Point.random() * view.size;\n\tjellyfish.push(new Jellyfish(position, 10, .05));\n}\n\n////////////////////////////////////////////////////\n///////////////////////////DOLPHIN\n\t// for(var i = 0; i < 18; i++){\n\t\tvar raster = new Raster({\n    \tsource: './../assets/images/dolphinright/'+0+'.gif',\n\t\tposition: [550,400],\n\t\tsmoothing: true,\n\t\t});\n\t\t// if(i==17) {\n\t\t// \ti=0; continue;\n\t\t// }\n\t// }\n////////////DOLPHIN MOVEMENT\nraster.onMouseDrag = function(event) {\n\traster.position += event.delta;\n}\n\n\n////////////////////////////////////////////////////\n////////////////////// SURFACE\n// amount of segment points\nvar amount = 4;\n\n//////////// max height of wave\nvar height = 20;\n\n///////////////// the wave line\nvar path = new Path({\n    strokeColor: \"#3D76E0\",\n\tstrokeWidth: 120,\n\tstrokeCap: 'circle',\n\tshadowColor: new Color(0, 0, 1),\n    shadowBlur: 1,\n    shadowOffset: new Point(1, 1)\n});\n\nfor (var i = 0; i <= amount; i++) {\n\tpath.add(new Point(i / amount, 1) * view.size);\n}\n\n///////////TEXT\n\nvar text = new PointText({\n    point: [50, 50],\n    content: 'Programmed by: Brad Larson',\n    fillColor: 'white',\n    fontFamily: 'FreeMono',\n    fontWeight: 'italic',\n\tfontSize: 20, \n\topacity: .8,\n\tangle: 25,\n\tshadowColor: new Color(0,0,0),\n    shadowBlur: 5,\n    shadowOffset: new Point(2, 4)\n});\n\n///////////////////////////////////////////////\n////////////////////////////////////////////\n/////////////ANIMATION\n\nfunction onFrame(event) {\n\t\n///////////////////stingrays on frame\n\tfor (var i = 0; i < stingrays.length; i++) {\n\t\tstingrays[i].run(stingrays);\n\t}\n////////////////fish circles on frame\n    for(var i = 0; i < fish.length; i++) {\n\t\tfishy = fish[i]\n        fishy.translate(fishy.rate, 0)\n            if(fishy.position.x > view.size.width) {\n                fishy.position.x = 0;\n            } else if(fishy.position.x < 0 ) {\n                fishy.position.x = view.size.width;\n\t\t\t}\n\t\t}\n//////////////////////jellyfish on frame\t\n\tfor(var i = 0; i < jellyfish.length; i++) {\n\t\tjellyfish[i].run(jellyfish);\n\t}\n////////////////////water surface on frame\t\n    for (var i = 0; i <= amount; i++) {\n\t\tvar segment = path.segments[i];\n\t\tvar wave = Math.sin(event.time * 3 + i);\n\t\tsegment.point.y = wave * height + 35;\n\t}\n\n\n    path.smooth();\n}\n","/*!\n * Paper.js v0.12.11 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey\n * http://juerglehni.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Fri Jun 19 19:14:33 2020 +0200\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2020 Jrg Lehni\n * http://juerglehni.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\nvar paper = function (self, undefined) {\n  self = self || require('./node/self.js');\n  var window = self.window,\n      document = self.document;\n  var Base = new function () {\n    var hidden = /^(statics|enumerable|beans|preserve)$/,\n        array = [],\n        slice = array.slice,\n        create = Object.create,\n        describe = Object.getOwnPropertyDescriptor,\n        define = Object.defineProperty,\n        forEach = array.forEach || function (iter, bind) {\n      for (var i = 0, l = this.length; i < l; i++) {\n        iter.call(bind, this[i], i, this);\n      }\n    },\n        forIn = function (iter, bind) {\n      for (var i in this) {\n        if (this.hasOwnProperty(i)) iter.call(bind, this[i], i, this);\n      }\n    },\n        set = Object.assign || function (dst) {\n      for (var i = 1, l = arguments.length; i < l; i++) {\n        var src = arguments[i];\n\n        for (var key in src) {\n          if (src.hasOwnProperty(key)) dst[key] = src[key];\n        }\n      }\n\n      return dst;\n    },\n        each = function (obj, iter, bind) {\n      if (obj) {\n        var desc = describe(obj, 'length');\n        (desc && typeof desc.value === 'number' ? forEach : forIn).call(obj, iter, bind = bind || obj);\n      }\n\n      return bind;\n    };\n\n    function inject(dest, src, enumerable, beans, preserve) {\n      var beansNames = {};\n\n      function field(name, val) {\n        val = val || (val = describe(src, name)) && (val.get ? val : val.value);\n        if (typeof val === 'string' && val[0] === '#') val = dest[val.substring(1)] || val;\n        var isFunc = typeof val === 'function',\n            res = val,\n            prev = preserve || isFunc && !val.base ? val && val.get ? name in dest : dest[name] : null,\n            bean;\n\n        if (!preserve || !prev) {\n          if (isFunc && prev) val.base = prev;\n          if (isFunc && beans !== false && (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/))) beansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\n          if (!res || isFunc || !res.get || typeof res.get !== 'function' || !Base.isPlainObject(res)) {\n            res = {\n              value: res,\n              writable: true\n            };\n          }\n\n          if ((describe(dest, name) || {\n            configurable: true\n          }).configurable) {\n            res.configurable = true;\n            res.enumerable = enumerable != null ? enumerable : !bean;\n          }\n\n          define(dest, name, res);\n        }\n      }\n\n      if (src) {\n        for (var name in src) {\n          if (src.hasOwnProperty(name) && !hidden.test(name)) field(name);\n        }\n\n        for (var name in beansNames) {\n          var part = beansNames[name],\n              set = dest['set' + part],\n              get = dest['get' + part] || set && dest['is' + part];\n          if (get && (beans === true || get.length === 0)) field(name, {\n            get: get,\n            set: set\n          });\n        }\n      }\n\n      return dest;\n    }\n\n    function Base() {\n      for (var i = 0, l = arguments.length; i < l; i++) {\n        var src = arguments[i];\n        if (src) set(this, src);\n      }\n\n      return this;\n    }\n\n    return inject(Base, {\n      inject: function (src) {\n        if (src) {\n          var statics = src.statics === true ? src : src.statics,\n              beans = src.beans,\n              preserve = src.preserve;\n          if (statics !== src) inject(this.prototype, src, src.enumerable, beans, preserve);\n          inject(this, statics, null, beans, preserve);\n        }\n\n        for (var i = 1, l = arguments.length; i < l; i++) this.inject(arguments[i]);\n\n        return this;\n      },\n      extend: function () {\n        var base = this,\n            ctor,\n            proto;\n\n        for (var i = 0, obj, l = arguments.length; i < l && !(ctor && proto); i++) {\n          obj = arguments[i];\n          ctor = ctor || obj.initialize;\n          proto = proto || obj.prototype;\n        }\n\n        ctor = ctor || function () {\n          base.apply(this, arguments);\n        };\n\n        proto = ctor.prototype = proto || create(this.prototype);\n        define(proto, 'constructor', {\n          value: ctor,\n          writable: true,\n          configurable: true\n        });\n        inject(ctor, this);\n        if (arguments.length) this.inject.apply(ctor, arguments);\n        ctor.base = base;\n        return ctor;\n      }\n    }).inject({\n      enumerable: false,\n      initialize: Base,\n      set: Base,\n      inject: function () {\n        for (var i = 0, l = arguments.length; i < l; i++) {\n          var src = arguments[i];\n\n          if (src) {\n            inject(this, src, src.enumerable, src.beans, src.preserve);\n          }\n        }\n\n        return this;\n      },\n      extend: function () {\n        var res = create(this);\n        return res.inject.apply(res, arguments);\n      },\n      each: function (iter, bind) {\n        return each(this, iter, bind);\n      },\n      clone: function () {\n        return new this.constructor(this);\n      },\n      statics: {\n        set: set,\n        each: each,\n        create: create,\n        define: define,\n        describe: describe,\n        clone: function (obj) {\n          return set(new obj.constructor(), obj);\n        },\n        isPlainObject: function (obj) {\n          var ctor = obj != null && obj.constructor;\n          return ctor && (ctor === Object || ctor === Base || ctor.name === 'Object');\n        },\n        pick: function (a, b) {\n          return a !== undefined ? a : b;\n        },\n        slice: function (list, begin, end) {\n          return slice.call(list, begin, end);\n        }\n      }\n    });\n  }();\n  if (typeof module !== 'undefined') module.exports = Base;\n  Base.inject({\n    enumerable: false,\n    toString: function () {\n      return this._id != null ? (this._class || 'Object') + (this._name ? \" '\" + this._name + \"'\" : ' @' + this._id) : '{ ' + Base.each(this, function (value, key) {\n        if (!/^_/.test(key)) {\n          var type = typeof value;\n          this.push(key + ': ' + (type === 'number' ? Formatter.instance.number(value) : type === 'string' ? \"'\" + value + \"'\" : value));\n        }\n      }, []).join(', ') + ' }';\n    },\n    getClassName: function () {\n      return this._class || '';\n    },\n    importJSON: function (json) {\n      return Base.importJSON(json, this);\n    },\n    exportJSON: function (options) {\n      return Base.exportJSON(this, options);\n    },\n    toJSON: function () {\n      return Base.serialize(this);\n    },\n    set: function (props, exclude) {\n      if (props) Base.filter(this, props, exclude, this._prioritize);\n      return this;\n    }\n  }, {\n    beans: false,\n    statics: {\n      exports: {},\n      extend: function extend() {\n        var res = extend.base.apply(this, arguments),\n            name = res.prototype._class;\n        if (name && !Base.exports[name]) Base.exports[name] = res;\n        return res;\n      },\n      equals: function (obj1, obj2) {\n        if (obj1 === obj2) return true;\n        if (obj1 && obj1.equals) return obj1.equals(obj2);\n        if (obj2 && obj2.equals) return obj2.equals(obj1);\n\n        if (obj1 && obj2 && typeof obj1 === 'object' && typeof obj2 === 'object') {\n          if (Array.isArray(obj1) && Array.isArray(obj2)) {\n            var length = obj1.length;\n            if (length !== obj2.length) return false;\n\n            while (length--) {\n              if (!Base.equals(obj1[length], obj2[length])) return false;\n            }\n          } else {\n            var keys = Object.keys(obj1),\n                length = keys.length;\n            if (length !== Object.keys(obj2).length) return false;\n\n            while (length--) {\n              var key = keys[length];\n              if (!(obj2.hasOwnProperty(key) && Base.equals(obj1[key], obj2[key]))) return false;\n            }\n          }\n\n          return true;\n        }\n\n        return false;\n      },\n      read: function (list, start, options, amount) {\n        if (this === Base) {\n          var value = this.peek(list, start);\n          list.__index++;\n          return value;\n        }\n\n        var proto = this.prototype,\n            readIndex = proto._readIndex,\n            begin = start || readIndex && list.__index || 0,\n            length = list.length,\n            obj = list[begin];\n        amount = amount || length - begin;\n\n        if (obj instanceof this || options && options.readNull && obj == null && amount <= 1) {\n          if (readIndex) list.__index = begin + 1;\n          return obj && options && options.clone ? obj.clone() : obj;\n        }\n\n        obj = Base.create(proto);\n        if (readIndex) obj.__read = true;\n        obj = obj.initialize.apply(obj, begin > 0 || begin + amount < length ? Base.slice(list, begin, begin + amount) : list) || obj;\n\n        if (readIndex) {\n          list.__index = begin + obj.__read;\n          var filtered = obj.__filtered;\n\n          if (filtered) {\n            list.__filtered = filtered;\n            obj.__filtered = undefined;\n          }\n\n          obj.__read = undefined;\n        }\n\n        return obj;\n      },\n      peek: function (list, start) {\n        return list[list.__index = start || list.__index || 0];\n      },\n      remain: function (list) {\n        return list.length - (list.__index || 0);\n      },\n      readList: function (list, start, options, amount) {\n        var res = [],\n            entry,\n            begin = start || 0,\n            end = amount ? begin + amount : list.length;\n\n        for (var i = begin; i < end; i++) {\n          res.push(Array.isArray(entry = list[i]) ? this.read(entry, 0, options) : this.read(list, i, options, 1));\n        }\n\n        return res;\n      },\n      readNamed: function (list, name, start, options, amount) {\n        var value = this.getNamed(list, name),\n            hasValue = value !== undefined;\n\n        if (hasValue) {\n          var filtered = list.__filtered;\n\n          if (!filtered) {\n            var source = this.getSource(list);\n            filtered = list.__filtered = Base.create(source);\n            filtered.__unfiltered = source;\n          }\n\n          filtered[name] = undefined;\n        }\n\n        return this.read(hasValue ? [value] : list, start, options, amount);\n      },\n      readSupported: function (list, dest) {\n        var source = this.getSource(list),\n            that = this,\n            read = false;\n\n        if (source) {\n          Object.keys(source).forEach(function (key) {\n            if (key in dest) {\n              var value = that.readNamed(list, key);\n\n              if (value !== undefined) {\n                dest[key] = value;\n              }\n\n              read = true;\n            }\n          });\n        }\n\n        return read;\n      },\n      getSource: function (list) {\n        var source = list.__source;\n\n        if (source === undefined) {\n          var arg = list.length === 1 && list[0];\n          source = list.__source = arg && Base.isPlainObject(arg) ? arg : null;\n        }\n\n        return source;\n      },\n      getNamed: function (list, name) {\n        var source = this.getSource(list);\n\n        if (source) {\n          return name ? source[name] : list.__filtered || source;\n        }\n      },\n      hasNamed: function (list, name) {\n        return !!this.getNamed(list, name);\n      },\n      filter: function (dest, source, exclude, prioritize) {\n        var processed;\n\n        function handleKey(key) {\n          if (!(exclude && key in exclude) && !(processed && key in processed)) {\n            var value = source[key];\n            if (value !== undefined) dest[key] = value;\n          }\n        }\n\n        if (prioritize) {\n          var keys = {};\n\n          for (var i = 0, key, l = prioritize.length; i < l; i++) {\n            if ((key = prioritize[i]) in source) {\n              handleKey(key);\n              keys[key] = true;\n            }\n          }\n\n          processed = keys;\n        }\n\n        Object.keys(source.__unfiltered || source).forEach(handleKey);\n        return dest;\n      },\n      isPlainValue: function (obj, asString) {\n        return Base.isPlainObject(obj) || Array.isArray(obj) || asString && typeof obj === 'string';\n      },\n      serialize: function (obj, options, compact, dictionary) {\n        options = options || {};\n        var isRoot = !dictionary,\n            res;\n\n        if (isRoot) {\n          options.formatter = new Formatter(options.precision);\n          dictionary = {\n            length: 0,\n            definitions: {},\n            references: {},\n            add: function (item, create) {\n              var id = '#' + item._id,\n                  ref = this.references[id];\n\n              if (!ref) {\n                this.length++;\n                var res = create.call(item),\n                    name = item._class;\n                if (name && res[0] !== name) res.unshift(name);\n                this.definitions[id] = res;\n                ref = this.references[id] = [id];\n              }\n\n              return ref;\n            }\n          };\n        }\n\n        if (obj && obj._serialize) {\n          res = obj._serialize(options, dictionary);\n          var name = obj._class;\n\n          if (name && !obj._compactSerialize && (isRoot || !compact) && res[0] !== name) {\n            res.unshift(name);\n          }\n        } else if (Array.isArray(obj)) {\n          res = [];\n\n          for (var i = 0, l = obj.length; i < l; i++) res[i] = Base.serialize(obj[i], options, compact, dictionary);\n        } else if (Base.isPlainObject(obj)) {\n          res = {};\n          var keys = Object.keys(obj);\n\n          for (var i = 0, l = keys.length; i < l; i++) {\n            var key = keys[i];\n            res[key] = Base.serialize(obj[key], options, compact, dictionary);\n          }\n        } else if (typeof obj === 'number') {\n          res = options.formatter.number(obj, options.precision);\n        } else {\n          res = obj;\n        }\n\n        return isRoot && dictionary.length > 0 ? [['dictionary', dictionary.definitions], res] : res;\n      },\n      deserialize: function (json, create, _data, _setDictionary, _isRoot) {\n        var res = json,\n            isFirst = !_data,\n            hasDictionary = isFirst && json && json.length && json[0][0] === 'dictionary';\n        _data = _data || {};\n\n        if (Array.isArray(json)) {\n          var type = json[0],\n              isDictionary = type === 'dictionary';\n\n          if (json.length == 1 && /^#/.test(type)) {\n            return _data.dictionary[type];\n          }\n\n          type = Base.exports[type];\n          res = [];\n\n          for (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n            res.push(Base.deserialize(json[i], create, _data, isDictionary, hasDictionary));\n          }\n\n          if (type) {\n            var args = res;\n\n            if (create) {\n              res = create(type, args, isFirst || _isRoot);\n            } else {\n              res = new type(args);\n            }\n          }\n        } else if (Base.isPlainObject(json)) {\n          res = {};\n          if (_setDictionary) _data.dictionary = res;\n\n          for (var key in json) res[key] = Base.deserialize(json[key], create, _data);\n        }\n\n        return hasDictionary ? res[1] : res;\n      },\n      exportJSON: function (obj, options) {\n        var json = Base.serialize(obj, options);\n        return options && options.asString == false ? json : JSON.stringify(json);\n      },\n      importJSON: function (json, target) {\n        return Base.deserialize(typeof json === 'string' ? JSON.parse(json) : json, function (ctor, args, isRoot) {\n          var useTarget = isRoot && target && target.constructor === ctor,\n              obj = useTarget ? target : Base.create(ctor.prototype);\n\n          if (args.length === 1 && obj instanceof Item && (useTarget || !(obj instanceof Layer))) {\n            var arg = args[0];\n\n            if (Base.isPlainObject(arg)) {\n              arg.insert = false;\n\n              if (useTarget) {\n                args = args.concat([{\n                  insert: true\n                }]);\n              }\n            }\n          }\n\n          (useTarget ? obj.set : ctor).apply(obj, args);\n          if (useTarget) target = null;\n          return obj;\n        });\n      },\n      push: function (list, items) {\n        var itemsLength = items.length;\n\n        if (itemsLength < 4096) {\n          list.push.apply(list, items);\n        } else {\n          var startLength = list.length;\n          list.length += itemsLength;\n\n          for (var i = 0; i < itemsLength; i++) {\n            list[startLength + i] = items[i];\n          }\n        }\n\n        return list;\n      },\n      splice: function (list, items, index, remove) {\n        var amount = items && items.length,\n            append = index === undefined;\n        index = append ? list.length : index;\n        if (index > list.length) index = list.length;\n\n        for (var i = 0; i < amount; i++) items[i]._index = index + i;\n\n        if (append) {\n          Base.push(list, items);\n          return [];\n        } else {\n          var args = [index, remove];\n          if (items) Base.push(args, items);\n          var removed = list.splice.apply(list, args);\n\n          for (var i = 0, l = removed.length; i < l; i++) removed[i]._index = undefined;\n\n          for (var i = index + amount, l = list.length; i < l; i++) list[i]._index = i;\n\n          return removed;\n        }\n      },\n      capitalize: function (str) {\n        return str.replace(/\\b[a-z]/g, function (match) {\n          return match.toUpperCase();\n        });\n      },\n      camelize: function (str) {\n        return str.replace(/-(.)/g, function (match, chr) {\n          return chr.toUpperCase();\n        });\n      },\n      hyphenate: function (str) {\n        return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n      }\n    }\n  });\n  var Emitter = {\n    on: function (type, func) {\n      if (typeof type !== 'string') {\n        Base.each(type, function (value, key) {\n          this.on(key, value);\n        }, this);\n      } else {\n        var types = this._eventTypes,\n            entry = types && types[type],\n            handlers = this._callbacks = this._callbacks || {};\n        handlers = handlers[type] = handlers[type] || [];\n\n        if (handlers.indexOf(func) === -1) {\n          handlers.push(func);\n          if (entry && entry.install && handlers.length === 1) entry.install.call(this, type);\n        }\n      }\n\n      return this;\n    },\n    off: function (type, func) {\n      if (typeof type !== 'string') {\n        Base.each(type, function (value, key) {\n          this.off(key, value);\n        }, this);\n        return;\n      }\n\n      var types = this._eventTypes,\n          entry = types && types[type],\n          handlers = this._callbacks && this._callbacks[type],\n          index;\n\n      if (handlers) {\n        if (!func || (index = handlers.indexOf(func)) !== -1 && handlers.length === 1) {\n          if (entry && entry.uninstall) entry.uninstall.call(this, type);\n          delete this._callbacks[type];\n        } else if (index !== -1) {\n          handlers.splice(index, 1);\n        }\n      }\n\n      return this;\n    },\n    once: function (type, func) {\n      return this.on(type, function handler() {\n        func.apply(this, arguments);\n        this.off(type, handler);\n      });\n    },\n    emit: function (type, event) {\n      var handlers = this._callbacks && this._callbacks[type];\n      if (!handlers) return false;\n      var args = Base.slice(arguments, 1),\n          setTarget = event && event.target && !event.currentTarget;\n      handlers = handlers.slice();\n      if (setTarget) event.currentTarget = this;\n\n      for (var i = 0, l = handlers.length; i < l; i++) {\n        if (handlers[i].apply(this, args) == false) {\n          if (event && event.stop) event.stop();\n          break;\n        }\n      }\n\n      if (setTarget) delete event.currentTarget;\n      return true;\n    },\n    responds: function (type) {\n      return !!(this._callbacks && this._callbacks[type]);\n    },\n    attach: '#on',\n    detach: '#off',\n    fire: '#emit',\n    _installEvents: function (install) {\n      var types = this._eventTypes,\n          handlers = this._callbacks,\n          key = install ? 'install' : 'uninstall';\n\n      if (types) {\n        for (var type in handlers) {\n          if (handlers[type].length > 0) {\n            var entry = types[type],\n                func = entry && entry[key];\n            if (func) func.call(this, type);\n          }\n        }\n      }\n    },\n    statics: {\n      inject: function inject(src) {\n        var events = src._events;\n\n        if (events) {\n          var types = {};\n          Base.each(events, function (entry, key) {\n            var isString = typeof entry === 'string',\n                name = isString ? entry : key,\n                part = Base.capitalize(name),\n                type = name.substring(2).toLowerCase();\n            types[type] = isString ? {} : entry;\n            name = '_' + name;\n\n            src['get' + part] = function () {\n              return this[name];\n            };\n\n            src['set' + part] = function (func) {\n              var prev = this[name];\n              if (prev) this.off(type, prev);\n              if (func) this.on(type, func);\n              this[name] = func;\n            };\n          });\n          src._eventTypes = types;\n        }\n\n        return inject.base.apply(this, arguments);\n      }\n    }\n  };\n  var PaperScope = Base.extend({\n    _class: 'PaperScope',\n    initialize: function PaperScope() {\n      paper = this;\n      this.settings = new Base({\n        applyMatrix: true,\n        insertItems: true,\n        handleSize: 4,\n        hitTolerance: 0\n      });\n      this.project = null;\n      this.projects = [];\n      this.tools = [];\n      this._id = PaperScope._id++;\n      PaperScope._scopes[this._id] = this;\n      var proto = PaperScope.prototype;\n\n      if (!this.support) {\n        var ctx = CanvasProvider.getContext(1, 1) || {};\n        proto.support = {\n          nativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n          nativeBlendModes: BlendMode.nativeModes\n        };\n        CanvasProvider.release(ctx);\n      }\n\n      if (!this.agent) {\n        var user = self.navigator.userAgent.toLowerCase(),\n            os = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user) || [])[0],\n            platform = os === 'darwin' ? 'mac' : os,\n            agent = proto.agent = proto.browser = {\n          platform: platform\n        };\n        if (platform) agent[platform] = true;\n        user.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g, function (match, n, v1, v2, rv) {\n          if (!agent.chrome) {\n            var v = n === 'opera' ? v2 : /^(node|trident)$/.test(n) ? rv : v1;\n            agent.version = v;\n            agent.versionNumber = parseFloat(v);\n            n = {\n              trident: 'msie',\n              jsdom: 'node'\n            }[n] || n;\n            agent.name = n;\n            agent[n] = true;\n          }\n        });\n        if (agent.chrome) delete agent.webkit;\n        if (agent.atom) delete agent.chrome;\n      }\n    },\n    version: \"0.12.11\",\n    getView: function () {\n      var project = this.project;\n      return project && project._view;\n    },\n    getPaper: function () {\n      return this;\n    },\n    execute: function (code, options) {\n      var exports = paper.PaperScript.execute(code, this, options);\n      View.updateFocus();\n      return exports;\n    },\n    install: function (scope) {\n      var that = this;\n      Base.each(['project', 'view', 'tool'], function (key) {\n        Base.define(scope, key, {\n          configurable: true,\n          get: function () {\n            return that[key];\n          }\n        });\n      });\n\n      for (var key in this) if (!/^_/.test(key) && this[key]) scope[key] = this[key];\n    },\n    setup: function (element) {\n      paper = this;\n      this.project = new Project(element);\n      return this;\n    },\n    createCanvas: function (width, height) {\n      return CanvasProvider.getCanvas(width, height);\n    },\n    activate: function () {\n      paper = this;\n    },\n    clear: function () {\n      var projects = this.projects,\n          tools = this.tools;\n\n      for (var i = projects.length - 1; i >= 0; i--) projects[i].remove();\n\n      for (var i = tools.length - 1; i >= 0; i--) tools[i].remove();\n    },\n    remove: function () {\n      this.clear();\n      delete PaperScope._scopes[this._id];\n    },\n    statics: new function () {\n      function handleAttribute(name) {\n        name += 'Attribute';\n        return function (el, attr) {\n          return el[name](attr) || el[name]('data-paper-' + attr);\n        };\n      }\n\n      return {\n        _scopes: {},\n        _id: 0,\n        get: function (id) {\n          return this._scopes[id] || null;\n        },\n        getAttribute: handleAttribute('get'),\n        hasAttribute: handleAttribute('has')\n      };\n    }()\n  });\n  var PaperScopeItem = Base.extend(Emitter, {\n    initialize: function (activate) {\n      this._scope = paper;\n      this._index = this._scope[this._list].push(this) - 1;\n      if (activate || !this._scope[this._reference]) this.activate();\n    },\n    activate: function () {\n      if (!this._scope) return false;\n      var prev = this._scope[this._reference];\n      if (prev && prev !== this) prev.emit('deactivate');\n      this._scope[this._reference] = this;\n      this.emit('activate', prev);\n      return true;\n    },\n    isActive: function () {\n      return this._scope[this._reference] === this;\n    },\n    remove: function () {\n      if (this._index == null) return false;\n      Base.splice(this._scope[this._list], null, this._index, 1);\n      if (this._scope[this._reference] == this) this._scope[this._reference] = null;\n      this._scope = null;\n      return true;\n    },\n    getView: function () {\n      return this._scope.getView();\n    }\n  });\n  var CollisionDetection = {\n    findItemBoundsCollisions: function (items1, items2, tolerance) {\n      function getBounds(items) {\n        var bounds = new Array(items.length);\n\n        for (var i = 0; i < items.length; i++) {\n          var rect = items[i].getBounds();\n          bounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n        }\n\n        return bounds;\n      }\n\n      var bounds1 = getBounds(items1),\n          bounds2 = !items2 || items2 === items1 ? bounds1 : getBounds(items2);\n      return this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n    },\n    findCurveBoundsCollisions: function (curves1, curves2, tolerance, bothAxis) {\n      function getBounds(curves) {\n        var min = Math.min,\n            max = Math.max,\n            bounds = new Array(curves.length);\n\n        for (var i = 0; i < curves.length; i++) {\n          var v = curves[i];\n          bounds[i] = [min(v[0], v[2], v[4], v[6]), min(v[1], v[3], v[5], v[7]), max(v[0], v[2], v[4], v[6]), max(v[1], v[3], v[5], v[7])];\n        }\n\n        return bounds;\n      }\n\n      var bounds1 = getBounds(curves1),\n          bounds2 = !curves2 || curves2 === curves1 ? bounds1 : getBounds(curves2);\n\n      if (bothAxis) {\n        var hor = this.findBoundsCollisions(bounds1, bounds2, tolerance || 0, false, true),\n            ver = this.findBoundsCollisions(bounds1, bounds2, tolerance || 0, true, true),\n            list = [];\n\n        for (var i = 0, l = hor.length; i < l; i++) {\n          list[i] = {\n            hor: hor[i],\n            ver: ver[i]\n          };\n        }\n\n        return list;\n      }\n\n      return this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n    },\n    findBoundsCollisions: function (boundsA, boundsB, tolerance, sweepVertical, onlySweepAxisCollisions) {\n      var self = !boundsB || boundsA === boundsB,\n          allBounds = self ? boundsA : boundsA.concat(boundsB),\n          lengthA = boundsA.length,\n          lengthAll = allBounds.length;\n\n      function binarySearch(indices, coord, value) {\n        var lo = 0,\n            hi = indices.length;\n\n        while (lo < hi) {\n          var mid = hi + lo >>> 1;\n\n          if (allBounds[indices[mid]][coord] < value) {\n            lo = mid + 1;\n          } else {\n            hi = mid;\n          }\n        }\n\n        return lo - 1;\n      }\n\n      var pri0 = sweepVertical ? 1 : 0,\n          pri1 = pri0 + 2,\n          sec0 = sweepVertical ? 0 : 1,\n          sec1 = sec0 + 2;\n      var allIndicesByPri0 = new Array(lengthAll);\n\n      for (var i = 0; i < lengthAll; i++) {\n        allIndicesByPri0[i] = i;\n      }\n\n      allIndicesByPri0.sort(function (i1, i2) {\n        return allBounds[i1][pri0] - allBounds[i2][pri0];\n      });\n      var activeIndicesByPri1 = [],\n          allCollisions = new Array(lengthA);\n\n      for (var i = 0; i < lengthAll; i++) {\n        var curIndex = allIndicesByPri0[i],\n            curBounds = allBounds[curIndex],\n            origIndex = self ? curIndex : curIndex - lengthA,\n            isCurrentA = curIndex < lengthA,\n            isCurrentB = self || !isCurrentA,\n            curCollisions = isCurrentA ? [] : null;\n\n        if (activeIndicesByPri1.length) {\n          var pruneCount = binarySearch(activeIndicesByPri1, pri1, curBounds[pri0] - tolerance) + 1;\n          activeIndicesByPri1.splice(0, pruneCount);\n\n          if (self && onlySweepAxisCollisions) {\n            curCollisions = curCollisions.concat(activeIndicesByPri1);\n\n            for (var j = 0; j < activeIndicesByPri1.length; j++) {\n              var activeIndex = activeIndicesByPri1[j];\n              allCollisions[activeIndex].push(origIndex);\n            }\n          } else {\n            var curSec1 = curBounds[sec1],\n                curSec0 = curBounds[sec0];\n\n            for (var j = 0; j < activeIndicesByPri1.length; j++) {\n              var activeIndex = activeIndicesByPri1[j],\n                  activeBounds = allBounds[activeIndex],\n                  isActiveA = activeIndex < lengthA,\n                  isActiveB = self || activeIndex >= lengthA;\n\n              if (onlySweepAxisCollisions || (isCurrentA && isActiveB || isCurrentB && isActiveA) && curSec1 >= activeBounds[sec0] - tolerance && curSec0 <= activeBounds[sec1] + tolerance) {\n                if (isCurrentA && isActiveB) {\n                  curCollisions.push(self ? activeIndex : activeIndex - lengthA);\n                }\n\n                if (isCurrentB && isActiveA) {\n                  allCollisions[activeIndex].push(origIndex);\n                }\n              }\n            }\n          }\n        }\n\n        if (isCurrentA) {\n          if (boundsA === boundsB) {\n            curCollisions.push(curIndex);\n          }\n\n          allCollisions[curIndex] = curCollisions;\n        }\n\n        if (activeIndicesByPri1.length) {\n          var curPri1 = curBounds[pri1],\n              index = binarySearch(activeIndicesByPri1, pri1, curPri1);\n          activeIndicesByPri1.splice(index + 1, 0, curIndex);\n        } else {\n          activeIndicesByPri1.push(curIndex);\n        }\n      }\n\n      for (var i = 0; i < allCollisions.length; i++) {\n        var collisions = allCollisions[i];\n\n        if (collisions) {\n          collisions.sort(function (i1, i2) {\n            return i1 - i2;\n          });\n        }\n      }\n\n      return allCollisions;\n    }\n  };\n  var Formatter = Base.extend({\n    initialize: function (precision) {\n      this.precision = Base.pick(precision, 5);\n      this.multiplier = Math.pow(10, this.precision);\n    },\n    number: function (val) {\n      return this.precision < 16 ? Math.round(val * this.multiplier) / this.multiplier : val;\n    },\n    pair: function (val1, val2, separator) {\n      return this.number(val1) + (separator || ',') + this.number(val2);\n    },\n    point: function (val, separator) {\n      return this.number(val.x) + (separator || ',') + this.number(val.y);\n    },\n    size: function (val, separator) {\n      return this.number(val.width) + (separator || ',') + this.number(val.height);\n    },\n    rectangle: function (val, separator) {\n      return this.point(val, separator) + (separator || ',') + this.size(val, separator);\n    }\n  });\n  Formatter.instance = new Formatter();\n  var Numerical = new function () {\n    var abscissas = [[0.5773502691896257645091488], [0, 0.7745966692414833770358531], [0.3399810435848562648026658, 0.8611363115940525752239465], [0, 0.5384693101056830910363144, 0.9061798459386639927976269], [0.2386191860831969086305017, 0.6612093864662645136613996, 0.9324695142031520278123016], [0, 0.4058451513773971669066064, 0.7415311855993944398638648, 0.9491079123427585245261897], [0.1834346424956498049394761, 0.5255324099163289858177390, 0.7966664774136267395915539, 0.9602898564975362316835609], [0, 0.3242534234038089290385380, 0.6133714327005903973087020, 0.8360311073266357942994298, 0.9681602395076260898355762], [0.1488743389816312108848260, 0.4333953941292471907992659, 0.6794095682990244062343274, 0.8650633666889845107320967, 0.9739065285171717200779640], [0, 0.2695431559523449723315320, 0.5190961292068118159257257, 0.7301520055740493240934163, 0.8870625997680952990751578, 0.9782286581460569928039380], [0.1252334085114689154724414, 0.3678314989981801937526915, 0.5873179542866174472967024, 0.7699026741943046870368938, 0.9041172563704748566784659, 0.9815606342467192506905491], [0, 0.2304583159551347940655281, 0.4484927510364468528779129, 0.6423493394403402206439846, 0.8015780907333099127942065, 0.9175983992229779652065478, 0.9841830547185881494728294], [0.1080549487073436620662447, 0.3191123689278897604356718, 0.5152486363581540919652907, 0.6872929048116854701480198, 0.8272013150697649931897947, 0.9284348836635735173363911, 0.9862838086968123388415973], [0, 0.2011940939974345223006283, 0.3941513470775633698972074, 0.5709721726085388475372267, 0.7244177313601700474161861, 0.8482065834104272162006483, 0.9372733924007059043077589, 0.9879925180204854284895657], [0.0950125098376374401853193, 0.2816035507792589132304605, 0.4580167776572273863424194, 0.6178762444026437484466718, 0.7554044083550030338951012, 0.8656312023878317438804679, 0.9445750230732325760779884, 0.9894009349916499325961542]];\n    var weights = [[1], [0.8888888888888888888888889, 0.5555555555555555555555556], [0.6521451548625461426269361, 0.3478548451374538573730639], [0.5688888888888888888888889, 0.4786286704993664680412915, 0.2369268850561890875142640], [0.4679139345726910473898703, 0.3607615730481386075698335, 0.1713244923791703450402961], [0.4179591836734693877551020, 0.3818300505051189449503698, 0.2797053914892766679014678, 0.1294849661688696932706114], [0.3626837833783619829651504, 0.3137066458778872873379622, 0.2223810344533744705443560, 0.1012285362903762591525314], [0.3302393550012597631645251, 0.3123470770400028400686304, 0.2606106964029354623187429, 0.1806481606948574040584720, 0.0812743883615744119718922], [0.2955242247147528701738930, 0.2692667193099963550912269, 0.2190863625159820439955349, 0.1494513491505805931457763, 0.0666713443086881375935688], [0.2729250867779006307144835, 0.2628045445102466621806889, 0.2331937645919904799185237, 0.1862902109277342514260976, 0.1255803694649046246346943, 0.0556685671161736664827537], [0.2491470458134027850005624, 0.2334925365383548087608499, 0.2031674267230659217490645, 0.1600783285433462263346525, 0.1069393259953184309602547, 0.0471753363865118271946160], [0.2325515532308739101945895, 0.2262831802628972384120902, 0.2078160475368885023125232, 0.1781459807619457382800467, 0.1388735102197872384636018, 0.0921214998377284479144218, 0.0404840047653158795200216], [0.2152638534631577901958764, 0.2051984637212956039659241, 0.1855383974779378137417166, 0.1572031671581935345696019, 0.1215185706879031846894148, 0.0801580871597602098056333, 0.0351194603317518630318329], [0.2025782419255612728806202, 0.1984314853271115764561183, 0.1861610000155622110268006, 0.1662692058169939335532009, 0.1395706779261543144478048, 0.1071592204671719350118695, 0.0703660474881081247092674, 0.0307532419961172683546284], [0.1894506104550684962853967, 0.1826034150449235888667637, 0.1691565193950025381893121, 0.1495959888165767320815017, 0.1246289712555338720524763, 0.0951585116824927848099251, 0.0622535239386478928628438, 0.0271524594117540948517806]];\n\n    var abs = Math.abs,\n        sqrt = Math.sqrt,\n        pow = Math.pow,\n        log2 = Math.log2 || function (x) {\n      return Math.log(x) * Math.LOG2E;\n    },\n        EPSILON = 1e-12,\n        MACHINE_EPSILON = 1.12e-16;\n\n    function clamp(value, min, max) {\n      return value < min ? min : value > max ? max : value;\n    }\n\n    function getDiscriminant(a, b, c) {\n      function split(v) {\n        var x = v * 134217729,\n            y = v - x,\n            hi = y + x,\n            lo = v - hi;\n        return [hi, lo];\n      }\n\n      var D = b * b - a * c,\n          E = b * b + a * c;\n\n      if (abs(D) * 3 < E) {\n        var ad = split(a),\n            bd = split(b),\n            cd = split(c),\n            p = b * b,\n            dp = bd[0] * bd[0] - p + 2 * bd[0] * bd[1] + bd[1] * bd[1],\n            q = a * c,\n            dq = ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0] + ad[1] * cd[1];\n        D = p - q + (dp - dq);\n      }\n\n      return D;\n    }\n\n    function getNormalizationFactor() {\n      var norm = Math.max.apply(Math, arguments);\n      return norm && (norm < 1e-8 || norm > 1e8) ? pow(2, -Math.round(log2(norm))) : 0;\n    }\n\n    return {\n      EPSILON: EPSILON,\n      MACHINE_EPSILON: MACHINE_EPSILON,\n      CURVETIME_EPSILON: 1e-8,\n      GEOMETRIC_EPSILON: 1e-7,\n      TRIGONOMETRIC_EPSILON: 1e-8,\n      KAPPA: 4 * (sqrt(2) - 1) / 3,\n      isZero: function (val) {\n        return val >= -EPSILON && val <= EPSILON;\n      },\n      isMachineZero: function (val) {\n        return val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n      },\n      clamp: clamp,\n      integrate: function (f, a, b, n) {\n        var x = abscissas[n - 2],\n            w = weights[n - 2],\n            A = (b - a) * 0.5,\n            B = A + a,\n            i = 0,\n            m = n + 1 >> 1,\n            sum = n & 1 ? w[i++] * f(B) : 0;\n\n        while (i < m) {\n          var Ax = A * x[i];\n          sum += w[i++] * (f(B + Ax) + f(B - Ax));\n        }\n\n        return A * sum;\n      },\n      findRoot: function (f, df, x, a, b, n, tolerance) {\n        for (var i = 0; i < n; i++) {\n          var fx = f(x),\n              dx = fx / df(x),\n              nx = x - dx;\n\n          if (abs(dx) < tolerance) {\n            x = nx;\n            break;\n          }\n\n          if (fx > 0) {\n            b = x;\n            x = nx <= a ? (a + b) * 0.5 : nx;\n          } else {\n            a = x;\n            x = nx >= b ? (a + b) * 0.5 : nx;\n          }\n        }\n\n        return clamp(x, a, b);\n      },\n      solveQuadratic: function (a, b, c, roots, min, max) {\n        var x1,\n            x2 = Infinity;\n\n        if (abs(a) < EPSILON) {\n          if (abs(b) < EPSILON) return abs(c) < EPSILON ? -1 : 0;\n          x1 = -c / b;\n        } else {\n          b *= -0.5;\n          var D = getDiscriminant(a, b, c);\n\n          if (D && abs(D) < MACHINE_EPSILON) {\n            var f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\n            if (f) {\n              a *= f;\n              b *= f;\n              c *= f;\n              D = getDiscriminant(a, b, c);\n            }\n          }\n\n          if (D >= -MACHINE_EPSILON) {\n            var Q = D < 0 ? 0 : sqrt(D),\n                R = b + (b < 0 ? -Q : Q);\n\n            if (R === 0) {\n              x1 = c / a;\n              x2 = -x1;\n            } else {\n              x1 = R / a;\n              x2 = c / R;\n            }\n          }\n        }\n\n        var count = 0,\n            boundless = min == null,\n            minB = min - EPSILON,\n            maxB = max + EPSILON;\n        if (isFinite(x1) && (boundless || x1 > minB && x1 < maxB)) roots[count++] = boundless ? x1 : clamp(x1, min, max);\n        if (x2 !== x1 && isFinite(x2) && (boundless || x2 > minB && x2 < maxB)) roots[count++] = boundless ? x2 : clamp(x2, min, max);\n        return count;\n      },\n      solveCubic: function (a, b, c, d, roots, min, max) {\n        var f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n            x,\n            b1,\n            c2,\n            qd,\n            q;\n\n        if (f) {\n          a *= f;\n          b *= f;\n          c *= f;\n          d *= f;\n        }\n\n        function evaluate(x0) {\n          x = x0;\n          var tmp = a * x;\n          b1 = tmp + b;\n          c2 = b1 * x + c;\n          qd = (tmp + b1) * x + c2;\n          q = c2 * x + d;\n        }\n\n        if (abs(a) < EPSILON) {\n          a = b;\n          b1 = c;\n          c2 = d;\n          x = Infinity;\n        } else if (abs(d) < EPSILON) {\n          b1 = b;\n          c2 = c;\n          x = 0;\n        } else {\n          evaluate(-(b / a) / 3);\n          var t = q / a,\n              r = pow(abs(t), 1 / 3),\n              s = t < 0 ? -1 : 1,\n              td = -qd / a,\n              rd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n              x0 = x - s * rd;\n\n          if (x0 !== x) {\n            do {\n              evaluate(x0);\n              x0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n            } while (s * x0 > s * x);\n\n            if (abs(a) * x * x > abs(d / x)) {\n              c2 = -d / x;\n              b1 = (c2 - c) / x;\n            }\n          }\n        }\n\n        var count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n            boundless = min == null;\n        if (isFinite(x) && (count === 0 || count > 0 && x !== roots[0] && x !== roots[1]) && (boundless || x > min - EPSILON && x < max + EPSILON)) roots[count++] = boundless ? x : clamp(x, min, max);\n        return count;\n      }\n    };\n  }();\n  var UID = {\n    _id: 1,\n    _pools: {},\n    get: function (name) {\n      if (name) {\n        var pool = this._pools[name];\n        if (!pool) pool = this._pools[name] = {\n          _id: 1\n        };\n        return pool._id++;\n      } else {\n        return this._id++;\n      }\n    }\n  };\n  var Point = Base.extend({\n    _class: 'Point',\n    _readIndex: true,\n    initialize: function Point(arg0, arg1) {\n      var type = typeof arg0,\n          reading = this.__read,\n          read = 0;\n\n      if (type === 'number') {\n        var hasY = typeof arg1 === 'number';\n\n        this._set(arg0, hasY ? arg1 : arg0);\n\n        if (reading) read = hasY ? 2 : 1;\n      } else if (type === 'undefined' || arg0 === null) {\n        this._set(0, 0);\n\n        if (reading) read = arg0 === null ? 1 : 0;\n      } else {\n        var obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n        read = 1;\n\n        if (Array.isArray(obj)) {\n          this._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n        } else if ('x' in obj) {\n          this._set(obj.x || 0, obj.y || 0);\n        } else if ('width' in obj) {\n          this._set(obj.width || 0, obj.height || 0);\n        } else if ('angle' in obj) {\n          this._set(obj.length || 0, 0);\n\n          this.setAngle(obj.angle || 0);\n        } else {\n          this._set(0, 0);\n\n          read = 0;\n        }\n      }\n\n      if (reading) this.__read = read;\n      return this;\n    },\n    set: '#initialize',\n    _set: function (x, y) {\n      this.x = x;\n      this.y = y;\n      return this;\n    },\n    equals: function (point) {\n      return this === point || point && (this.x === point.x && this.y === point.y || Array.isArray(point) && this.x === point[0] && this.y === point[1]) || false;\n    },\n    clone: function () {\n      return new Point(this.x, this.y);\n    },\n    toString: function () {\n      var f = Formatter.instance;\n      return '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n    },\n    _serialize: function (options) {\n      var f = options.formatter;\n      return [f.number(this.x), f.number(this.y)];\n    },\n    getLength: function () {\n      return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n    setLength: function (length) {\n      if (this.isZero()) {\n        var angle = this._angle || 0;\n\n        this._set(Math.cos(angle) * length, Math.sin(angle) * length);\n      } else {\n        var scale = length / this.getLength();\n        if (Numerical.isZero(scale)) this.getAngle();\n\n        this._set(this.x * scale, this.y * scale);\n      }\n    },\n    getAngle: function () {\n      return this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n    },\n    setAngle: function (angle) {\n      this.setAngleInRadians.call(this, angle * Math.PI / 180);\n    },\n    getAngleInDegrees: '#getAngle',\n    setAngleInDegrees: '#setAngle',\n    getAngleInRadians: function () {\n      if (!arguments.length) {\n        return this.isZero() ? this._angle || 0 : this._angle = Math.atan2(this.y, this.x);\n      } else {\n        var point = Point.read(arguments),\n            div = this.getLength() * point.getLength();\n\n        if (Numerical.isZero(div)) {\n          return NaN;\n        } else {\n          var a = this.dot(point) / div;\n          return Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n        }\n      }\n    },\n    setAngleInRadians: function (angle) {\n      this._angle = angle;\n\n      if (!this.isZero()) {\n        var length = this.getLength();\n\n        this._set(Math.cos(angle) * length, Math.sin(angle) * length);\n      }\n    },\n    getQuadrant: function () {\n      return this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n    }\n  }, {\n    beans: false,\n    getDirectedAngle: function () {\n      var point = Point.read(arguments);\n      return Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n    },\n    getDistance: function () {\n      var args = arguments,\n          point = Point.read(args),\n          x = point.x - this.x,\n          y = point.y - this.y,\n          d = x * x + y * y,\n          squared = Base.read(args);\n      return squared ? d : Math.sqrt(d);\n    },\n    normalize: function (length) {\n      if (length === undefined) length = 1;\n      var current = this.getLength(),\n          scale = current !== 0 ? length / current : 0,\n          point = new Point(this.x * scale, this.y * scale);\n      if (scale >= 0) point._angle = this._angle;\n      return point;\n    },\n    rotate: function (angle, center) {\n      if (angle === 0) return this.clone();\n      angle = angle * Math.PI / 180;\n      var point = center ? this.subtract(center) : this,\n          sin = Math.sin(angle),\n          cos = Math.cos(angle);\n      point = new Point(point.x * cos - point.y * sin, point.x * sin + point.y * cos);\n      return center ? point.add(center) : point;\n    },\n    transform: function (matrix) {\n      return matrix ? matrix._transformPoint(this) : this;\n    },\n    add: function () {\n      var point = Point.read(arguments);\n      return new Point(this.x + point.x, this.y + point.y);\n    },\n    subtract: function () {\n      var point = Point.read(arguments);\n      return new Point(this.x - point.x, this.y - point.y);\n    },\n    multiply: function () {\n      var point = Point.read(arguments);\n      return new Point(this.x * point.x, this.y * point.y);\n    },\n    divide: function () {\n      var point = Point.read(arguments);\n      return new Point(this.x / point.x, this.y / point.y);\n    },\n    modulo: function () {\n      var point = Point.read(arguments);\n      return new Point(this.x % point.x, this.y % point.y);\n    },\n    negate: function () {\n      return new Point(-this.x, -this.y);\n    },\n    isInside: function () {\n      return Rectangle.read(arguments).contains(this);\n    },\n    isClose: function () {\n      var args = arguments,\n          point = Point.read(args),\n          tolerance = Base.read(args);\n      return this.getDistance(point) <= tolerance;\n    },\n    isCollinear: function () {\n      var point = Point.read(arguments);\n      return Point.isCollinear(this.x, this.y, point.x, point.y);\n    },\n    isColinear: '#isCollinear',\n    isOrthogonal: function () {\n      var point = Point.read(arguments);\n      return Point.isOrthogonal(this.x, this.y, point.x, point.y);\n    },\n    isZero: function () {\n      var isZero = Numerical.isZero;\n      return isZero(this.x) && isZero(this.y);\n    },\n    isNaN: function () {\n      return isNaN(this.x) || isNaN(this.y);\n    },\n    isInQuadrant: function (q) {\n      return this.x * (q > 1 && q < 4 ? -1 : 1) >= 0 && this.y * (q > 2 ? -1 : 1) >= 0;\n    },\n    dot: function () {\n      var point = Point.read(arguments);\n      return this.x * point.x + this.y * point.y;\n    },\n    cross: function () {\n      var point = Point.read(arguments);\n      return this.x * point.y - this.y * point.x;\n    },\n    project: function () {\n      var point = Point.read(arguments),\n          scale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n      return new Point(point.x * scale, point.y * scale);\n    },\n    statics: {\n      min: function () {\n        var args = arguments,\n            point1 = Point.read(args),\n            point2 = Point.read(args);\n        return new Point(Math.min(point1.x, point2.x), Math.min(point1.y, point2.y));\n      },\n      max: function () {\n        var args = arguments,\n            point1 = Point.read(args),\n            point2 = Point.read(args);\n        return new Point(Math.max(point1.x, point2.x), Math.max(point1.y, point2.y));\n      },\n      random: function () {\n        return new Point(Math.random(), Math.random());\n      },\n      isCollinear: function (x1, y1, x2, y2) {\n        return Math.abs(x1 * y2 - y1 * x2) <= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2)) * 1e-8;\n      },\n      isOrthogonal: function (x1, y1, x2, y2) {\n        return Math.abs(x1 * x2 + y1 * y2) <= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2)) * 1e-8;\n      }\n    }\n  }, Base.each(['round', 'ceil', 'floor', 'abs'], function (key) {\n    var op = Math[key];\n\n    this[key] = function () {\n      return new Point(op(this.x), op(this.y));\n    };\n  }, {}));\n  var LinkedPoint = Point.extend({\n    initialize: function Point(x, y, owner, setter) {\n      this._x = x;\n      this._y = y;\n      this._owner = owner;\n      this._setter = setter;\n    },\n    _set: function (x, y, _dontNotify) {\n      this._x = x;\n      this._y = y;\n      if (!_dontNotify) this._owner[this._setter](this);\n      return this;\n    },\n    getX: function () {\n      return this._x;\n    },\n    setX: function (x) {\n      this._x = x;\n\n      this._owner[this._setter](this);\n    },\n    getY: function () {\n      return this._y;\n    },\n    setY: function (y) {\n      this._y = y;\n\n      this._owner[this._setter](this);\n    },\n    isSelected: function () {\n      return !!(this._owner._selection & this._getSelection());\n    },\n    setSelected: function (selected) {\n      this._owner._changeSelection(this._getSelection(), selected);\n    },\n    _getSelection: function () {\n      return this._setter === 'setPosition' ? 4 : 0;\n    }\n  });\n  var Size = Base.extend({\n    _class: 'Size',\n    _readIndex: true,\n    initialize: function Size(arg0, arg1) {\n      var type = typeof arg0,\n          reading = this.__read,\n          read = 0;\n\n      if (type === 'number') {\n        var hasHeight = typeof arg1 === 'number';\n\n        this._set(arg0, hasHeight ? arg1 : arg0);\n\n        if (reading) read = hasHeight ? 2 : 1;\n      } else if (type === 'undefined' || arg0 === null) {\n        this._set(0, 0);\n\n        if (reading) read = arg0 === null ? 1 : 0;\n      } else {\n        var obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n        read = 1;\n\n        if (Array.isArray(obj)) {\n          this._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n        } else if ('width' in obj) {\n          this._set(obj.width || 0, obj.height || 0);\n        } else if ('x' in obj) {\n          this._set(obj.x || 0, obj.y || 0);\n        } else {\n          this._set(0, 0);\n\n          read = 0;\n        }\n      }\n\n      if (reading) this.__read = read;\n      return this;\n    },\n    set: '#initialize',\n    _set: function (width, height) {\n      this.width = width;\n      this.height = height;\n      return this;\n    },\n    equals: function (size) {\n      return size === this || size && (this.width === size.width && this.height === size.height || Array.isArray(size) && this.width === size[0] && this.height === size[1]) || false;\n    },\n    clone: function () {\n      return new Size(this.width, this.height);\n    },\n    toString: function () {\n      var f = Formatter.instance;\n      return '{ width: ' + f.number(this.width) + ', height: ' + f.number(this.height) + ' }';\n    },\n    _serialize: function (options) {\n      var f = options.formatter;\n      return [f.number(this.width), f.number(this.height)];\n    },\n    add: function () {\n      var size = Size.read(arguments);\n      return new Size(this.width + size.width, this.height + size.height);\n    },\n    subtract: function () {\n      var size = Size.read(arguments);\n      return new Size(this.width - size.width, this.height - size.height);\n    },\n    multiply: function () {\n      var size = Size.read(arguments);\n      return new Size(this.width * size.width, this.height * size.height);\n    },\n    divide: function () {\n      var size = Size.read(arguments);\n      return new Size(this.width / size.width, this.height / size.height);\n    },\n    modulo: function () {\n      var size = Size.read(arguments);\n      return new Size(this.width % size.width, this.height % size.height);\n    },\n    negate: function () {\n      return new Size(-this.width, -this.height);\n    },\n    isZero: function () {\n      var isZero = Numerical.isZero;\n      return isZero(this.width) && isZero(this.height);\n    },\n    isNaN: function () {\n      return isNaN(this.width) || isNaN(this.height);\n    },\n    statics: {\n      min: function (size1, size2) {\n        return new Size(Math.min(size1.width, size2.width), Math.min(size1.height, size2.height));\n      },\n      max: function (size1, size2) {\n        return new Size(Math.max(size1.width, size2.width), Math.max(size1.height, size2.height));\n      },\n      random: function () {\n        return new Size(Math.random(), Math.random());\n      }\n    }\n  }, Base.each(['round', 'ceil', 'floor', 'abs'], function (key) {\n    var op = Math[key];\n\n    this[key] = function () {\n      return new Size(op(this.width), op(this.height));\n    };\n  }, {}));\n  var LinkedSize = Size.extend({\n    initialize: function Size(width, height, owner, setter) {\n      this._width = width;\n      this._height = height;\n      this._owner = owner;\n      this._setter = setter;\n    },\n    _set: function (width, height, _dontNotify) {\n      this._width = width;\n      this._height = height;\n      if (!_dontNotify) this._owner[this._setter](this);\n      return this;\n    },\n    getWidth: function () {\n      return this._width;\n    },\n    setWidth: function (width) {\n      this._width = width;\n\n      this._owner[this._setter](this);\n    },\n    getHeight: function () {\n      return this._height;\n    },\n    setHeight: function (height) {\n      this._height = height;\n\n      this._owner[this._setter](this);\n    }\n  });\n  var Rectangle = Base.extend({\n    _class: 'Rectangle',\n    _readIndex: true,\n    beans: true,\n    initialize: function Rectangle(arg0, arg1, arg2, arg3) {\n      var args = arguments,\n          type = typeof arg0,\n          read;\n\n      if (type === 'number') {\n        this._set(arg0, arg1, arg2, arg3);\n\n        read = 4;\n      } else if (type === 'undefined' || arg0 === null) {\n        this._set(0, 0, 0, 0);\n\n        read = arg0 === null ? 1 : 0;\n      } else if (args.length === 1) {\n        if (Array.isArray(arg0)) {\n          this._set.apply(this, arg0);\n\n          read = 1;\n        } else if (arg0.x !== undefined || arg0.width !== undefined) {\n          this._set(arg0.x || 0, arg0.y || 0, arg0.width || 0, arg0.height || 0);\n\n          read = 1;\n        } else if (arg0.from === undefined && arg0.to === undefined) {\n          this._set(0, 0, 0, 0);\n\n          if (Base.readSupported(args, this)) {\n            read = 1;\n          }\n        }\n      }\n\n      if (read === undefined) {\n        var frm = Point.readNamed(args, 'from'),\n            next = Base.peek(args),\n            x = frm.x,\n            y = frm.y,\n            width,\n            height;\n\n        if (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n          var to = Point.readNamed(args, 'to');\n          width = to.x - x;\n          height = to.y - y;\n\n          if (width < 0) {\n            x = to.x;\n            width = -width;\n          }\n\n          if (height < 0) {\n            y = to.y;\n            height = -height;\n          }\n        } else {\n          var size = Size.read(args);\n          width = size.width;\n          height = size.height;\n        }\n\n        this._set(x, y, width, height);\n\n        read = args.__index;\n      }\n\n      var filtered = args.__filtered;\n      if (filtered) this.__filtered = filtered;\n      if (this.__read) this.__read = read;\n      return this;\n    },\n    set: '#initialize',\n    _set: function (x, y, width, height) {\n      this.x = x;\n      this.y = y;\n      this.width = width;\n      this.height = height;\n      return this;\n    },\n    clone: function () {\n      return new Rectangle(this.x, this.y, this.width, this.height);\n    },\n    equals: function (rect) {\n      var rt = Base.isPlainValue(rect) ? Rectangle.read(arguments) : rect;\n      return rt === this || rt && this.x === rt.x && this.y === rt.y && this.width === rt.width && this.height === rt.height || false;\n    },\n    toString: function () {\n      var f = Formatter.instance;\n      return '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ', width: ' + f.number(this.width) + ', height: ' + f.number(this.height) + ' }';\n    },\n    _serialize: function (options) {\n      var f = options.formatter;\n      return [f.number(this.x), f.number(this.y), f.number(this.width), f.number(this.height)];\n    },\n    getPoint: function (_dontLink) {\n      var ctor = _dontLink ? Point : LinkedPoint;\n      return new ctor(this.x, this.y, this, 'setPoint');\n    },\n    setPoint: function () {\n      var point = Point.read(arguments);\n      this.x = point.x;\n      this.y = point.y;\n    },\n    getSize: function (_dontLink) {\n      var ctor = _dontLink ? Size : LinkedSize;\n      return new ctor(this.width, this.height, this, 'setSize');\n    },\n    _fw: 1,\n    _fh: 1,\n    setSize: function () {\n      var size = Size.read(arguments),\n          sx = this._sx,\n          sy = this._sy,\n          w = size.width,\n          h = size.height;\n\n      if (sx) {\n        this.x += (this.width - w) * sx;\n      }\n\n      if (sy) {\n        this.y += (this.height - h) * sy;\n      }\n\n      this.width = w;\n      this.height = h;\n      this._fw = this._fh = 1;\n    },\n    getLeft: function () {\n      return this.x;\n    },\n    setLeft: function (left) {\n      if (!this._fw) {\n        var amount = left - this.x;\n        this.width -= this._sx === 0.5 ? amount * 2 : amount;\n      }\n\n      this.x = left;\n      this._sx = this._fw = 0;\n    },\n    getTop: function () {\n      return this.y;\n    },\n    setTop: function (top) {\n      if (!this._fh) {\n        var amount = top - this.y;\n        this.height -= this._sy === 0.5 ? amount * 2 : amount;\n      }\n\n      this.y = top;\n      this._sy = this._fh = 0;\n    },\n    getRight: function () {\n      return this.x + this.width;\n    },\n    setRight: function (right) {\n      if (!this._fw) {\n        var amount = right - this.x;\n        this.width = this._sx === 0.5 ? amount * 2 : amount;\n      }\n\n      this.x = right - this.width;\n      this._sx = 1;\n      this._fw = 0;\n    },\n    getBottom: function () {\n      return this.y + this.height;\n    },\n    setBottom: function (bottom) {\n      if (!this._fh) {\n        var amount = bottom - this.y;\n        this.height = this._sy === 0.5 ? amount * 2 : amount;\n      }\n\n      this.y = bottom - this.height;\n      this._sy = 1;\n      this._fh = 0;\n    },\n    getCenterX: function () {\n      return this.x + this.width / 2;\n    },\n    setCenterX: function (x) {\n      if (this._fw || this._sx === 0.5) {\n        this.x = x - this.width / 2;\n      } else {\n        if (this._sx) {\n          this.x += (x - this.x) * 2 * this._sx;\n        }\n\n        this.width = (x - this.x) * 2;\n      }\n\n      this._sx = 0.5;\n      this._fw = 0;\n    },\n    getCenterY: function () {\n      return this.y + this.height / 2;\n    },\n    setCenterY: function (y) {\n      if (this._fh || this._sy === 0.5) {\n        this.y = y - this.height / 2;\n      } else {\n        if (this._sy) {\n          this.y += (y - this.y) * 2 * this._sy;\n        }\n\n        this.height = (y - this.y) * 2;\n      }\n\n      this._sy = 0.5;\n      this._fh = 0;\n    },\n    getCenter: function (_dontLink) {\n      var ctor = _dontLink ? Point : LinkedPoint;\n      return new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n    },\n    setCenter: function () {\n      var point = Point.read(arguments);\n      this.setCenterX(point.x);\n      this.setCenterY(point.y);\n      return this;\n    },\n    getArea: function () {\n      return this.width * this.height;\n    },\n    isEmpty: function () {\n      return this.width === 0 || this.height === 0;\n    },\n    contains: function (arg) {\n      return arg && arg.width !== undefined || (Array.isArray(arg) ? arg : arguments).length === 4 ? this._containsRectangle(Rectangle.read(arguments)) : this._containsPoint(Point.read(arguments));\n    },\n    _containsPoint: function (point) {\n      var x = point.x,\n          y = point.y;\n      return x >= this.x && y >= this.y && x <= this.x + this.width && y <= this.y + this.height;\n    },\n    _containsRectangle: function (rect) {\n      var x = rect.x,\n          y = rect.y;\n      return x >= this.x && y >= this.y && x + rect.width <= this.x + this.width && y + rect.height <= this.y + this.height;\n    },\n    intersects: function () {\n      var rect = Rectangle.read(arguments),\n          epsilon = Base.read(arguments) || 0;\n      return rect.x + rect.width > this.x - epsilon && rect.y + rect.height > this.y - epsilon && rect.x < this.x + this.width + epsilon && rect.y < this.y + this.height + epsilon;\n    },\n    intersect: function () {\n      var rect = Rectangle.read(arguments),\n          x1 = Math.max(this.x, rect.x),\n          y1 = Math.max(this.y, rect.y),\n          x2 = Math.min(this.x + this.width, rect.x + rect.width),\n          y2 = Math.min(this.y + this.height, rect.y + rect.height);\n      return new Rectangle(x1, y1, x2 - x1, y2 - y1);\n    },\n    unite: function () {\n      var rect = Rectangle.read(arguments),\n          x1 = Math.min(this.x, rect.x),\n          y1 = Math.min(this.y, rect.y),\n          x2 = Math.max(this.x + this.width, rect.x + rect.width),\n          y2 = Math.max(this.y + this.height, rect.y + rect.height);\n      return new Rectangle(x1, y1, x2 - x1, y2 - y1);\n    },\n    include: function () {\n      var point = Point.read(arguments);\n      var x1 = Math.min(this.x, point.x),\n          y1 = Math.min(this.y, point.y),\n          x2 = Math.max(this.x + this.width, point.x),\n          y2 = Math.max(this.y + this.height, point.y);\n      return new Rectangle(x1, y1, x2 - x1, y2 - y1);\n    },\n    expand: function () {\n      var amount = Size.read(arguments),\n          hor = amount.width,\n          ver = amount.height;\n      return new Rectangle(this.x - hor / 2, this.y - ver / 2, this.width + hor, this.height + ver);\n    },\n    scale: function (hor, ver) {\n      return this.expand(this.width * hor - this.width, this.height * (ver === undefined ? hor : ver) - this.height);\n    }\n  }, Base.each([['Top', 'Left'], ['Top', 'Right'], ['Bottom', 'Left'], ['Bottom', 'Right'], ['Left', 'Center'], ['Top', 'Center'], ['Right', 'Center'], ['Bottom', 'Center']], function (parts, index) {\n    var part = parts.join(''),\n        xFirst = /^[RL]/.test(part);\n    if (index >= 4) parts[1] += xFirst ? 'Y' : 'X';\n    var x = parts[xFirst ? 0 : 1],\n        y = parts[xFirst ? 1 : 0],\n        getX = 'get' + x,\n        getY = 'get' + y,\n        setX = 'set' + x,\n        setY = 'set' + y,\n        get = 'get' + part,\n        set = 'set' + part;\n\n    this[get] = function (_dontLink) {\n      var ctor = _dontLink ? Point : LinkedPoint;\n      return new ctor(this[getX](), this[getY](), this, set);\n    };\n\n    this[set] = function () {\n      var point = Point.read(arguments);\n      this[setX](point.x);\n      this[setY](point.y);\n    };\n  }, {\n    beans: true\n  }));\n  var LinkedRectangle = Rectangle.extend({\n    initialize: function Rectangle(x, y, width, height, owner, setter) {\n      this._set(x, y, width, height, true);\n\n      this._owner = owner;\n      this._setter = setter;\n    },\n    _set: function (x, y, width, height, _dontNotify) {\n      this._x = x;\n      this._y = y;\n      this._width = width;\n      this._height = height;\n      if (!_dontNotify) this._owner[this._setter](this);\n      return this;\n    }\n  }, new function () {\n    var proto = Rectangle.prototype;\n    return Base.each(['x', 'y', 'width', 'height'], function (key) {\n      var part = Base.capitalize(key),\n          internal = '_' + key;\n\n      this['get' + part] = function () {\n        return this[internal];\n      };\n\n      this['set' + part] = function (value) {\n        this[internal] = value;\n        if (!this._dontNotify) this._owner[this._setter](this);\n      };\n    }, Base.each(['Point', 'Size', 'Center', 'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY', 'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight', 'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'], function (key) {\n      var name = 'set' + key;\n\n      this[name] = function () {\n        this._dontNotify = true;\n        proto[name].apply(this, arguments);\n        this._dontNotify = false;\n\n        this._owner[this._setter](this);\n      };\n    }, {\n      isSelected: function () {\n        return !!(this._owner._selection & 2);\n      },\n      setSelected: function (selected) {\n        var owner = this._owner;\n\n        if (owner._changeSelection) {\n          owner._changeSelection(2, selected);\n        }\n      }\n    }));\n  }());\n  var Matrix = Base.extend({\n    _class: 'Matrix',\n    initialize: function Matrix(arg, _dontNotify) {\n      var args = arguments,\n          count = args.length,\n          ok = true;\n\n      if (count >= 6) {\n        this._set.apply(this, args);\n      } else if (count === 1 || count === 2) {\n        if (arg instanceof Matrix) {\n          this._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty, _dontNotify);\n        } else if (Array.isArray(arg)) {\n          this._set.apply(this, _dontNotify ? arg.concat([_dontNotify]) : arg);\n        } else {\n          ok = false;\n        }\n      } else if (!count) {\n        this.reset();\n      } else {\n        ok = false;\n      }\n\n      if (!ok) {\n        throw new Error('Unsupported matrix parameters');\n      }\n\n      return this;\n    },\n    set: '#initialize',\n    _set: function (a, b, c, d, tx, ty, _dontNotify) {\n      this._a = a;\n      this._b = b;\n      this._c = c;\n      this._d = d;\n      this._tx = tx;\n      this._ty = ty;\n      if (!_dontNotify) this._changed();\n      return this;\n    },\n    _serialize: function (options, dictionary) {\n      return Base.serialize(this.getValues(), options, true, dictionary);\n    },\n    _changed: function () {\n      var owner = this._owner;\n\n      if (owner) {\n        if (owner._applyMatrix) {\n          owner.transform(null, true);\n        } else {\n          owner._changed(25);\n        }\n      }\n    },\n    clone: function () {\n      return new Matrix(this._a, this._b, this._c, this._d, this._tx, this._ty);\n    },\n    equals: function (mx) {\n      return mx === this || mx && this._a === mx._a && this._b === mx._b && this._c === mx._c && this._d === mx._d && this._tx === mx._tx && this._ty === mx._ty;\n    },\n    toString: function () {\n      var f = Formatter.instance;\n      return '[[' + [f.number(this._a), f.number(this._c), f.number(this._tx)].join(', ') + '], [' + [f.number(this._b), f.number(this._d), f.number(this._ty)].join(', ') + ']]';\n    },\n    reset: function (_dontNotify) {\n      this._a = this._d = 1;\n      this._b = this._c = this._tx = this._ty = 0;\n      if (!_dontNotify) this._changed();\n      return this;\n    },\n    apply: function (recursively, _setApplyMatrix) {\n      var owner = this._owner;\n\n      if (owner) {\n        owner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n        return this.isIdentity();\n      }\n\n      return false;\n    },\n    translate: function () {\n      var point = Point.read(arguments),\n          x = point.x,\n          y = point.y;\n      this._tx += x * this._a + y * this._c;\n      this._ty += x * this._b + y * this._d;\n\n      this._changed();\n\n      return this;\n    },\n    scale: function () {\n      var args = arguments,\n          scale = Point.read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      });\n      if (center) this.translate(center);\n      this._a *= scale.x;\n      this._b *= scale.x;\n      this._c *= scale.y;\n      this._d *= scale.y;\n      if (center) this.translate(center.negate());\n\n      this._changed();\n\n      return this;\n    },\n    rotate: function (angle) {\n      angle *= Math.PI / 180;\n      var center = Point.read(arguments, 1),\n          x = center.x,\n          y = center.y,\n          cos = Math.cos(angle),\n          sin = Math.sin(angle),\n          tx = x - x * cos + y * sin,\n          ty = y - x * sin - y * cos,\n          a = this._a,\n          b = this._b,\n          c = this._c,\n          d = this._d;\n      this._a = cos * a + sin * c;\n      this._b = cos * b + sin * d;\n      this._c = -sin * a + cos * c;\n      this._d = -sin * b + cos * d;\n      this._tx += tx * a + ty * c;\n      this._ty += tx * b + ty * d;\n\n      this._changed();\n\n      return this;\n    },\n    shear: function () {\n      var args = arguments,\n          shear = Point.read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      });\n      if (center) this.translate(center);\n      var a = this._a,\n          b = this._b;\n      this._a += shear.y * this._c;\n      this._b += shear.y * this._d;\n      this._c += shear.x * a;\n      this._d += shear.x * b;\n      if (center) this.translate(center.negate());\n\n      this._changed();\n\n      return this;\n    },\n    skew: function () {\n      var args = arguments,\n          skew = Point.read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      }),\n          toRadians = Math.PI / 180,\n          shear = new Point(Math.tan(skew.x * toRadians), Math.tan(skew.y * toRadians));\n      return this.shear(shear, center);\n    },\n    append: function (mx, _dontNotify) {\n      if (mx) {\n        var a1 = this._a,\n            b1 = this._b,\n            c1 = this._c,\n            d1 = this._d,\n            a2 = mx._a,\n            b2 = mx._c,\n            c2 = mx._b,\n            d2 = mx._d,\n            tx2 = mx._tx,\n            ty2 = mx._ty;\n        this._a = a2 * a1 + c2 * c1;\n        this._c = b2 * a1 + d2 * c1;\n        this._b = a2 * b1 + c2 * d1;\n        this._d = b2 * b1 + d2 * d1;\n        this._tx += tx2 * a1 + ty2 * c1;\n        this._ty += tx2 * b1 + ty2 * d1;\n        if (!_dontNotify) this._changed();\n      }\n\n      return this;\n    },\n    prepend: function (mx, _dontNotify) {\n      if (mx) {\n        var a1 = this._a,\n            b1 = this._b,\n            c1 = this._c,\n            d1 = this._d,\n            tx1 = this._tx,\n            ty1 = this._ty,\n            a2 = mx._a,\n            b2 = mx._c,\n            c2 = mx._b,\n            d2 = mx._d,\n            tx2 = mx._tx,\n            ty2 = mx._ty;\n        this._a = a2 * a1 + b2 * b1;\n        this._c = a2 * c1 + b2 * d1;\n        this._b = c2 * a1 + d2 * b1;\n        this._d = c2 * c1 + d2 * d1;\n        this._tx = a2 * tx1 + b2 * ty1 + tx2;\n        this._ty = c2 * tx1 + d2 * ty1 + ty2;\n        if (!_dontNotify) this._changed();\n      }\n\n      return this;\n    },\n    appended: function (mx) {\n      return this.clone().append(mx);\n    },\n    prepended: function (mx) {\n      return this.clone().prepend(mx);\n    },\n    invert: function () {\n      var a = this._a,\n          b = this._b,\n          c = this._c,\n          d = this._d,\n          tx = this._tx,\n          ty = this._ty,\n          det = a * d - b * c,\n          res = null;\n\n      if (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n        this._a = d / det;\n        this._b = -b / det;\n        this._c = -c / det;\n        this._d = a / det;\n        this._tx = (c * ty - d * tx) / det;\n        this._ty = (b * tx - a * ty) / det;\n        res = this;\n      }\n\n      return res;\n    },\n    inverted: function () {\n      return this.clone().invert();\n    },\n    concatenate: '#append',\n    preConcatenate: '#prepend',\n    chain: '#appended',\n    _shiftless: function () {\n      return new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n    },\n    _orNullIfIdentity: function () {\n      return this.isIdentity() ? null : this;\n    },\n    isIdentity: function () {\n      return this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1 && this._tx === 0 && this._ty === 0;\n    },\n    isInvertible: function () {\n      var det = this._a * this._d - this._c * this._b;\n      return det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n    },\n    isSingular: function () {\n      return !this.isInvertible();\n    },\n    transform: function (src, dst, count) {\n      return arguments.length < 3 ? this._transformPoint(Point.read(arguments)) : this._transformCoordinates(src, dst, count);\n    },\n    _transformPoint: function (point, dest, _dontNotify) {\n      var x = point.x,\n          y = point.y;\n      if (!dest) dest = new Point();\n      return dest._set(x * this._a + y * this._c + this._tx, x * this._b + y * this._d + this._ty, _dontNotify);\n    },\n    _transformCoordinates: function (src, dst, count) {\n      for (var i = 0, max = 2 * count; i < max; i += 2) {\n        var x = src[i],\n            y = src[i + 1];\n        dst[i] = x * this._a + y * this._c + this._tx;\n        dst[i + 1] = x * this._b + y * this._d + this._ty;\n      }\n\n      return dst;\n    },\n    _transformCorners: function (rect) {\n      var x1 = rect.x,\n          y1 = rect.y,\n          x2 = x1 + rect.width,\n          y2 = y1 + rect.height,\n          coords = [x1, y1, x2, y1, x2, y2, x1, y2];\n      return this._transformCoordinates(coords, coords, 4);\n    },\n    _transformBounds: function (bounds, dest, _dontNotify) {\n      var coords = this._transformCorners(bounds),\n          min = coords.slice(0, 2),\n          max = min.slice();\n\n      for (var i = 2; i < 8; i++) {\n        var val = coords[i],\n            j = i & 1;\n\n        if (val < min[j]) {\n          min[j] = val;\n        } else if (val > max[j]) {\n          max[j] = val;\n        }\n      }\n\n      if (!dest) dest = new Rectangle();\n      return dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1], _dontNotify);\n    },\n    inverseTransform: function () {\n      return this._inverseTransform(Point.read(arguments));\n    },\n    _inverseTransform: function (point, dest, _dontNotify) {\n      var a = this._a,\n          b = this._b,\n          c = this._c,\n          d = this._d,\n          tx = this._tx,\n          ty = this._ty,\n          det = a * d - b * c,\n          res = null;\n\n      if (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n        var x = point.x - this._tx,\n            y = point.y - this._ty;\n        if (!dest) dest = new Point();\n        res = dest._set((x * d - y * c) / det, (y * a - x * b) / det, _dontNotify);\n      }\n\n      return res;\n    },\n    decompose: function () {\n      var a = this._a,\n          b = this._b,\n          c = this._c,\n          d = this._d,\n          det = a * d - b * c,\n          sqrt = Math.sqrt,\n          atan2 = Math.atan2,\n          degrees = 180 / Math.PI,\n          rotate,\n          scale,\n          skew;\n\n      if (a !== 0 || b !== 0) {\n        var r = sqrt(a * a + b * b);\n        rotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n        scale = [r, det / r];\n        skew = [atan2(a * c + b * d, r * r), 0];\n      } else if (c !== 0 || d !== 0) {\n        var s = sqrt(c * c + d * d);\n        rotate = Math.asin(c / s) * (d > 0 ? 1 : -1);\n        scale = [det / s, s];\n        skew = [0, atan2(a * c + b * d, s * s)];\n      } else {\n        rotate = 0;\n        skew = scale = [0, 0];\n      }\n\n      return {\n        translation: this.getTranslation(),\n        rotation: rotate * degrees,\n        scaling: new Point(scale),\n        skewing: new Point(skew[0] * degrees, skew[1] * degrees)\n      };\n    },\n    getValues: function () {\n      return [this._a, this._b, this._c, this._d, this._tx, this._ty];\n    },\n    getTranslation: function () {\n      return new Point(this._tx, this._ty);\n    },\n    getScaling: function () {\n      return this.decompose().scaling;\n    },\n    getRotation: function () {\n      return this.decompose().rotation;\n    },\n    applyToContext: function (ctx) {\n      if (!this.isIdentity()) {\n        ctx.transform(this._a, this._b, this._c, this._d, this._tx, this._ty);\n      }\n    }\n  }, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function (key) {\n    var part = Base.capitalize(key),\n        prop = '_' + key;\n\n    this['get' + part] = function () {\n      return this[prop];\n    };\n\n    this['set' + part] = function (value) {\n      this[prop] = value;\n\n      this._changed();\n    };\n  }, {}));\n  var Line = Base.extend({\n    _class: 'Line',\n    initialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n      var asVector = false;\n\n      if (arguments.length >= 4) {\n        this._px = arg0;\n        this._py = arg1;\n        this._vx = arg2;\n        this._vy = arg3;\n        asVector = arg4;\n      } else {\n        this._px = arg0.x;\n        this._py = arg0.y;\n        this._vx = arg1.x;\n        this._vy = arg1.y;\n        asVector = arg2;\n      }\n\n      if (!asVector) {\n        this._vx -= this._px;\n        this._vy -= this._py;\n      }\n    },\n    getPoint: function () {\n      return new Point(this._px, this._py);\n    },\n    getVector: function () {\n      return new Point(this._vx, this._vy);\n    },\n    getLength: function () {\n      return this.getVector().getLength();\n    },\n    intersect: function (line, isInfinite) {\n      return Line.intersect(this._px, this._py, this._vx, this._vy, line._px, line._py, line._vx, line._vy, true, isInfinite);\n    },\n    getSide: function (point, isInfinite) {\n      return Line.getSide(this._px, this._py, this._vx, this._vy, point.x, point.y, true, isInfinite);\n    },\n    getDistance: function (point) {\n      return Math.abs(this.getSignedDistance(point));\n    },\n    getSignedDistance: function (point) {\n      return Line.getSignedDistance(this._px, this._py, this._vx, this._vy, point.x, point.y, true);\n    },\n    isCollinear: function (line) {\n      return Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n    },\n    isOrthogonal: function (line) {\n      return Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n    },\n    statics: {\n      intersect: function (p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector, isInfinite) {\n        if (!asVector) {\n          v1x -= p1x;\n          v1y -= p1y;\n          v2x -= p2x;\n          v2y -= p2y;\n        }\n\n        var cross = v1x * v2y - v1y * v2x;\n\n        if (!Numerical.isMachineZero(cross)) {\n          var dx = p1x - p2x,\n              dy = p1y - p2y,\n              u1 = (v2x * dy - v2y * dx) / cross,\n              u2 = (v1x * dy - v1y * dx) / cross,\n              epsilon = 1e-12,\n              uMin = -epsilon,\n              uMax = 1 + epsilon;\n\n          if (isInfinite || uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n            if (!isInfinite) {\n              u1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n            }\n\n            return new Point(p1x + u1 * v1x, p1y + u1 * v1y);\n          }\n        }\n      },\n      getSide: function (px, py, vx, vy, x, y, asVector, isInfinite) {\n        if (!asVector) {\n          vx -= px;\n          vy -= py;\n        }\n\n        var v2x = x - px,\n            v2y = y - py,\n            ccw = v2x * vy - v2y * vx;\n\n        if (!isInfinite && Numerical.isMachineZero(ccw)) {\n          ccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n          if (ccw >= 0 && ccw <= 1) ccw = 0;\n        }\n\n        return ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n      },\n      getSignedDistance: function (px, py, vx, vy, x, y, asVector) {\n        if (!asVector) {\n          vx -= px;\n          vy -= py;\n        }\n\n        return vx === 0 ? vy > 0 ? x - px : px - x : vy === 0 ? vx < 0 ? y - py : py - y : ((x - px) * vy - (y - py) * vx) / (vy > vx ? vy * Math.sqrt(1 + vx * vx / (vy * vy)) : vx * Math.sqrt(1 + vy * vy / (vx * vx)));\n      },\n      getDistance: function (px, py, vx, vy, x, y, asVector) {\n        return Math.abs(Line.getSignedDistance(px, py, vx, vy, x, y, asVector));\n      }\n    }\n  });\n  var Project = PaperScopeItem.extend({\n    _class: 'Project',\n    _list: 'projects',\n    _reference: 'project',\n    _compactSerialize: true,\n    initialize: function Project(element) {\n      PaperScopeItem.call(this, true);\n      this._children = [];\n      this._namedChildren = {};\n      this._activeLayer = null;\n      this._currentStyle = new Style(null, null, this);\n      this._view = View.create(this, element || CanvasProvider.getCanvas(1, 1));\n      this._selectionItems = {};\n      this._selectionCount = 0;\n      this._updateVersion = 0;\n    },\n    _serialize: function (options, dictionary) {\n      return Base.serialize(this._children, options, true, dictionary);\n    },\n    _changed: function (flags, item) {\n      if (flags & 1) {\n        var view = this._view;\n\n        if (view) {\n          view._needsUpdate = true;\n          if (!view._requested && view._autoUpdate) view.requestUpdate();\n        }\n      }\n\n      var changes = this._changes;\n\n      if (changes && item) {\n        var changesById = this._changesById,\n            id = item._id,\n            entry = changesById[id];\n\n        if (entry) {\n          entry.flags |= flags;\n        } else {\n          changes.push(changesById[id] = {\n            item: item,\n            flags: flags\n          });\n        }\n      }\n    },\n    clear: function () {\n      var children = this._children;\n\n      for (var i = children.length - 1; i >= 0; i--) children[i].remove();\n    },\n    isEmpty: function () {\n      return !this._children.length;\n    },\n    remove: function remove() {\n      if (!remove.base.call(this)) return false;\n      if (this._view) this._view.remove();\n      return true;\n    },\n    getView: function () {\n      return this._view;\n    },\n    getCurrentStyle: function () {\n      return this._currentStyle;\n    },\n    setCurrentStyle: function (style) {\n      this._currentStyle.set(style);\n    },\n    getIndex: function () {\n      return this._index;\n    },\n    getOptions: function () {\n      return this._scope.settings;\n    },\n    getLayers: function () {\n      return this._children;\n    },\n    getActiveLayer: function () {\n      return this._activeLayer || new Layer({\n        project: this,\n        insert: true\n      });\n    },\n    getSymbolDefinitions: function () {\n      var definitions = [],\n          ids = {};\n      this.getItems({\n        class: SymbolItem,\n        match: function (item) {\n          var definition = item._definition,\n              id = definition._id;\n\n          if (!ids[id]) {\n            ids[id] = true;\n            definitions.push(definition);\n          }\n\n          return false;\n        }\n      });\n      return definitions;\n    },\n    getSymbols: 'getSymbolDefinitions',\n    getSelectedItems: function () {\n      var selectionItems = this._selectionItems,\n          items = [];\n\n      for (var id in selectionItems) {\n        var item = selectionItems[id],\n            selection = item._selection;\n\n        if (selection & 1 && item.isInserted()) {\n          items.push(item);\n        } else if (!selection) {\n          this._updateSelection(item);\n        }\n      }\n\n      return items;\n    },\n    _updateSelection: function (item) {\n      var id = item._id,\n          selectionItems = this._selectionItems;\n\n      if (item._selection) {\n        if (selectionItems[id] !== item) {\n          this._selectionCount++;\n          selectionItems[id] = item;\n        }\n      } else if (selectionItems[id] === item) {\n        this._selectionCount--;\n        delete selectionItems[id];\n      }\n    },\n    selectAll: function () {\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) children[i].setFullySelected(true);\n    },\n    deselectAll: function () {\n      var selectionItems = this._selectionItems;\n\n      for (var i in selectionItems) selectionItems[i].setFullySelected(false);\n    },\n    addLayer: function (layer) {\n      return this.insertLayer(undefined, layer);\n    },\n    insertLayer: function (index, layer) {\n      if (layer instanceof Layer) {\n        layer._remove(false, true);\n\n        Base.splice(this._children, [layer], index, 0);\n\n        layer._setProject(this, true);\n\n        var name = layer._name;\n        if (name) layer.setName(name);\n        if (this._changes) layer._changed(5);\n        if (!this._activeLayer) this._activeLayer = layer;\n      } else {\n        layer = null;\n      }\n\n      return layer;\n    },\n    _insertItem: function (index, item, _created) {\n      item = this.insertLayer(index, item) || (this._activeLayer || this._insertItem(undefined, new Layer(Item.NO_INSERT), true)).insertChild(index, item);\n      if (_created && item.activate) item.activate();\n      return item;\n    },\n    getItems: function (options) {\n      return Item._getItems(this, options);\n    },\n    getItem: function (options) {\n      return Item._getItems(this, options, null, null, true)[0] || null;\n    },\n    importJSON: function (json) {\n      this.activate();\n      var layer = this._activeLayer;\n      return Base.importJSON(json, layer && layer.isEmpty() && layer);\n    },\n    removeOn: function (type) {\n      var sets = this._removeSets;\n\n      if (sets) {\n        if (type === 'mouseup') sets.mousedrag = null;\n        var set = sets[type];\n\n        if (set) {\n          for (var id in set) {\n            var item = set[id];\n\n            for (var key in sets) {\n              var other = sets[key];\n              if (other && other != set) delete other[item._id];\n            }\n\n            item.remove();\n          }\n\n          sets[type] = null;\n        }\n      }\n    },\n    draw: function (ctx, matrix, pixelRatio) {\n      this._updateVersion++;\n      ctx.save();\n      matrix.applyToContext(ctx);\n      var children = this._children,\n          param = new Base({\n        offset: new Point(0, 0),\n        pixelRatio: pixelRatio,\n        viewMatrix: matrix.isIdentity() ? null : matrix,\n        matrices: [new Matrix()],\n        updateMatrix: true\n      });\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].draw(ctx, param);\n      }\n\n      ctx.restore();\n\n      if (this._selectionCount > 0) {\n        ctx.save();\n        ctx.strokeWidth = 1;\n        var items = this._selectionItems,\n            size = this._scope.settings.handleSize,\n            version = this._updateVersion;\n\n        for (var id in items) {\n          items[id]._drawSelection(ctx, matrix, size, items, version);\n        }\n\n        ctx.restore();\n      }\n    }\n  });\n  var Item = Base.extend(Emitter, {\n    statics: {\n      extend: function extend(src) {\n        if (src._serializeFields) src._serializeFields = Base.set({}, this.prototype._serializeFields, src._serializeFields);\n        return extend.base.apply(this, arguments);\n      },\n      NO_INSERT: {\n        insert: false\n      }\n    },\n    _class: 'Item',\n    _name: null,\n    _applyMatrix: true,\n    _canApplyMatrix: true,\n    _canScaleStroke: false,\n    _pivot: null,\n    _visible: true,\n    _blendMode: 'normal',\n    _opacity: 1,\n    _locked: false,\n    _guide: false,\n    _clipMask: false,\n    _selection: 0,\n    _selectBounds: true,\n    _selectChildren: false,\n    _serializeFields: {\n      name: null,\n      applyMatrix: null,\n      matrix: new Matrix(),\n      pivot: null,\n      visible: true,\n      blendMode: 'normal',\n      opacity: 1,\n      locked: false,\n      guide: false,\n      clipMask: false,\n      selected: false,\n      data: {}\n    },\n    _prioritize: ['applyMatrix']\n  }, new function () {\n    var handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick', 'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n    return Base.each(handlers, function (name) {\n      this._events[name] = {\n        install: function (type) {\n          this.getView()._countItemEvent(type, 1);\n        },\n        uninstall: function (type) {\n          this.getView()._countItemEvent(type, -1);\n        }\n      };\n    }, {\n      _events: {\n        onFrame: {\n          install: function () {\n            this.getView()._animateItem(this, true);\n          },\n          uninstall: function () {\n            this.getView()._animateItem(this, false);\n          }\n        },\n        onLoad: {},\n        onError: {}\n      },\n      statics: {\n        _itemHandlers: handlers\n      }\n    });\n  }(), {\n    initialize: function Item() {},\n    _initialize: function (props, point) {\n      var hasProps = props && Base.isPlainObject(props),\n          internal = hasProps && props.internal === true,\n          matrix = this._matrix = new Matrix(),\n          project = hasProps && props.project || paper.project,\n          settings = paper.settings;\n      this._id = internal ? null : UID.get();\n      this._parent = this._index = null;\n      this._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n      if (point) matrix.translate(point);\n      matrix._owner = this;\n      this._style = new Style(project._currentStyle, this, project);\n\n      if (internal || hasProps && props.insert == false || !settings.insertItems && !(hasProps && props.insert === true)) {\n        this._setProject(project);\n      } else {\n        (hasProps && props.parent || project)._insertItem(undefined, this, true);\n      }\n\n      if (hasProps && props !== Item.NO_INSERT) {\n        this.set(props, {\n          internal: true,\n          insert: true,\n          project: true,\n          parent: true\n        });\n      }\n\n      return hasProps;\n    },\n    _serialize: function (options, dictionary) {\n      var props = {},\n          that = this;\n\n      function serialize(fields) {\n        for (var key in fields) {\n          var value = that[key];\n\n          if (!Base.equals(value, key === 'leading' ? fields.fontSize * 1.2 : fields[key])) {\n            props[key] = Base.serialize(value, options, key !== 'data', dictionary);\n          }\n        }\n      }\n\n      serialize(this._serializeFields);\n      if (!(this instanceof Group)) serialize(this._style._defaults);\n      return [this._class, props];\n    },\n    _changed: function (flags) {\n      var symbol = this._symbol,\n          cacheParent = this._parent || symbol,\n          project = this._project;\n\n      if (flags & 8) {\n        this._bounds = this._position = this._decomposed = undefined;\n      }\n\n      if (flags & 16) {\n        this._globalMatrix = undefined;\n      }\n\n      if (cacheParent && flags & 72) {\n        Item._clearBoundsCache(cacheParent);\n      }\n\n      if (flags & 2) {\n        Item._clearBoundsCache(this);\n      }\n\n      if (project) project._changed(flags, this);\n      if (symbol) symbol._changed(flags);\n    },\n    getId: function () {\n      return this._id;\n    },\n    getName: function () {\n      return this._name;\n    },\n    setName: function (name) {\n      if (this._name) this._removeNamed();\n      if (name === +name + '') throw new Error('Names consisting only of numbers are not supported.');\n\n      var owner = this._getOwner();\n\n      if (name && owner) {\n        var children = owner._children,\n            namedChildren = owner._namedChildren;\n        (namedChildren[name] = namedChildren[name] || []).push(this);\n        if (!(name in children)) children[name] = this;\n      }\n\n      this._name = name || undefined;\n\n      this._changed(256);\n    },\n    getStyle: function () {\n      return this._style;\n    },\n    setStyle: function (style) {\n      this.getStyle().set(style);\n    }\n  }, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'], function (name) {\n    var part = Base.capitalize(name),\n        key = '_' + name,\n        flags = {\n      locked: 256,\n      visible: 265\n    };\n\n    this['get' + part] = function () {\n      return this[key];\n    };\n\n    this['set' + part] = function (value) {\n      if (value != this[key]) {\n        this[key] = value;\n\n        this._changed(flags[name] || 257);\n      }\n    };\n  }, {}), {\n    beans: true,\n    getSelection: function () {\n      return this._selection;\n    },\n    setSelection: function (selection) {\n      if (selection !== this._selection) {\n        this._selection = selection;\n        var project = this._project;\n\n        if (project) {\n          project._updateSelection(this);\n\n          this._changed(257);\n        }\n      }\n    },\n    _changeSelection: function (flag, selected) {\n      var selection = this._selection;\n      this.setSelection(selected ? selection | flag : selection & ~flag);\n    },\n    isSelected: function () {\n      if (this._selectChildren) {\n        var children = this._children;\n\n        for (var i = 0, l = children.length; i < l; i++) if (children[i].isSelected()) return true;\n      }\n\n      return !!(this._selection & 1);\n    },\n    setSelected: function (selected) {\n      if (this._selectChildren) {\n        var children = this._children;\n\n        for (var i = 0, l = children.length; i < l; i++) children[i].setSelected(selected);\n      }\n\n      this._changeSelection(1, selected);\n    },\n    isFullySelected: function () {\n      var children = this._children,\n          selected = !!(this._selection & 1);\n\n      if (children && selected) {\n        for (var i = 0, l = children.length; i < l; i++) if (!children[i].isFullySelected()) return false;\n\n        return true;\n      }\n\n      return selected;\n    },\n    setFullySelected: function (selected) {\n      var children = this._children;\n\n      if (children) {\n        for (var i = 0, l = children.length; i < l; i++) children[i].setFullySelected(selected);\n      }\n\n      this._changeSelection(1, selected);\n    },\n    isClipMask: function () {\n      return this._clipMask;\n    },\n    setClipMask: function (clipMask) {\n      if (this._clipMask != (clipMask = !!clipMask)) {\n        this._clipMask = clipMask;\n\n        if (clipMask) {\n          this.setFillColor(null);\n          this.setStrokeColor(null);\n        }\n\n        this._changed(257);\n\n        if (this._parent) this._parent._changed(2048);\n      }\n    },\n    getData: function () {\n      if (!this._data) this._data = {};\n      return this._data;\n    },\n    setData: function (data) {\n      this._data = data;\n    },\n    getPosition: function (_dontLink) {\n      var ctor = _dontLink ? Point : LinkedPoint;\n\n      var position = this._position || (this._position = this._getPositionFromBounds());\n\n      return new ctor(position.x, position.y, this, 'setPosition');\n    },\n    setPosition: function () {\n      this.translate(Point.read(arguments).subtract(this.getPosition(true)));\n    },\n    _getPositionFromBounds: function (bounds) {\n      return this._pivot ? this._matrix._transformPoint(this._pivot) : (bounds || this.getBounds()).getCenter(true);\n    },\n    getPivot: function () {\n      var pivot = this._pivot;\n      return pivot ? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot') : null;\n    },\n    setPivot: function () {\n      this._pivot = Point.read(arguments, 0, {\n        clone: true,\n        readNull: true\n      });\n      this._position = undefined;\n    }\n  }, Base.each({\n    getStrokeBounds: {\n      stroke: true\n    },\n    getHandleBounds: {\n      handle: true\n    },\n    getInternalBounds: {\n      internal: true\n    }\n  }, function (options, key) {\n    this[key] = function (matrix) {\n      return this.getBounds(matrix, options);\n    };\n  }, {\n    beans: true,\n    getBounds: function (matrix, options) {\n      var hasMatrix = options || matrix instanceof Matrix,\n          opts = Base.set({}, hasMatrix ? options : matrix, this._boundsOptions);\n      if (!opts.stroke || this.getStrokeScaling()) opts.cacheItem = this;\n\n      var rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\n      return !arguments.length ? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height, this, 'setBounds') : rect;\n    },\n    setBounds: function () {\n      var rect = Rectangle.read(arguments),\n          bounds = this.getBounds(),\n          _matrix = this._matrix,\n          matrix = new Matrix(),\n          center = rect.getCenter();\n      matrix.translate(center);\n\n      if (rect.width != bounds.width || rect.height != bounds.height) {\n        if (!_matrix.isInvertible()) {\n          _matrix.set(_matrix._backup || new Matrix().translate(_matrix.getTranslation()));\n\n          bounds = this.getBounds();\n        }\n\n        matrix.scale(bounds.width !== 0 ? rect.width / bounds.width : 0, bounds.height !== 0 ? rect.height / bounds.height : 0);\n      }\n\n      center = bounds.getCenter();\n      matrix.translate(-center.x, -center.y);\n      this.transform(matrix);\n    },\n    _getBounds: function (matrix, options) {\n      var children = this._children;\n      if (!children || !children.length) return new Rectangle();\n\n      Item._updateBoundsCache(this, options.cacheItem);\n\n      return Item._getBounds(children, matrix, options);\n    },\n    _getBoundsCacheKey: function (options, internal) {\n      return [options.stroke ? 1 : 0, options.handle ? 1 : 0, internal ? 1 : 0].join('');\n    },\n    _getCachedBounds: function (matrix, options, noInternal) {\n      matrix = matrix && matrix._orNullIfIdentity();\n\n      var internal = options.internal && !noInternal,\n          cacheItem = options.cacheItem,\n          _matrix = internal ? null : this._matrix._orNullIfIdentity(),\n          cacheKey = cacheItem && (!matrix || matrix.equals(_matrix)) && this._getBoundsCacheKey(options, internal),\n          bounds = this._bounds;\n\n      Item._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\n      if (cacheKey && bounds && cacheKey in bounds) {\n        var cached = bounds[cacheKey];\n        return {\n          rect: cached.rect.clone(),\n          nonscaling: cached.nonscaling\n        };\n      }\n\n      var res = this._getBounds(matrix || _matrix, options),\n          rect = res.rect || res,\n          style = this._style,\n          nonscaling = res.nonscaling || style.hasStroke() && !style.getStrokeScaling();\n\n      if (cacheKey) {\n        if (!bounds) {\n          this._bounds = bounds = {};\n        }\n\n        var cached = bounds[cacheKey] = {\n          rect: rect.clone(),\n          nonscaling: nonscaling,\n          internal: internal\n        };\n      }\n\n      return {\n        rect: rect,\n        nonscaling: nonscaling\n      };\n    },\n    _getStrokeMatrix: function (matrix, options) {\n      var parent = this.getStrokeScaling() ? null : options && options.internal ? this : this._parent || this._symbol && this._symbol._item,\n          mx = parent ? parent.getViewMatrix().invert() : matrix;\n      return mx && mx._shiftless();\n    },\n    statics: {\n      _updateBoundsCache: function (parent, item) {\n        if (parent && item) {\n          var id = item._id,\n              ref = parent._boundsCache = parent._boundsCache || {\n            ids: {},\n            list: []\n          };\n\n          if (!ref.ids[id]) {\n            ref.list.push(item);\n            ref.ids[id] = item;\n          }\n        }\n      },\n      _clearBoundsCache: function (item) {\n        var cache = item._boundsCache;\n\n        if (cache) {\n          item._bounds = item._position = item._boundsCache = undefined;\n\n          for (var i = 0, list = cache.list, l = list.length; i < l; i++) {\n            var other = list[i];\n\n            if (other !== item) {\n              other._bounds = other._position = undefined;\n              if (other._boundsCache) Item._clearBoundsCache(other);\n            }\n          }\n        }\n      },\n      _getBounds: function (items, matrix, options) {\n        var x1 = Infinity,\n            x2 = -x1,\n            y1 = x1,\n            y2 = x2,\n            nonscaling = false;\n        options = options || {};\n\n        for (var i = 0, l = items.length; i < l; i++) {\n          var item = items[i];\n\n          if (item._visible && !item.isEmpty(true)) {\n            var bounds = item._getCachedBounds(matrix && matrix.appended(item._matrix), options, true),\n                rect = bounds.rect;\n\n            x1 = Math.min(rect.x, x1);\n            y1 = Math.min(rect.y, y1);\n            x2 = Math.max(rect.x + rect.width, x2);\n            y2 = Math.max(rect.y + rect.height, y2);\n            if (bounds.nonscaling) nonscaling = true;\n          }\n        }\n\n        return {\n          rect: isFinite(x1) ? new Rectangle(x1, y1, x2 - x1, y2 - y1) : new Rectangle(),\n          nonscaling: nonscaling\n        };\n      }\n    }\n  }), {\n    beans: true,\n    _decompose: function () {\n      return this._applyMatrix ? null : this._decomposed || (this._decomposed = this._matrix.decompose());\n    },\n    getRotation: function () {\n      var decomposed = this._decompose();\n\n      return decomposed ? decomposed.rotation : 0;\n    },\n    setRotation: function (rotation) {\n      var current = this.getRotation();\n\n      if (current != null && rotation != null) {\n        var decomposed = this._decomposed;\n        this.rotate(rotation - current);\n\n        if (decomposed) {\n          decomposed.rotation = rotation;\n          this._decomposed = decomposed;\n        }\n      }\n    },\n    getScaling: function () {\n      var decomposed = this._decompose(),\n          s = decomposed && decomposed.scaling;\n\n      return new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n    },\n    setScaling: function () {\n      var current = this.getScaling(),\n          scaling = Point.read(arguments, 0, {\n        clone: true,\n        readNull: true\n      });\n\n      if (current && scaling && !current.equals(scaling)) {\n        var rotation = this.getRotation(),\n            decomposed = this._decomposed,\n            matrix = new Matrix(),\n            isZero = Numerical.isZero;\n\n        if (isZero(current.x) || isZero(current.y)) {\n          matrix.translate(decomposed.translation);\n\n          if (rotation) {\n            matrix.rotate(rotation);\n          }\n\n          matrix.scale(scaling.x, scaling.y);\n\n          this._matrix.set(matrix);\n        } else {\n          var center = this.getPosition(true);\n          matrix.translate(center);\n          if (rotation) matrix.rotate(rotation);\n          matrix.scale(scaling.x / current.x, scaling.y / current.y);\n          if (rotation) matrix.rotate(-rotation);\n          matrix.translate(center.negate());\n          this.transform(matrix);\n        }\n\n        if (decomposed) {\n          decomposed.scaling = scaling;\n          this._decomposed = decomposed;\n        }\n      }\n    },\n    getMatrix: function () {\n      return this._matrix;\n    },\n    setMatrix: function () {\n      var matrix = this._matrix;\n      matrix.set.apply(matrix, arguments);\n    },\n    getGlobalMatrix: function (_dontClone) {\n      var matrix = this._globalMatrix;\n\n      if (matrix) {\n        var parent = this._parent;\n        var parents = [];\n\n        while (parent) {\n          if (!parent._globalMatrix) {\n            matrix = null;\n\n            for (var i = 0, l = parents.length; i < l; i++) {\n              parents[i]._globalMatrix = null;\n            }\n\n            break;\n          }\n\n          parents.push(parent);\n          parent = parent._parent;\n        }\n      }\n\n      if (!matrix) {\n        matrix = this._globalMatrix = this._matrix.clone();\n        var parent = this._parent;\n        if (parent) matrix.prepend(parent.getGlobalMatrix(true));\n      }\n\n      return _dontClone ? matrix : matrix.clone();\n    },\n    getViewMatrix: function () {\n      return this.getGlobalMatrix().prepend(this.getView()._matrix);\n    },\n    getApplyMatrix: function () {\n      return this._applyMatrix;\n    },\n    setApplyMatrix: function (apply) {\n      if (this._applyMatrix = this._canApplyMatrix && !!apply) this.transform(null, true);\n    },\n    getTransformContent: '#getApplyMatrix',\n    setTransformContent: '#setApplyMatrix'\n  }, {\n    getProject: function () {\n      return this._project;\n    },\n    _setProject: function (project, installEvents) {\n      if (this._project !== project) {\n        if (this._project) this._installEvents(false);\n        this._project = project;\n        var children = this._children;\n\n        for (var i = 0, l = children && children.length; i < l; i++) children[i]._setProject(project);\n\n        installEvents = true;\n      }\n\n      if (installEvents) this._installEvents(true);\n    },\n    getView: function () {\n      return this._project._view;\n    },\n    _installEvents: function _installEvents(install) {\n      _installEvents.base.call(this, install);\n\n      var children = this._children;\n\n      for (var i = 0, l = children && children.length; i < l; i++) children[i]._installEvents(install);\n    },\n    getLayer: function () {\n      var parent = this;\n\n      while (parent = parent._parent) {\n        if (parent instanceof Layer) return parent;\n      }\n\n      return null;\n    },\n    getParent: function () {\n      return this._parent;\n    },\n    setParent: function (item) {\n      return item.addChild(this);\n    },\n    _getOwner: '#getParent',\n    getChildren: function () {\n      return this._children;\n    },\n    setChildren: function (items) {\n      this.removeChildren();\n      this.addChildren(items);\n    },\n    getFirstChild: function () {\n      return this._children && this._children[0] || null;\n    },\n    getLastChild: function () {\n      return this._children && this._children[this._children.length - 1] || null;\n    },\n    getNextSibling: function () {\n      var owner = this._getOwner();\n\n      return owner && owner._children[this._index + 1] || null;\n    },\n    getPreviousSibling: function () {\n      var owner = this._getOwner();\n\n      return owner && owner._children[this._index - 1] || null;\n    },\n    getIndex: function () {\n      return this._index;\n    },\n    equals: function (item) {\n      return item === this || item && this._class === item._class && this._style.equals(item._style) && this._matrix.equals(item._matrix) && this._locked === item._locked && this._visible === item._visible && this._blendMode === item._blendMode && this._opacity === item._opacity && this._clipMask === item._clipMask && this._guide === item._guide && this._equals(item) || false;\n    },\n    _equals: function (item) {\n      return Base.equals(this._children, item._children);\n    },\n    clone: function (options) {\n      var copy = new this.constructor(Item.NO_INSERT),\n          children = this._children,\n          insert = Base.pick(options ? options.insert : undefined, options === undefined || options === true),\n          deep = Base.pick(options ? options.deep : undefined, true);\n      if (children) copy.copyAttributes(this);\n      if (!children || deep) copy.copyContent(this);\n      if (!children) copy.copyAttributes(this);\n      if (insert) copy.insertAbove(this);\n      var name = this._name,\n          parent = this._parent;\n\n      if (name && parent) {\n        var children = parent._children,\n            orig = name,\n            i = 1;\n\n        while (children[name]) name = orig + ' ' + i++;\n\n        if (name !== orig) copy.setName(name);\n      }\n\n      return copy;\n    },\n    copyContent: function (source) {\n      var children = source._children;\n\n      for (var i = 0, l = children && children.length; i < l; i++) {\n        this.addChild(children[i].clone(false), true);\n      }\n    },\n    copyAttributes: function (source, excludeMatrix) {\n      this.setStyle(source._style);\n      var keys = ['_locked', '_visible', '_blendMode', '_opacity', '_clipMask', '_guide'];\n\n      for (var i = 0, l = keys.length; i < l; i++) {\n        var key = keys[i];\n        if (source.hasOwnProperty(key)) this[key] = source[key];\n      }\n\n      if (!excludeMatrix) this._matrix.set(source._matrix, true);\n      this.setApplyMatrix(source._applyMatrix);\n      this.setPivot(source._pivot);\n      this.setSelection(source._selection);\n      var data = source._data,\n          name = source._name;\n      this._data = data ? Base.clone(data) : null;\n      if (name) this.setName(name);\n    },\n    rasterize: function (resolution, insert) {\n      var bounds = this.getStrokeBounds(),\n          scale = (resolution || this.getView().getResolution()) / 72,\n          topLeft = bounds.getTopLeft().floor(),\n          bottomRight = bounds.getBottomRight().ceil(),\n          size = new Size(bottomRight.subtract(topLeft)),\n          raster = new Raster(Item.NO_INSERT);\n\n      if (!size.isZero()) {\n        var canvas = CanvasProvider.getCanvas(size.multiply(scale)),\n            ctx = canvas.getContext('2d'),\n            matrix = new Matrix().scale(scale).translate(topLeft.negate());\n        ctx.save();\n        matrix.applyToContext(ctx);\n        this.draw(ctx, new Base({\n          matrices: [matrix]\n        }));\n        ctx.restore();\n        raster.setCanvas(canvas);\n      }\n\n      raster.transform(new Matrix().translate(topLeft.add(size.divide(2))).scale(1 / scale));\n      if (insert === undefined || insert) raster.insertAbove(this);\n      return raster;\n    },\n    contains: function () {\n      var matrix = this._matrix;\n      return matrix.isInvertible() && !!this._contains(matrix._inverseTransform(Point.read(arguments)));\n    },\n    _contains: function (point) {\n      var children = this._children;\n\n      if (children) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          if (children[i].contains(point)) return true;\n        }\n\n        return false;\n      }\n\n      return point.isInside(this.getInternalBounds());\n    },\n    isInside: function () {\n      return Rectangle.read(arguments).contains(this.getBounds());\n    },\n    _asPathItem: function () {\n      return new Path.Rectangle({\n        rectangle: this.getInternalBounds(),\n        matrix: this._matrix,\n        insert: false\n      });\n    },\n    intersects: function (item, _matrix) {\n      if (!(item instanceof Item)) return false;\n      return this._asPathItem().getIntersections(item._asPathItem(), null, _matrix, true).length > 0;\n    }\n  }, new function () {\n    function hitTest() {\n      var args = arguments;\n      return this._hitTest(Point.read(args), HitResult.getOptions(args));\n    }\n\n    function hitTestAll() {\n      var args = arguments,\n          point = Point.read(args),\n          options = HitResult.getOptions(args),\n          all = [];\n\n      this._hitTest(point, new Base({\n        all: all\n      }, options));\n\n      return all;\n    }\n\n    function hitTestChildren(point, options, viewMatrix, _exclude) {\n      var children = this._children;\n\n      if (children) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          var child = children[i];\n\n          var res = child !== _exclude && child._hitTest(point, options, viewMatrix);\n\n          if (res && !options.all) return res;\n        }\n      }\n\n      return null;\n    }\n\n    Project.inject({\n      hitTest: hitTest,\n      hitTestAll: hitTestAll,\n      _hitTest: hitTestChildren\n    });\n    return {\n      hitTest: hitTest,\n      hitTestAll: hitTestAll,\n      _hitTestChildren: hitTestChildren\n    };\n  }(), {\n    _hitTest: function (point, options, parentViewMatrix) {\n      if (this._locked || !this._visible || this._guide && !options.guides || this.isEmpty()) {\n        return null;\n      }\n\n      var matrix = this._matrix,\n          viewMatrix = parentViewMatrix ? parentViewMatrix.appended(matrix) : this.getGlobalMatrix().prepend(this.getView()._matrix),\n          tolerance = Math.max(options.tolerance, 1e-12),\n          tolerancePadding = options._tolerancePadding = new Size(Path._getStrokePadding(tolerance, matrix._shiftless().invert()));\n      point = matrix._inverseTransform(point);\n\n      if (!point || !this._children && !this.getBounds({\n        internal: true,\n        stroke: true,\n        handle: true\n      }).expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n        return null;\n      }\n\n      var checkSelf = !(options.guides && !this._guide || options.selected && !this.isSelected() || options.type && options.type !== Base.hyphenate(this._class) || options.class && !(this instanceof options.class)),\n          match = options.match,\n          that = this,\n          bounds,\n          res;\n\n      function filter(hit) {\n        if (hit && match && !match(hit)) hit = null;\n        if (hit && options.all) options.all.push(hit);\n        return hit;\n      }\n\n      function checkPoint(type, part) {\n        var pt = part ? bounds['get' + part]() : that.getPosition();\n\n        if (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n          return new HitResult(type, that, {\n            name: part ? Base.hyphenate(part) : type,\n            point: pt\n          });\n        }\n      }\n\n      var checkPosition = options.position,\n          checkCenter = options.center,\n          checkBounds = options.bounds;\n\n      if (checkSelf && this._parent && (checkPosition || checkCenter || checkBounds)) {\n        if (checkCenter || checkBounds) {\n          bounds = this.getInternalBounds();\n        }\n\n        res = checkPosition && checkPoint('position') || checkCenter && checkPoint('center', 'Center');\n\n        if (!res && checkBounds) {\n          var points = ['TopLeft', 'TopRight', 'BottomLeft', 'BottomRight', 'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'];\n\n          for (var i = 0; i < 8 && !res; i++) {\n            res = checkPoint('bounds', points[i]);\n          }\n        }\n\n        res = filter(res);\n      }\n\n      if (!res) {\n        res = this._hitTestChildren(point, options, viewMatrix) || checkSelf && filter(this._hitTestSelf(point, options, viewMatrix, this.getStrokeScaling() ? null : viewMatrix._shiftless().invert())) || null;\n      }\n\n      if (res && res.point) {\n        res.point = matrix.transform(res.point);\n      }\n\n      return res;\n    },\n    _hitTestSelf: function (point, options) {\n      if (options.fill && this.hasFill() && this._contains(point)) return new HitResult('fill', this);\n    },\n    matches: function (name, compare) {\n      function matchObject(obj1, obj2) {\n        for (var i in obj1) {\n          if (obj1.hasOwnProperty(i)) {\n            var val1 = obj1[i],\n                val2 = obj2[i];\n\n            if (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n              if (!matchObject(val1, val2)) return false;\n            } else if (!Base.equals(val1, val2)) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      }\n\n      var type = typeof name;\n\n      if (type === 'object') {\n        for (var key in name) {\n          if (name.hasOwnProperty(key) && !this.matches(key, name[key])) return false;\n        }\n\n        return true;\n      } else if (type === 'function') {\n        return name(this);\n      } else if (name === 'match') {\n        return compare(this);\n      } else {\n        var value = /^(empty|editable)$/.test(name) ? this['is' + Base.capitalize(name)]() : name === 'type' ? Base.hyphenate(this._class) : this[name];\n\n        if (name === 'class') {\n          if (typeof compare === 'function') return this instanceof compare;\n          value = this._class;\n        }\n\n        if (typeof compare === 'function') {\n          return !!compare(value);\n        } else if (compare) {\n          if (compare.test) {\n            return compare.test(value);\n          } else if (Base.isPlainObject(compare)) {\n            return matchObject(compare, value);\n          }\n        }\n\n        return Base.equals(value, compare);\n      }\n    },\n    getItems: function (options) {\n      return Item._getItems(this, options, this._matrix);\n    },\n    getItem: function (options) {\n      return Item._getItems(this, options, this._matrix, null, true)[0] || null;\n    },\n    statics: {\n      _getItems: function _getItems(item, options, matrix, param, firstOnly) {\n        if (!param) {\n          var obj = typeof options === 'object' && options,\n              overlapping = obj && obj.overlapping,\n              inside = obj && obj.inside,\n              bounds = overlapping || inside,\n              rect = bounds && Rectangle.read([bounds]);\n          param = {\n            items: [],\n            recursive: obj && obj.recursive !== false,\n            inside: !!inside,\n            overlapping: !!overlapping,\n            rect: rect,\n            path: overlapping && new Path.Rectangle({\n              rectangle: rect,\n              insert: false\n            })\n          };\n\n          if (obj) {\n            options = Base.filter({}, options, {\n              recursive: true,\n              inside: true,\n              overlapping: true\n            });\n          }\n        }\n\n        var children = item._children,\n            items = param.items,\n            rect = param.rect;\n        matrix = rect && (matrix || new Matrix());\n\n        for (var i = 0, l = children && children.length; i < l; i++) {\n          var child = children[i],\n              childMatrix = matrix && matrix.appended(child._matrix),\n              add = true;\n\n          if (rect) {\n            var bounds = child.getBounds(childMatrix);\n            if (!rect.intersects(bounds)) continue;\n            if (!(rect.contains(bounds) || param.overlapping && (bounds.contains(rect) || param.path.intersects(child, childMatrix)))) add = false;\n          }\n\n          if (add && child.matches(options)) {\n            items.push(child);\n            if (firstOnly) break;\n          }\n\n          if (param.recursive !== false) {\n            _getItems(child, options, childMatrix, param, firstOnly);\n          }\n\n          if (firstOnly && items.length > 0) break;\n        }\n\n        return items;\n      }\n    }\n  }, {\n    importJSON: function (json) {\n      var res = Base.importJSON(json, this);\n      return res !== this ? this.addChild(res) : res;\n    },\n    addChild: function (item) {\n      return this.insertChild(undefined, item);\n    },\n    insertChild: function (index, item) {\n      var res = item ? this.insertChildren(index, [item]) : null;\n      return res && res[0];\n    },\n    addChildren: function (items) {\n      return this.insertChildren(this._children.length, items);\n    },\n    insertChildren: function (index, items) {\n      var children = this._children;\n\n      if (children && items && items.length > 0) {\n        items = Base.slice(items);\n        var inserted = {};\n\n        for (var i = items.length - 1; i >= 0; i--) {\n          var item = items[i],\n              id = item && item._id;\n\n          if (!item || inserted[id]) {\n            items.splice(i, 1);\n          } else {\n            item._remove(false, true);\n\n            inserted[id] = true;\n          }\n        }\n\n        Base.splice(children, items, index, 0);\n        var project = this._project,\n            notifySelf = project._changes;\n\n        for (var i = 0, l = items.length; i < l; i++) {\n          var item = items[i],\n              name = item._name;\n          item._parent = this;\n\n          item._setProject(project, true);\n\n          if (name) item.setName(name);\n          if (notifySelf) item._changed(5);\n        }\n\n        this._changed(11);\n      } else {\n        items = null;\n      }\n\n      return items;\n    },\n    _insertItem: '#insertChild',\n    _insertAt: function (item, offset) {\n      var owner = item && item._getOwner(),\n          res = item !== this && owner ? this : null;\n\n      if (res) {\n        res._remove(false, true);\n\n        owner._insertItem(item._index + offset, res);\n      }\n\n      return res;\n    },\n    insertAbove: function (item) {\n      return this._insertAt(item, 1);\n    },\n    insertBelow: function (item) {\n      return this._insertAt(item, 0);\n    },\n    sendToBack: function () {\n      var owner = this._getOwner();\n\n      return owner ? owner._insertItem(0, this) : null;\n    },\n    bringToFront: function () {\n      var owner = this._getOwner();\n\n      return owner ? owner._insertItem(undefined, this) : null;\n    },\n    appendTop: '#addChild',\n    appendBottom: function (item) {\n      return this.insertChild(0, item);\n    },\n    moveAbove: '#insertAbove',\n    moveBelow: '#insertBelow',\n    addTo: function (owner) {\n      return owner._insertItem(undefined, this);\n    },\n    copyTo: function (owner) {\n      return this.clone(false).addTo(owner);\n    },\n    reduce: function (options) {\n      var children = this._children;\n\n      if (children && children.length === 1) {\n        var child = children[0].reduce(options);\n\n        if (this._parent) {\n          child.insertAbove(this);\n          this.remove();\n        } else {\n          child.remove();\n        }\n\n        return child;\n      }\n\n      return this;\n    },\n    _removeNamed: function () {\n      var owner = this._getOwner();\n\n      if (owner) {\n        var children = owner._children,\n            namedChildren = owner._namedChildren,\n            name = this._name,\n            namedArray = namedChildren[name],\n            index = namedArray ? namedArray.indexOf(this) : -1;\n\n        if (index !== -1) {\n          if (children[name] == this) delete children[name];\n          namedArray.splice(index, 1);\n\n          if (namedArray.length) {\n            children[name] = namedArray[0];\n          } else {\n            delete namedChildren[name];\n          }\n        }\n      }\n    },\n    _remove: function (notifySelf, notifyParent) {\n      var owner = this._getOwner(),\n          project = this._project,\n          index = this._index;\n\n      if (this._style) this._style._dispose();\n\n      if (owner) {\n        if (this._name) this._removeNamed();\n\n        if (index != null) {\n          if (project._activeLayer === this) project._activeLayer = this.getNextSibling() || this.getPreviousSibling();\n          Base.splice(owner._children, null, index, 1);\n        }\n\n        this._installEvents(false);\n\n        if (notifySelf && project._changes) this._changed(5);\n        if (notifyParent) owner._changed(11, this);\n        this._parent = null;\n        return true;\n      }\n\n      return false;\n    },\n    remove: function () {\n      return this._remove(true, true);\n    },\n    replaceWith: function (item) {\n      var ok = item && item.insertBelow(this);\n      if (ok) this.remove();\n      return ok;\n    },\n    removeChildren: function (start, end) {\n      if (!this._children) return null;\n      start = start || 0;\n      end = Base.pick(end, this._children.length);\n      var removed = Base.splice(this._children, null, start, end - start);\n\n      for (var i = removed.length - 1; i >= 0; i--) {\n        removed[i]._remove(true, false);\n      }\n\n      if (removed.length > 0) this._changed(11);\n      return removed;\n    },\n    clear: '#removeChildren',\n    reverseChildren: function () {\n      if (this._children) {\n        this._children.reverse();\n\n        for (var i = 0, l = this._children.length; i < l; i++) this._children[i]._index = i;\n\n        this._changed(11);\n      }\n    },\n    isEmpty: function (recursively) {\n      var children = this._children;\n      var numChildren = children ? children.length : 0;\n\n      if (recursively) {\n        for (var i = 0; i < numChildren; i++) {\n          if (!children[i].isEmpty(recursively)) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      return !numChildren;\n    },\n    isEditable: function () {\n      var item = this;\n\n      while (item) {\n        if (!item._visible || item._locked) return false;\n        item = item._parent;\n      }\n\n      return true;\n    },\n    hasFill: function () {\n      return this.getStyle().hasFill();\n    },\n    hasStroke: function () {\n      return this.getStyle().hasStroke();\n    },\n    hasShadow: function () {\n      return this.getStyle().hasShadow();\n    },\n    _getOrder: function (item) {\n      function getList(item) {\n        var list = [];\n\n        do {\n          list.unshift(item);\n        } while (item = item._parent);\n\n        return list;\n      }\n\n      var list1 = getList(this),\n          list2 = getList(item);\n\n      for (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n        if (list1[i] != list2[i]) {\n          return list1[i]._index < list2[i]._index ? 1 : -1;\n        }\n      }\n\n      return 0;\n    },\n    hasChildren: function () {\n      return this._children && this._children.length > 0;\n    },\n    isInserted: function () {\n      return this._parent ? this._parent.isInserted() : false;\n    },\n    isAbove: function (item) {\n      return this._getOrder(item) === -1;\n    },\n    isBelow: function (item) {\n      return this._getOrder(item) === 1;\n    },\n    isParent: function (item) {\n      return this._parent === item;\n    },\n    isChild: function (item) {\n      return item && item._parent === this;\n    },\n    isDescendant: function (item) {\n      var parent = this;\n\n      while (parent = parent._parent) {\n        if (parent === item) return true;\n      }\n\n      return false;\n    },\n    isAncestor: function (item) {\n      return item ? item.isDescendant(this) : false;\n    },\n    isSibling: function (item) {\n      return this._parent === item._parent;\n    },\n    isGroupedWith: function (item) {\n      var parent = this._parent;\n\n      while (parent) {\n        if (parent._parent && /^(Group|Layer|CompoundPath)$/.test(parent._class) && item.isDescendant(parent)) return true;\n        parent = parent._parent;\n      }\n\n      return false;\n    }\n  }, Base.each(['rotate', 'scale', 'shear', 'skew'], function (key) {\n    var rotate = key === 'rotate';\n\n    this[key] = function () {\n      var args = arguments,\n          value = (rotate ? Base : Point).read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      });\n      return this.transform(new Matrix()[key](value, center || this.getPosition(true)));\n    };\n  }, {\n    translate: function () {\n      var mx = new Matrix();\n      return this.transform(mx.translate.apply(mx, arguments));\n    },\n    transform: function (matrix, _applyRecursively, _setApplyMatrix) {\n      var _matrix = this._matrix,\n          transformMatrix = matrix && !matrix.isIdentity(),\n          applyMatrix = _setApplyMatrix && this._canApplyMatrix || this._applyMatrix && (transformMatrix || !_matrix.isIdentity() || _applyRecursively && this._children);\n      if (!transformMatrix && !applyMatrix) return this;\n\n      if (transformMatrix) {\n        if (!matrix.isInvertible() && _matrix.isInvertible()) _matrix._backup = _matrix.getValues();\n\n        _matrix.prepend(matrix, true);\n\n        var style = this._style,\n            fillColor = style.getFillColor(true),\n            strokeColor = style.getStrokeColor(true);\n        if (fillColor) fillColor.transform(matrix);\n        if (strokeColor) strokeColor.transform(matrix);\n      }\n\n      if (applyMatrix && (applyMatrix = this._transformContent(_matrix, _applyRecursively, _setApplyMatrix))) {\n        var pivot = this._pivot;\n        if (pivot) _matrix._transformPoint(pivot, pivot, true);\n\n        _matrix.reset(true);\n\n        if (_setApplyMatrix && this._canApplyMatrix) this._applyMatrix = true;\n      }\n\n      var bounds = this._bounds,\n          position = this._position;\n\n      if (transformMatrix || applyMatrix) {\n        this._changed(25);\n      }\n\n      var decomp = transformMatrix && bounds && matrix.decompose();\n\n      if (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n        for (var key in bounds) {\n          var cache = bounds[key];\n\n          if (cache.nonscaling) {\n            delete bounds[key];\n          } else if (applyMatrix || !cache.internal) {\n            var rect = cache.rect;\n\n            matrix._transformBounds(rect, rect);\n          }\n        }\n\n        this._bounds = bounds;\n\n        var cached = bounds[this._getBoundsCacheKey(this._boundsOptions || {})];\n\n        if (cached) {\n          this._position = this._getPositionFromBounds(cached.rect);\n        }\n      } else if (transformMatrix && position && this._pivot) {\n        this._position = matrix._transformPoint(position, position);\n      }\n\n      return this;\n    },\n    _transformContent: function (matrix, applyRecursively, setApplyMatrix) {\n      var children = this._children;\n\n      if (children) {\n        for (var i = 0, l = children.length; i < l; i++) {\n          children[i].transform(matrix, applyRecursively, setApplyMatrix);\n        }\n\n        return true;\n      }\n    },\n    globalToLocal: function () {\n      return this.getGlobalMatrix(true)._inverseTransform(Point.read(arguments));\n    },\n    localToGlobal: function () {\n      return this.getGlobalMatrix(true)._transformPoint(Point.read(arguments));\n    },\n    parentToLocal: function () {\n      return this._matrix._inverseTransform(Point.read(arguments));\n    },\n    localToParent: function () {\n      return this._matrix._transformPoint(Point.read(arguments));\n    },\n    fitBounds: function (rectangle, fill) {\n      rectangle = Rectangle.read(arguments);\n      var bounds = this.getBounds(),\n          itemRatio = bounds.height / bounds.width,\n          rectRatio = rectangle.height / rectangle.width,\n          scale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio) ? rectangle.width / bounds.width : rectangle.height / bounds.height,\n          newBounds = new Rectangle(new Point(), new Size(bounds.width * scale, bounds.height * scale));\n      newBounds.setCenter(rectangle.getCenter());\n      this.setBounds(newBounds);\n    }\n  }), {\n    _setStyles: function (ctx, param, viewMatrix) {\n      var style = this._style,\n          matrix = this._matrix;\n\n      if (style.hasFill()) {\n        ctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n      }\n\n      if (style.hasStroke()) {\n        ctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n        ctx.lineWidth = style.getStrokeWidth();\n        var strokeJoin = style.getStrokeJoin(),\n            strokeCap = style.getStrokeCap(),\n            miterLimit = style.getMiterLimit();\n        if (strokeJoin) ctx.lineJoin = strokeJoin;\n        if (strokeCap) ctx.lineCap = strokeCap;\n        if (miterLimit) ctx.miterLimit = miterLimit;\n\n        if (paper.support.nativeDash) {\n          var dashArray = style.getDashArray(),\n              dashOffset = style.getDashOffset();\n\n          if (dashArray && dashArray.length) {\n            if ('setLineDash' in ctx) {\n              ctx.setLineDash(dashArray);\n              ctx.lineDashOffset = dashOffset;\n            } else {\n              ctx.mozDash = dashArray;\n              ctx.mozDashOffset = dashOffset;\n            }\n          }\n        }\n      }\n\n      if (style.hasShadow()) {\n        var pixelRatio = param.pixelRatio || 1,\n            mx = viewMatrix._shiftless().prepend(new Matrix().scale(pixelRatio, pixelRatio)),\n            blur = mx.transform(new Point(style.getShadowBlur(), 0)),\n            offset = mx.transform(this.getShadowOffset());\n\n        ctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n        ctx.shadowBlur = blur.getLength();\n        ctx.shadowOffsetX = offset.x;\n        ctx.shadowOffsetY = offset.y;\n      }\n    },\n    draw: function (ctx, param, parentStrokeMatrix) {\n      var updateVersion = this._updateVersion = this._project._updateVersion;\n      if (!this._visible || this._opacity === 0) return;\n      var matrices = param.matrices,\n          viewMatrix = param.viewMatrix,\n          matrix = this._matrix,\n          globalMatrix = matrices[matrices.length - 1].appended(matrix);\n      if (!globalMatrix.isInvertible()) return;\n      viewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix) : globalMatrix;\n      matrices.push(globalMatrix);\n\n      if (param.updateMatrix) {\n        this._globalMatrix = globalMatrix;\n      }\n\n      var blendMode = this._blendMode,\n          opacity = Numerical.clamp(this._opacity, 0, 1),\n          normalBlend = blendMode === 'normal',\n          nativeBlend = BlendMode.nativeModes[blendMode],\n          direct = normalBlend && opacity === 1 || param.dontStart || param.clip || (nativeBlend || normalBlend && opacity < 1) && this._canComposite(),\n          pixelRatio = param.pixelRatio || 1,\n          mainCtx,\n          itemOffset,\n          prevOffset;\n\n      if (!direct) {\n        var bounds = this.getStrokeBounds(viewMatrix);\n\n        if (!bounds.width || !bounds.height) {\n          matrices.pop();\n          return;\n        }\n\n        prevOffset = param.offset;\n        itemOffset = param.offset = bounds.getTopLeft().floor();\n        mainCtx = ctx;\n        ctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1).multiply(pixelRatio));\n        if (pixelRatio !== 1) ctx.scale(pixelRatio, pixelRatio);\n      }\n\n      ctx.save();\n      var strokeMatrix = parentStrokeMatrix ? parentStrokeMatrix.appended(matrix) : this._canScaleStroke && !this.getStrokeScaling(true) && viewMatrix,\n          clip = !direct && param.clipItem,\n          transform = !strokeMatrix || clip;\n\n      if (direct) {\n        ctx.globalAlpha = opacity;\n        if (nativeBlend) ctx.globalCompositeOperation = blendMode;\n      } else if (transform) {\n        ctx.translate(-itemOffset.x, -itemOffset.y);\n      }\n\n      if (transform) {\n        (direct ? matrix : viewMatrix).applyToContext(ctx);\n      }\n\n      if (clip) {\n        param.clipItem.draw(ctx, param.extend({\n          clip: true\n        }));\n      }\n\n      if (strokeMatrix) {\n        ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        var offset = param.offset;\n        if (offset) ctx.translate(-offset.x, -offset.y);\n      }\n\n      this._draw(ctx, param, viewMatrix, strokeMatrix);\n\n      ctx.restore();\n      matrices.pop();\n\n      if (param.clip && !param.dontFinish) {\n        ctx.clip(this.getFillRule());\n      }\n\n      if (!direct) {\n        BlendMode.process(blendMode, ctx, mainCtx, opacity, itemOffset.subtract(prevOffset).multiply(pixelRatio));\n        CanvasProvider.release(ctx);\n        param.offset = prevOffset;\n      }\n    },\n    _isUpdated: function (updateVersion) {\n      var parent = this._parent;\n      if (parent instanceof CompoundPath) return parent._isUpdated(updateVersion);\n      var updated = this._updateVersion === updateVersion;\n\n      if (!updated && parent && parent._visible && parent._isUpdated(updateVersion)) {\n        this._updateVersion = updateVersion;\n        updated = true;\n      }\n\n      return updated;\n    },\n    _drawSelection: function (ctx, matrix, size, selectionItems, updateVersion) {\n      var selection = this._selection,\n          itemSelected = selection & 1,\n          boundsSelected = selection & 2 || itemSelected && this._selectBounds,\n          positionSelected = selection & 4;\n      if (!this._drawSelected) itemSelected = false;\n\n      if ((itemSelected || boundsSelected || positionSelected) && this._isUpdated(updateVersion)) {\n        var layer,\n            color = this.getSelectedColor(true) || (layer = this.getLayer()) && layer.getSelectedColor(true),\n            mx = matrix.appended(this.getGlobalMatrix(true)),\n            half = size / 2;\n        ctx.strokeStyle = ctx.fillStyle = color ? color.toCanvasStyle(ctx) : '#009dec';\n        if (itemSelected) this._drawSelected(ctx, mx, selectionItems);\n\n        if (positionSelected) {\n          var pos = this.getPosition(true),\n              parent = this._parent,\n              point = parent ? parent.localToGlobal(pos) : pos,\n              x = point.x,\n              y = point.y;\n          ctx.beginPath();\n          ctx.arc(x, y, half, 0, Math.PI * 2, true);\n          ctx.stroke();\n          var deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n              start = half,\n              end = size + 1;\n\n          for (var i = 0; i < 4; i++) {\n            var delta = deltas[i],\n                dx = delta[0],\n                dy = delta[1];\n            ctx.moveTo(x + dx * start, y + dy * start);\n            ctx.lineTo(x + dx * end, y + dy * end);\n            ctx.stroke();\n          }\n        }\n\n        if (boundsSelected) {\n          var coords = mx._transformCorners(this.getInternalBounds());\n\n          ctx.beginPath();\n\n          for (var i = 0; i < 8; i++) {\n            ctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n          }\n\n          ctx.closePath();\n          ctx.stroke();\n\n          for (var i = 0; i < 8; i++) {\n            ctx.fillRect(coords[i] - half, coords[++i] - half, size, size);\n          }\n        }\n      }\n    },\n    _canComposite: function () {\n      return false;\n    }\n  }, Base.each(['down', 'drag', 'up', 'move'], function (key) {\n    this['removeOn' + Base.capitalize(key)] = function () {\n      var hash = {};\n      hash[key] = true;\n      return this.removeOn(hash);\n    };\n  }, {\n    removeOn: function (obj) {\n      for (var name in obj) {\n        if (obj[name]) {\n          var key = 'mouse' + name,\n              project = this._project,\n              sets = project._removeSets = project._removeSets || {};\n          sets[key] = sets[key] || {};\n          sets[key][this._id] = this;\n        }\n      }\n\n      return this;\n    }\n  }), {\n    tween: function (from, to, options) {\n      if (!options) {\n        options = to;\n        to = from;\n        from = null;\n\n        if (!options) {\n          options = to;\n          to = null;\n        }\n      }\n\n      var easing = options && options.easing,\n          start = options && options.start,\n          duration = options != null && (typeof options === 'number' ? options : options.duration),\n          tween = new Tween(this, from, to, duration, easing, start);\n\n      function onFrame(event) {\n        tween._handleFrame(event.time * 1000);\n\n        if (!tween.running) {\n          this.off('frame', onFrame);\n        }\n      }\n\n      if (duration) {\n        this.on('frame', onFrame);\n      }\n\n      return tween;\n    },\n    tweenTo: function (to, options) {\n      return this.tween(null, to, options);\n    },\n    tweenFrom: function (from, options) {\n      return this.tween(from, null, options);\n    }\n  });\n  var Group = Item.extend({\n    _class: 'Group',\n    _selectBounds: false,\n    _selectChildren: true,\n    _serializeFields: {\n      children: []\n    },\n    initialize: function Group(arg) {\n      this._children = [];\n      this._namedChildren = {};\n      if (!this._initialize(arg)) this.addChildren(Array.isArray(arg) ? arg : arguments);\n    },\n    _changed: function _changed(flags) {\n      _changed.base.call(this, flags);\n\n      if (flags & 2050) {\n        this._clipItem = undefined;\n      }\n    },\n    _getClipItem: function () {\n      var clipItem = this._clipItem;\n\n      if (clipItem === undefined) {\n        clipItem = null;\n        var children = this._children;\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          if (children[i]._clipMask) {\n            clipItem = children[i];\n            break;\n          }\n        }\n\n        this._clipItem = clipItem;\n      }\n\n      return clipItem;\n    },\n    isClipped: function () {\n      return !!this._getClipItem();\n    },\n    setClipped: function (clipped) {\n      var child = this.getFirstChild();\n      if (child) child.setClipMask(clipped);\n    },\n    _getBounds: function _getBounds(matrix, options) {\n      var clipItem = this._getClipItem();\n\n      return clipItem ? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix), Base.set({}, options, {\n        stroke: false\n      })) : _getBounds.base.call(this, matrix, options);\n    },\n    _hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n      var clipItem = this._getClipItem();\n\n      return (!clipItem || clipItem.contains(point)) && _hitTestChildren.base.call(this, point, options, viewMatrix, clipItem);\n    },\n    _draw: function (ctx, param) {\n      var clip = param.clip,\n          clipItem = !clip && this._getClipItem();\n\n      param = param.extend({\n        clipItem: clipItem,\n        clip: false\n      });\n\n      if (clip) {\n        ctx.beginPath();\n        param.dontStart = param.dontFinish = true;\n      } else if (clipItem) {\n        clipItem.draw(ctx, param.extend({\n          clip: true\n        }));\n      }\n\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        var item = children[i];\n        if (item !== clipItem) item.draw(ctx, param);\n      }\n    }\n  });\n  var Layer = Group.extend({\n    _class: 'Layer',\n    initialize: function Layer() {\n      Group.apply(this, arguments);\n    },\n    _getOwner: function () {\n      return this._parent || this._index != null && this._project;\n    },\n    isInserted: function isInserted() {\n      return this._parent ? isInserted.base.call(this) : this._index != null;\n    },\n    activate: function () {\n      this._project._activeLayer = this;\n    },\n    _hitTestSelf: function () {}\n  });\n  var Shape = Item.extend({\n    _class: 'Shape',\n    _applyMatrix: false,\n    _canApplyMatrix: false,\n    _canScaleStroke: true,\n    _serializeFields: {\n      type: null,\n      size: null,\n      radius: null\n    },\n    initialize: function Shape(props, point) {\n      this._initialize(props, point);\n    },\n    _equals: function (item) {\n      return this._type === item._type && this._size.equals(item._size) && Base.equals(this._radius, item._radius);\n    },\n    copyContent: function (source) {\n      this.setType(source._type);\n      this.setSize(source._size);\n      this.setRadius(source._radius);\n    },\n    getType: function () {\n      return this._type;\n    },\n    setType: function (type) {\n      this._type = type;\n    },\n    getShape: '#getType',\n    setShape: '#setType',\n    getSize: function () {\n      var size = this._size;\n      return new LinkedSize(size.width, size.height, this, 'setSize');\n    },\n    setSize: function () {\n      var size = Size.read(arguments);\n\n      if (!this._size) {\n        this._size = size.clone();\n      } else if (!this._size.equals(size)) {\n        var type = this._type,\n            width = size.width,\n            height = size.height;\n\n        if (type === 'rectangle') {\n          this._radius.set(Size.min(this._radius, size.divide(2).abs()));\n        } else if (type === 'circle') {\n          width = height = (width + height) / 2;\n          this._radius = width / 2;\n        } else if (type === 'ellipse') {\n          this._radius._set(width / 2, height / 2);\n        }\n\n        this._size._set(width, height);\n\n        this._changed(9);\n      }\n    },\n    getRadius: function () {\n      var rad = this._radius;\n      return this._type === 'circle' ? rad : new LinkedSize(rad.width, rad.height, this, 'setRadius');\n    },\n    setRadius: function (radius) {\n      var type = this._type;\n\n      if (type === 'circle') {\n        if (radius === this._radius) return;\n        var size = radius * 2;\n        this._radius = radius;\n\n        this._size._set(size, size);\n      } else {\n        radius = Size.read(arguments);\n\n        if (!this._radius) {\n          this._radius = radius.clone();\n        } else {\n          if (this._radius.equals(radius)) return;\n\n          this._radius.set(radius);\n\n          if (type === 'rectangle') {\n            var size = Size.max(this._size, radius.multiply(2));\n\n            this._size.set(size);\n          } else if (type === 'ellipse') {\n            this._size._set(radius.width * 2, radius.height * 2);\n          }\n        }\n      }\n\n      this._changed(9);\n    },\n    isEmpty: function () {\n      return false;\n    },\n    toPath: function (insert) {\n      var path = new Path[Base.capitalize(this._type)]({\n        center: new Point(),\n        size: this._size,\n        radius: this._radius,\n        insert: false\n      });\n      path.copyAttributes(this);\n      if (paper.settings.applyMatrix) path.setApplyMatrix(true);\n      if (insert === undefined || insert) path.insertAbove(this);\n      return path;\n    },\n    toShape: '#clone',\n    _asPathItem: function () {\n      return this.toPath(false);\n    },\n    _draw: function (ctx, param, viewMatrix, strokeMatrix) {\n      var style = this._style,\n          hasFill = style.hasFill(),\n          hasStroke = style.hasStroke(),\n          dontPaint = param.dontFinish || param.clip,\n          untransformed = !strokeMatrix;\n\n      if (hasFill || hasStroke || dontPaint) {\n        var type = this._type,\n            radius = this._radius,\n            isCircle = type === 'circle';\n        if (!param.dontStart) ctx.beginPath();\n\n        if (untransformed && isCircle) {\n          ctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n        } else {\n          var rx = isCircle ? radius : radius.width,\n              ry = isCircle ? radius : radius.height,\n              size = this._size,\n              width = size.width,\n              height = size.height;\n\n          if (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n            ctx.rect(-width / 2, -height / 2, width, height);\n          } else {\n            var x = width / 2,\n                y = height / 2,\n                kappa = 1 - 0.5522847498307936,\n                cx = rx * kappa,\n                cy = ry * kappa,\n                c = [-x, -y + ry, -x, -y + cy, -x + cx, -y, -x + rx, -y, x - rx, -y, x - cx, -y, x, -y + cy, x, -y + ry, x, y - ry, x, y - cy, x - cx, y, x - rx, y, -x + rx, y, -x + cx, y, -x, y - cy, -x, y - ry];\n            if (strokeMatrix) strokeMatrix.transform(c, c, 32);\n            ctx.moveTo(c[0], c[1]);\n            ctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n            if (x !== rx) ctx.lineTo(c[8], c[9]);\n            ctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n            if (y !== ry) ctx.lineTo(c[16], c[17]);\n            ctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n            if (x !== rx) ctx.lineTo(c[24], c[25]);\n            ctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n          }\n        }\n\n        ctx.closePath();\n      }\n\n      if (!dontPaint && (hasFill || hasStroke)) {\n        this._setStyles(ctx, param, viewMatrix);\n\n        if (hasFill) {\n          ctx.fill(style.getFillRule());\n          ctx.shadowColor = 'rgba(0,0,0,0)';\n        }\n\n        if (hasStroke) ctx.stroke();\n      }\n    },\n    _canComposite: function () {\n      return !(this.hasFill() && this.hasStroke());\n    },\n    _getBounds: function (matrix, options) {\n      var rect = new Rectangle(this._size).setCenter(0, 0),\n          style = this._style,\n          strokeWidth = options.stroke && style.hasStroke() && style.getStrokeWidth();\n      if (matrix) rect = matrix._transformBounds(rect);\n      return strokeWidth ? rect.expand(Path._getStrokePadding(strokeWidth, this._getStrokeMatrix(matrix, options))) : rect;\n    }\n  }, new function () {\n    function getCornerCenter(that, point, expand) {\n      var radius = that._radius;\n\n      if (!radius.isZero()) {\n        var halfSize = that._size.divide(2);\n\n        for (var q = 1; q <= 4; q++) {\n          var dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n              corner = dir.multiply(halfSize),\n              center = corner.subtract(dir.multiply(radius)),\n              rect = new Rectangle(expand ? corner.add(dir.multiply(expand)) : corner, center);\n          if (rect.contains(point)) return {\n            point: center,\n            quadrant: q\n          };\n        }\n      }\n    }\n\n    function isOnEllipseStroke(point, radius, padding, quadrant) {\n      var vector = point.divide(radius);\n      return (!quadrant || vector.isInQuadrant(quadrant)) && vector.subtract(vector.normalize()).multiply(radius).divide(padding).length <= 1;\n    }\n\n    return {\n      _contains: function _contains(point) {\n        if (this._type === 'rectangle') {\n          var center = getCornerCenter(this, point);\n          return center ? point.subtract(center.point).divide(this._radius).getLength() <= 1 : _contains.base.call(this, point);\n        } else {\n          return point.divide(this.size).getLength() <= 0.5;\n        }\n      },\n      _hitTestSelf: function _hitTestSelf(point, options, viewMatrix, strokeMatrix) {\n        var hit = false,\n            style = this._style,\n            hitStroke = options.stroke && style.hasStroke(),\n            hitFill = options.fill && style.hasFill();\n\n        if (hitStroke || hitFill) {\n          var type = this._type,\n              radius = this._radius,\n              strokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n              strokePadding = options._tolerancePadding.add(Path._getStrokePadding(strokeRadius, !style.getStrokeScaling() && strokeMatrix));\n\n          if (type === 'rectangle') {\n            var padding = strokePadding.multiply(2),\n                center = getCornerCenter(this, point, padding);\n\n            if (center) {\n              hit = isOnEllipseStroke(point.subtract(center.point), radius, strokePadding, center.quadrant);\n            } else {\n              var rect = new Rectangle(this._size).setCenter(0, 0),\n                  outer = rect.expand(padding),\n                  inner = rect.expand(padding.negate());\n              hit = outer._containsPoint(point) && !inner._containsPoint(point);\n            }\n          } else {\n            hit = isOnEllipseStroke(point, radius, strokePadding);\n          }\n        }\n\n        return hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this) : _hitTestSelf.base.apply(this, arguments);\n      }\n    };\n  }(), {\n    statics: new function () {\n      function createShape(type, point, size, radius, args) {\n        var item = Base.create(Shape.prototype);\n        item._type = type;\n        item._size = size;\n        item._radius = radius;\n\n        item._initialize(Base.getNamed(args), point);\n\n        return item;\n      }\n\n      return {\n        Circle: function () {\n          var args = arguments,\n              center = Point.readNamed(args, 'center'),\n              radius = Base.readNamed(args, 'radius');\n          return createShape('circle', center, new Size(radius * 2), radius, args);\n        },\n        Rectangle: function () {\n          var args = arguments,\n              rect = Rectangle.readNamed(args, 'rectangle'),\n              radius = Size.min(Size.readNamed(args, 'radius'), rect.getSize(true).divide(2));\n          return createShape('rectangle', rect.getCenter(true), rect.getSize(true), radius, args);\n        },\n        Ellipse: function () {\n          var args = arguments,\n              ellipse = Shape._readEllipse(args),\n              radius = ellipse.radius;\n\n          return createShape('ellipse', ellipse.center, radius.multiply(2), radius, args);\n        },\n        _readEllipse: function (args) {\n          var center, radius;\n\n          if (Base.hasNamed(args, 'radius')) {\n            center = Point.readNamed(args, 'center');\n            radius = Size.readNamed(args, 'radius');\n          } else {\n            var rect = Rectangle.readNamed(args, 'rectangle');\n            center = rect.getCenter(true);\n            radius = rect.getSize(true).divide(2);\n          }\n\n          return {\n            center: center,\n            radius: radius\n          };\n        }\n      };\n    }()\n  });\n  var Raster = Item.extend({\n    _class: 'Raster',\n    _applyMatrix: false,\n    _canApplyMatrix: false,\n    _boundsOptions: {\n      stroke: false,\n      handle: false\n    },\n    _serializeFields: {\n      crossOrigin: null,\n      source: null\n    },\n    _prioritize: ['crossOrigin'],\n    _smoothing: true,\n    beans: true,\n    initialize: function Raster(source, position) {\n      if (!this._initialize(source, position !== undefined && Point.read(arguments))) {\n        var image,\n            type = typeof source,\n            object = type === 'string' ? document.getElementById(source) : type === 'object' ? source : null;\n\n        if (object && object !== Item.NO_INSERT) {\n          if (object.getContext || object.naturalHeight != null) {\n            image = object;\n          } else if (object) {\n            var size = Size.read(arguments);\n\n            if (!size.isZero()) {\n              image = CanvasProvider.getCanvas(size);\n            }\n          }\n        }\n\n        if (image) {\n          this.setImage(image);\n        } else {\n          this.setSource(source);\n        }\n      }\n\n      if (!this._size) {\n        this._size = new Size();\n        this._loaded = false;\n      }\n    },\n    _equals: function (item) {\n      return this.getSource() === item.getSource();\n    },\n    copyContent: function (source) {\n      var image = source._image,\n          canvas = source._canvas;\n\n      if (image) {\n        this._setImage(image);\n      } else if (canvas) {\n        var copyCanvas = CanvasProvider.getCanvas(source._size);\n        copyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\n        this._setImage(copyCanvas);\n      }\n\n      this._crossOrigin = source._crossOrigin;\n    },\n    getSize: function () {\n      var size = this._size;\n      return new LinkedSize(size ? size.width : 0, size ? size.height : 0, this, 'setSize');\n    },\n    setSize: function () {\n      var size = Size.read(arguments);\n\n      if (!size.equals(this._size)) {\n        if (size.width > 0 && size.height > 0) {\n          var element = this.getElement();\n\n          this._setImage(CanvasProvider.getCanvas(size));\n\n          if (element) this.getContext(true).drawImage(element, 0, 0, size.width, size.height);\n        } else {\n          if (this._canvas) CanvasProvider.release(this._canvas);\n          this._size = size.clone();\n        }\n      }\n    },\n    getWidth: function () {\n      return this._size ? this._size.width : 0;\n    },\n    setWidth: function (width) {\n      this.setSize(width, this.getHeight());\n    },\n    getHeight: function () {\n      return this._size ? this._size.height : 0;\n    },\n    setHeight: function (height) {\n      this.setSize(this.getWidth(), height);\n    },\n    getLoaded: function () {\n      return this._loaded;\n    },\n    isEmpty: function () {\n      var size = this._size;\n      return !size || size.width === 0 && size.height === 0;\n    },\n    getResolution: function () {\n      var matrix = this._matrix,\n          orig = new Point(0, 0).transform(matrix),\n          u = new Point(1, 0).transform(matrix).subtract(orig),\n          v = new Point(0, 1).transform(matrix).subtract(orig);\n      return new Size(72 / u.getLength(), 72 / v.getLength());\n    },\n    getPpi: '#getResolution',\n    getImage: function () {\n      return this._image;\n    },\n    setImage: function (image) {\n      var that = this;\n\n      function emit(event) {\n        var view = that.getView(),\n            type = event && event.type || 'load';\n\n        if (view && that.responds(type)) {\n          paper = view._scope;\n          that.emit(type, new Event(event));\n        }\n      }\n\n      this._setImage(image);\n\n      if (this._loaded) {\n        setTimeout(emit, 0);\n      } else if (image) {\n        DomEvent.add(image, {\n          load: function (event) {\n            that._setImage(image);\n\n            emit(event);\n          },\n          error: emit\n        });\n      }\n    },\n    _setImage: function (image) {\n      if (this._canvas) CanvasProvider.release(this._canvas);\n\n      if (image && image.getContext) {\n        this._image = null;\n        this._canvas = image;\n        this._loaded = true;\n      } else {\n        this._image = image;\n        this._canvas = null;\n        this._loaded = !!(image && image.src && image.complete);\n      }\n\n      this._size = new Size(image ? image.naturalWidth || image.width : 0, image ? image.naturalHeight || image.height : 0);\n      this._context = null;\n\n      this._changed(1033);\n    },\n    getCanvas: function () {\n      if (!this._canvas) {\n        var ctx = CanvasProvider.getContext(this._size);\n\n        try {\n          if (this._image) ctx.drawImage(this._image, 0, 0);\n          this._canvas = ctx.canvas;\n        } catch (e) {\n          CanvasProvider.release(ctx);\n        }\n      }\n\n      return this._canvas;\n    },\n    setCanvas: '#setImage',\n    getContext: function (_change) {\n      if (!this._context) this._context = this.getCanvas().getContext('2d');\n\n      if (_change) {\n        this._image = null;\n\n        this._changed(1025);\n      }\n\n      return this._context;\n    },\n    setContext: function (context) {\n      this._context = context;\n    },\n    getSource: function () {\n      var image = this._image;\n      return image && image.src || this.toDataURL();\n    },\n    setSource: function (src) {\n      var image = new self.Image(),\n          crossOrigin = this._crossOrigin;\n      if (crossOrigin) image.crossOrigin = crossOrigin;\n      if (src) image.src = src;\n      this.setImage(image);\n    },\n    getCrossOrigin: function () {\n      var image = this._image;\n      return image && image.crossOrigin || this._crossOrigin || '';\n    },\n    setCrossOrigin: function (crossOrigin) {\n      this._crossOrigin = crossOrigin;\n      var image = this._image;\n      if (image) image.crossOrigin = crossOrigin;\n    },\n    getSmoothing: function () {\n      return this._smoothing;\n    },\n    setSmoothing: function (smoothing) {\n      this._smoothing = smoothing;\n\n      this._changed(257);\n    },\n    getElement: function () {\n      return this._canvas || this._loaded && this._image;\n    }\n  }, {\n    beans: false,\n    getSubCanvas: function () {\n      var rect = Rectangle.read(arguments),\n          ctx = CanvasProvider.getContext(rect.getSize());\n      ctx.drawImage(this.getCanvas(), rect.x, rect.y, rect.width, rect.height, 0, 0, rect.width, rect.height);\n      return ctx.canvas;\n    },\n    getSubRaster: function () {\n      var rect = Rectangle.read(arguments),\n          raster = new Raster(Item.NO_INSERT);\n\n      raster._setImage(this.getSubCanvas(rect));\n\n      raster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\n      raster._matrix.prepend(this._matrix);\n\n      raster.insertAbove(this);\n      return raster;\n    },\n    toDataURL: function () {\n      var image = this._image,\n          src = image && image.src;\n      if (/^data:/.test(src)) return src;\n      var canvas = this.getCanvas();\n      return canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n    },\n    drawImage: function (image) {\n      var point = Point.read(arguments, 1);\n      this.getContext(true).drawImage(image, point.x, point.y);\n    },\n    getAverageColor: function (object) {\n      var bounds, path;\n\n      if (!object) {\n        bounds = this.getBounds();\n      } else if (object instanceof PathItem) {\n        path = object;\n        bounds = object.getBounds();\n      } else if (typeof object === 'object') {\n        if ('width' in object) {\n          bounds = new Rectangle(object);\n        } else if ('x' in object) {\n          bounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n        }\n      }\n\n      if (!bounds) return null;\n      var sampleSize = 32,\n          width = Math.min(bounds.width, sampleSize),\n          height = Math.min(bounds.height, sampleSize);\n      var ctx = Raster._sampleContext;\n\n      if (!ctx) {\n        ctx = Raster._sampleContext = CanvasProvider.getContext(new Size(sampleSize));\n      } else {\n        ctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n      }\n\n      ctx.save();\n      var matrix = new Matrix().scale(width / bounds.width, height / bounds.height).translate(-bounds.x, -bounds.y);\n      matrix.applyToContext(ctx);\n      if (path) path.draw(ctx, new Base({\n        clip: true,\n        matrices: [matrix]\n      }));\n\n      this._matrix.applyToContext(ctx);\n\n      var element = this.getElement(),\n          size = this._size;\n      if (element) ctx.drawImage(element, -size.width / 2, -size.height / 2);\n      ctx.restore();\n      var pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width), Math.ceil(height)).data,\n          channels = [0, 0, 0],\n          total = 0;\n\n      for (var i = 0, l = pixels.length; i < l; i += 4) {\n        var alpha = pixels[i + 3];\n        total += alpha;\n        alpha /= 255;\n        channels[0] += pixels[i] * alpha;\n        channels[1] += pixels[i + 1] * alpha;\n        channels[2] += pixels[i + 2] * alpha;\n      }\n\n      for (var i = 0; i < 3; i++) channels[i] /= total;\n\n      return total ? Color.read(channels) : null;\n    },\n    getPixel: function () {\n      var point = Point.read(arguments);\n      var data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n      return new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255], data[3] / 255);\n    },\n    setPixel: function () {\n      var args = arguments,\n          point = Point.read(args),\n          color = Color.read(args),\n          components = color._convert('rgb'),\n          alpha = color._alpha,\n          ctx = this.getContext(true),\n          imageData = ctx.createImageData(1, 1),\n          data = imageData.data;\n\n      data[0] = components[0] * 255;\n      data[1] = components[1] * 255;\n      data[2] = components[2] * 255;\n      data[3] = alpha != null ? alpha * 255 : 255;\n      ctx.putImageData(imageData, point.x, point.y);\n    },\n    clear: function () {\n      var size = this._size;\n      this.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n    },\n    createImageData: function () {\n      var size = Size.read(arguments);\n      return this.getContext().createImageData(size.width, size.height);\n    },\n    getImageData: function () {\n      var rect = Rectangle.read(arguments);\n      if (rect.isEmpty()) rect = new Rectangle(this._size);\n      return this.getContext().getImageData(rect.x, rect.y, rect.width, rect.height);\n    },\n    setImageData: function (data) {\n      var point = Point.read(arguments, 1);\n      this.getContext(true).putImageData(data, point.x, point.y);\n    },\n    _getBounds: function (matrix, options) {\n      var rect = new Rectangle(this._size).setCenter(0, 0);\n      return matrix ? matrix._transformBounds(rect) : rect;\n    },\n    _hitTestSelf: function (point) {\n      if (this._contains(point)) {\n        var that = this;\n        return new HitResult('pixel', that, {\n          offset: point.add(that._size.divide(2)).round(),\n          color: {\n            get: function () {\n              return that.getPixel(this.offset);\n            }\n          }\n        });\n      }\n    },\n    _draw: function (ctx, param, viewMatrix) {\n      var element = this.getElement();\n\n      if (element && element.width > 0 && element.height > 0) {\n        ctx.globalAlpha = Numerical.clamp(this._opacity, 0, 1);\n\n        this._setStyles(ctx, param, viewMatrix);\n\n        DomElement.setPrefixed(ctx, 'imageSmoothingEnabled', this._smoothing);\n        ctx.drawImage(element, -this._size.width / 2, -this._size.height / 2);\n      }\n    },\n    _canComposite: function () {\n      return true;\n    }\n  });\n  var SymbolItem = Item.extend({\n    _class: 'SymbolItem',\n    _applyMatrix: false,\n    _canApplyMatrix: false,\n    _boundsOptions: {\n      stroke: true\n    },\n    _serializeFields: {\n      symbol: null\n    },\n    initialize: function SymbolItem(arg0, arg1) {\n      if (!this._initialize(arg0, arg1 !== undefined && Point.read(arguments, 1))) this.setDefinition(arg0 instanceof SymbolDefinition ? arg0 : new SymbolDefinition(arg0));\n    },\n    _equals: function (item) {\n      return this._definition === item._definition;\n    },\n    copyContent: function (source) {\n      this.setDefinition(source._definition);\n    },\n    getDefinition: function () {\n      return this._definition;\n    },\n    setDefinition: function (definition) {\n      this._definition = definition;\n\n      this._changed(9);\n    },\n    getSymbol: '#getDefinition',\n    setSymbol: '#setDefinition',\n    isEmpty: function () {\n      return this._definition._item.isEmpty();\n    },\n    _getBounds: function (matrix, options) {\n      var item = this._definition._item;\n      return item._getCachedBounds(item._matrix.prepended(matrix), options);\n    },\n    _hitTestSelf: function (point, options, viewMatrix) {\n      var opts = options.extend({\n        all: false\n      });\n\n      var res = this._definition._item._hitTest(point, opts, viewMatrix);\n\n      if (res) res.item = this;\n      return res;\n    },\n    _draw: function (ctx, param) {\n      this._definition._item.draw(ctx, param);\n    }\n  });\n  var SymbolDefinition = Base.extend({\n    _class: 'SymbolDefinition',\n    initialize: function SymbolDefinition(item, dontCenter) {\n      this._id = UID.get();\n      this.project = paper.project;\n      if (item) this.setItem(item, dontCenter);\n    },\n    _serialize: function (options, dictionary) {\n      return dictionary.add(this, function () {\n        return Base.serialize([this._class, this._item], options, false, dictionary);\n      });\n    },\n    _changed: function (flags) {\n      if (flags & 8) Item._clearBoundsCache(this);\n      if (flags & 1) this.project._changed(flags);\n    },\n    getItem: function () {\n      return this._item;\n    },\n    setItem: function (item, _dontCenter) {\n      if (item._symbol) item = item.clone();\n      if (this._item) this._item._symbol = null;\n      this._item = item;\n      item.remove();\n      item.setSelected(false);\n      if (!_dontCenter) item.setPosition(new Point());\n      item._symbol = this;\n\n      this._changed(9);\n    },\n    getDefinition: '#getItem',\n    setDefinition: '#setItem',\n    place: function (position) {\n      return new SymbolItem(this, position);\n    },\n    clone: function () {\n      return new SymbolDefinition(this._item.clone(false));\n    },\n    equals: function (symbol) {\n      return symbol === this || symbol && this._item.equals(symbol._item) || false;\n    }\n  });\n  var HitResult = Base.extend({\n    _class: 'HitResult',\n    initialize: function HitResult(type, item, values) {\n      this.type = type;\n      this.item = item;\n      if (values) this.inject(values);\n    },\n    statics: {\n      getOptions: function (args) {\n        var options = args && Base.read(args);\n        return new Base({\n          type: null,\n          tolerance: paper.settings.hitTolerance,\n          fill: !options,\n          stroke: !options,\n          segments: !options,\n          handles: false,\n          ends: false,\n          position: false,\n          center: false,\n          bounds: false,\n          guides: false,\n          selected: false\n        }, options);\n      }\n    }\n  });\n  var Segment = Base.extend({\n    _class: 'Segment',\n    beans: true,\n    _selection: 0,\n    initialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n      var count = arguments.length,\n          point,\n          handleIn,\n          handleOut,\n          selection;\n\n      if (count > 0) {\n        if (arg0 == null || typeof arg0 === 'object') {\n          if (count === 1 && arg0 && 'point' in arg0) {\n            point = arg0.point;\n            handleIn = arg0.handleIn;\n            handleOut = arg0.handleOut;\n            selection = arg0.selection;\n          } else {\n            point = arg0;\n            handleIn = arg1;\n            handleOut = arg2;\n            selection = arg3;\n          }\n        } else {\n          point = [arg0, arg1];\n          handleIn = arg2 !== undefined ? [arg2, arg3] : null;\n          handleOut = arg4 !== undefined ? [arg4, arg5] : null;\n        }\n      }\n\n      new SegmentPoint(point, this, '_point');\n      new SegmentPoint(handleIn, this, '_handleIn');\n      new SegmentPoint(handleOut, this, '_handleOut');\n      if (selection) this.setSelection(selection);\n    },\n    _serialize: function (options, dictionary) {\n      var point = this._point,\n          selection = this._selection,\n          obj = selection || this.hasHandles() ? [point, this._handleIn, this._handleOut] : point;\n      if (selection) obj.push(selection);\n      return Base.serialize(obj, options, true, dictionary);\n    },\n    _changed: function (point) {\n      var path = this._path;\n      if (!path) return;\n      var curves = path._curves,\n          index = this._index,\n          curve;\n\n      if (curves) {\n        if ((!point || point === this._point || point === this._handleIn) && (curve = index > 0 ? curves[index - 1] : path._closed ? curves[curves.length - 1] : null)) curve._changed();\n        if ((!point || point === this._point || point === this._handleOut) && (curve = curves[index])) curve._changed();\n      }\n\n      path._changed(41);\n    },\n    getPoint: function () {\n      return this._point;\n    },\n    setPoint: function () {\n      this._point.set(Point.read(arguments));\n    },\n    getHandleIn: function () {\n      return this._handleIn;\n    },\n    setHandleIn: function () {\n      this._handleIn.set(Point.read(arguments));\n    },\n    getHandleOut: function () {\n      return this._handleOut;\n    },\n    setHandleOut: function () {\n      this._handleOut.set(Point.read(arguments));\n    },\n    hasHandles: function () {\n      return !this._handleIn.isZero() || !this._handleOut.isZero();\n    },\n    isSmooth: function () {\n      var handleIn = this._handleIn,\n          handleOut = this._handleOut;\n      return !handleIn.isZero() && !handleOut.isZero() && handleIn.isCollinear(handleOut);\n    },\n    clearHandles: function () {\n      this._handleIn._set(0, 0);\n\n      this._handleOut._set(0, 0);\n    },\n    getSelection: function () {\n      return this._selection;\n    },\n    setSelection: function (selection) {\n      var oldSelection = this._selection,\n          path = this._path;\n      this._selection = selection = selection || 0;\n\n      if (path && selection !== oldSelection) {\n        path._updateSelection(this, oldSelection, selection);\n\n        path._changed(257);\n      }\n    },\n    _changeSelection: function (flag, selected) {\n      var selection = this._selection;\n      this.setSelection(selected ? selection | flag : selection & ~flag);\n    },\n    isSelected: function () {\n      return !!(this._selection & 7);\n    },\n    setSelected: function (selected) {\n      this._changeSelection(7, selected);\n    },\n    getIndex: function () {\n      return this._index !== undefined ? this._index : null;\n    },\n    getPath: function () {\n      return this._path || null;\n    },\n    getCurve: function () {\n      var path = this._path,\n          index = this._index;\n\n      if (path) {\n        if (index > 0 && !path._closed && index === path._segments.length - 1) index--;\n        return path.getCurves()[index] || null;\n      }\n\n      return null;\n    },\n    getLocation: function () {\n      var curve = this.getCurve();\n      return curve ? new CurveLocation(curve, this === curve._segment1 ? 0 : 1) : null;\n    },\n    getNext: function () {\n      var segments = this._path && this._path._segments;\n      return segments && (segments[this._index + 1] || this._path._closed && segments[0]) || null;\n    },\n    smooth: function (options, _first, _last) {\n      var opts = options || {},\n          type = opts.type,\n          factor = opts.factor,\n          prev = this.getPrevious(),\n          next = this.getNext(),\n          p0 = (prev || this)._point,\n          p1 = this._point,\n          p2 = (next || this)._point,\n          d1 = p0.getDistance(p1),\n          d2 = p1.getDistance(p2);\n\n      if (!type || type === 'catmull-rom') {\n        var a = factor === undefined ? 0.5 : factor,\n            d1_a = Math.pow(d1, a),\n            d1_2a = d1_a * d1_a,\n            d2_a = Math.pow(d2, a),\n            d2_2a = d2_a * d2_a;\n\n        if (!_first && prev) {\n          var A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n              N = 3 * d2_a * (d2_a + d1_a);\n          this.setHandleIn(N !== 0 ? new Point((d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x, (d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y) : new Point());\n        }\n\n        if (!_last && next) {\n          var A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n              N = 3 * d1_a * (d1_a + d2_a);\n          this.setHandleOut(N !== 0 ? new Point((d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x, (d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y) : new Point());\n        }\n      } else if (type === 'geometric') {\n        if (prev && next) {\n          var vector = p0.subtract(p2),\n              t = factor === undefined ? 0.4 : factor,\n              k = t * d1 / (d1 + d2);\n          if (!_first) this.setHandleIn(vector.multiply(k));\n          if (!_last) this.setHandleOut(vector.multiply(k - t));\n        }\n      } else {\n        throw new Error('Smoothing method \\'' + type + '\\' not supported.');\n      }\n    },\n    getPrevious: function () {\n      var segments = this._path && this._path._segments;\n      return segments && (segments[this._index - 1] || this._path._closed && segments[segments.length - 1]) || null;\n    },\n    isFirst: function () {\n      return !this._index;\n    },\n    isLast: function () {\n      var path = this._path;\n      return path && this._index === path._segments.length - 1 || false;\n    },\n    reverse: function () {\n      var handleIn = this._handleIn,\n          handleOut = this._handleOut,\n          tmp = handleIn.clone();\n      handleIn.set(handleOut);\n      handleOut.set(tmp);\n    },\n    reversed: function () {\n      return new Segment(this._point, this._handleOut, this._handleIn);\n    },\n    remove: function () {\n      return this._path ? !!this._path.removeSegment(this._index) : false;\n    },\n    clone: function () {\n      return new Segment(this._point, this._handleIn, this._handleOut);\n    },\n    equals: function (segment) {\n      return segment === this || segment && this._class === segment._class && this._point.equals(segment._point) && this._handleIn.equals(segment._handleIn) && this._handleOut.equals(segment._handleOut) || false;\n    },\n    toString: function () {\n      var parts = ['point: ' + this._point];\n      if (!this._handleIn.isZero()) parts.push('handleIn: ' + this._handleIn);\n      if (!this._handleOut.isZero()) parts.push('handleOut: ' + this._handleOut);\n      return '{ ' + parts.join(', ') + ' }';\n    },\n    transform: function (matrix) {\n      this._transformCoordinates(matrix, new Array(6), true);\n\n      this._changed();\n    },\n    interpolate: function (from, to, factor) {\n      var u = 1 - factor,\n          v = factor,\n          point1 = from._point,\n          point2 = to._point,\n          handleIn1 = from._handleIn,\n          handleIn2 = to._handleIn,\n          handleOut2 = to._handleOut,\n          handleOut1 = from._handleOut;\n\n      this._point._set(u * point1._x + v * point2._x, u * point1._y + v * point2._y, true);\n\n      this._handleIn._set(u * handleIn1._x + v * handleIn2._x, u * handleIn1._y + v * handleIn2._y, true);\n\n      this._handleOut._set(u * handleOut1._x + v * handleOut2._x, u * handleOut1._y + v * handleOut2._y, true);\n\n      this._changed();\n    },\n    _transformCoordinates: function (matrix, coords, change) {\n      var point = this._point,\n          handleIn = !change || !this._handleIn.isZero() ? this._handleIn : null,\n          handleOut = !change || !this._handleOut.isZero() ? this._handleOut : null,\n          x = point._x,\n          y = point._y,\n          i = 2;\n      coords[0] = x;\n      coords[1] = y;\n\n      if (handleIn) {\n        coords[i++] = handleIn._x + x;\n        coords[i++] = handleIn._y + y;\n      }\n\n      if (handleOut) {\n        coords[i++] = handleOut._x + x;\n        coords[i++] = handleOut._y + y;\n      }\n\n      if (matrix) {\n        matrix._transformCoordinates(coords, coords, i / 2);\n\n        x = coords[0];\n        y = coords[1];\n\n        if (change) {\n          point._x = x;\n          point._y = y;\n          i = 2;\n\n          if (handleIn) {\n            handleIn._x = coords[i++] - x;\n            handleIn._y = coords[i++] - y;\n          }\n\n          if (handleOut) {\n            handleOut._x = coords[i++] - x;\n            handleOut._y = coords[i++] - y;\n          }\n        } else {\n          if (!handleIn) {\n            coords[i++] = x;\n            coords[i++] = y;\n          }\n\n          if (!handleOut) {\n            coords[i++] = x;\n            coords[i++] = y;\n          }\n        }\n      }\n\n      return coords;\n    }\n  });\n  var SegmentPoint = Point.extend({\n    initialize: function SegmentPoint(point, owner, key) {\n      var x, y, selected;\n\n      if (!point) {\n        x = y = 0;\n      } else if ((x = point[0]) !== undefined) {\n        y = point[1];\n      } else {\n        var pt = point;\n\n        if ((x = pt.x) === undefined) {\n          pt = Point.read(arguments);\n          x = pt.x;\n        }\n\n        y = pt.y;\n        selected = pt.selected;\n      }\n\n      this._x = x;\n      this._y = y;\n      this._owner = owner;\n      owner[key] = this;\n      if (selected) this.setSelected(true);\n    },\n    _set: function (x, y) {\n      this._x = x;\n      this._y = y;\n\n      this._owner._changed(this);\n\n      return this;\n    },\n    getX: function () {\n      return this._x;\n    },\n    setX: function (x) {\n      this._x = x;\n\n      this._owner._changed(this);\n    },\n    getY: function () {\n      return this._y;\n    },\n    setY: function (y) {\n      this._y = y;\n\n      this._owner._changed(this);\n    },\n    isZero: function () {\n      var isZero = Numerical.isZero;\n      return isZero(this._x) && isZero(this._y);\n    },\n    isSelected: function () {\n      return !!(this._owner._selection & this._getSelection());\n    },\n    setSelected: function (selected) {\n      this._owner._changeSelection(this._getSelection(), selected);\n    },\n    _getSelection: function () {\n      var owner = this._owner;\n      return this === owner._point ? 1 : this === owner._handleIn ? 2 : this === owner._handleOut ? 4 : 0;\n    }\n  });\n  var Curve = Base.extend({\n    _class: 'Curve',\n    beans: true,\n    initialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n      var count = arguments.length,\n          seg1,\n          seg2,\n          point1,\n          point2,\n          handle1,\n          handle2;\n\n      if (count === 3) {\n        this._path = arg0;\n        seg1 = arg1;\n        seg2 = arg2;\n      } else if (!count) {\n        seg1 = new Segment();\n        seg2 = new Segment();\n      } else if (count === 1) {\n        if ('segment1' in arg0) {\n          seg1 = new Segment(arg0.segment1);\n          seg2 = new Segment(arg0.segment2);\n        } else if ('point1' in arg0) {\n          point1 = arg0.point1;\n          handle1 = arg0.handle1;\n          handle2 = arg0.handle2;\n          point2 = arg0.point2;\n        } else if (Array.isArray(arg0)) {\n          point1 = [arg0[0], arg0[1]];\n          point2 = [arg0[6], arg0[7]];\n          handle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n          handle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n        }\n      } else if (count === 2) {\n        seg1 = new Segment(arg0);\n        seg2 = new Segment(arg1);\n      } else if (count === 4) {\n        point1 = arg0;\n        handle1 = arg1;\n        handle2 = arg2;\n        point2 = arg3;\n      } else if (count === 8) {\n        point1 = [arg0, arg1];\n        point2 = [arg6, arg7];\n        handle1 = [arg2 - arg0, arg3 - arg1];\n        handle2 = [arg4 - arg6, arg5 - arg7];\n      }\n\n      this._segment1 = seg1 || new Segment(point1, null, handle1);\n      this._segment2 = seg2 || new Segment(point2, handle2, null);\n    },\n    _serialize: function (options, dictionary) {\n      return Base.serialize(this.hasHandles() ? [this.getPoint1(), this.getHandle1(), this.getHandle2(), this.getPoint2()] : [this.getPoint1(), this.getPoint2()], options, true, dictionary);\n    },\n    _changed: function () {\n      this._length = this._bounds = undefined;\n    },\n    clone: function () {\n      return new Curve(this._segment1, this._segment2);\n    },\n    toString: function () {\n      var parts = ['point1: ' + this._segment1._point];\n      if (!this._segment1._handleOut.isZero()) parts.push('handle1: ' + this._segment1._handleOut);\n      if (!this._segment2._handleIn.isZero()) parts.push('handle2: ' + this._segment2._handleIn);\n      parts.push('point2: ' + this._segment2._point);\n      return '{ ' + parts.join(', ') + ' }';\n    },\n    classify: function () {\n      return Curve.classify(this.getValues());\n    },\n    remove: function () {\n      var removed = false;\n\n      if (this._path) {\n        var segment2 = this._segment2,\n            handleOut = segment2._handleOut;\n        removed = segment2.remove();\n        if (removed) this._segment1._handleOut.set(handleOut);\n      }\n\n      return removed;\n    },\n    getPoint1: function () {\n      return this._segment1._point;\n    },\n    setPoint1: function () {\n      this._segment1._point.set(Point.read(arguments));\n    },\n    getPoint2: function () {\n      return this._segment2._point;\n    },\n    setPoint2: function () {\n      this._segment2._point.set(Point.read(arguments));\n    },\n    getHandle1: function () {\n      return this._segment1._handleOut;\n    },\n    setHandle1: function () {\n      this._segment1._handleOut.set(Point.read(arguments));\n    },\n    getHandle2: function () {\n      return this._segment2._handleIn;\n    },\n    setHandle2: function () {\n      this._segment2._handleIn.set(Point.read(arguments));\n    },\n    getSegment1: function () {\n      return this._segment1;\n    },\n    getSegment2: function () {\n      return this._segment2;\n    },\n    getPath: function () {\n      return this._path;\n    },\n    getIndex: function () {\n      return this._segment1._index;\n    },\n    getNext: function () {\n      var curves = this._path && this._path._curves;\n      return curves && (curves[this._segment1._index + 1] || this._path._closed && curves[0]) || null;\n    },\n    getPrevious: function () {\n      var curves = this._path && this._path._curves;\n      return curves && (curves[this._segment1._index - 1] || this._path._closed && curves[curves.length - 1]) || null;\n    },\n    isFirst: function () {\n      return !this._segment1._index;\n    },\n    isLast: function () {\n      var path = this._path;\n      return path && this._segment1._index === path._curves.length - 1 || false;\n    },\n    isSelected: function () {\n      return this.getPoint1().isSelected() && this.getHandle1().isSelected() && this.getHandle2().isSelected() && this.getPoint2().isSelected();\n    },\n    setSelected: function (selected) {\n      this.getPoint1().setSelected(selected);\n      this.getHandle1().setSelected(selected);\n      this.getHandle2().setSelected(selected);\n      this.getPoint2().setSelected(selected);\n    },\n    getValues: function (matrix) {\n      return Curve.getValues(this._segment1, this._segment2, matrix);\n    },\n    getPoints: function () {\n      var coords = this.getValues(),\n          points = [];\n\n      for (var i = 0; i < 8; i += 2) points.push(new Point(coords[i], coords[i + 1]));\n\n      return points;\n    }\n  }, {\n    getLength: function () {\n      if (this._length == null) this._length = Curve.getLength(this.getValues(), 0, 1);\n      return this._length;\n    },\n    getArea: function () {\n      return Curve.getArea(this.getValues());\n    },\n    getLine: function () {\n      return new Line(this._segment1._point, this._segment2._point);\n    },\n    getPart: function (from, to) {\n      return new Curve(Curve.getPart(this.getValues(), from, to));\n    },\n    getPartLength: function (from, to) {\n      return Curve.getLength(this.getValues(), from, to);\n    },\n    divideAt: function (location) {\n      return this.divideAtTime(location && location.curve === this ? location.time : this.getTimeAt(location));\n    },\n    divideAtTime: function (time, _setHandles) {\n      var tMin = 1e-8,\n          tMax = 1 - tMin,\n          res = null;\n\n      if (time >= tMin && time <= tMax) {\n        var parts = Curve.subdivide(this.getValues(), time),\n            left = parts[0],\n            right = parts[1],\n            setHandles = _setHandles || this.hasHandles(),\n            seg1 = this._segment1,\n            seg2 = this._segment2,\n            path = this._path;\n\n        if (setHandles) {\n          seg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\n          seg2._handleIn._set(right[4] - right[6], right[5] - right[7]);\n        }\n\n        var x = left[6],\n            y = left[7],\n            segment = new Segment(new Point(x, y), setHandles && new Point(left[4] - x, left[5] - y), setHandles && new Point(right[2] - x, right[3] - y));\n\n        if (path) {\n          path.insert(seg1._index + 1, segment);\n          res = this.getNext();\n        } else {\n          this._segment2 = segment;\n\n          this._changed();\n\n          res = new Curve(segment, seg2);\n        }\n      }\n\n      return res;\n    },\n    splitAt: function (location) {\n      var path = this._path;\n      return path ? path.splitAt(location) : null;\n    },\n    splitAtTime: function (time) {\n      return this.splitAt(this.getLocationAtTime(time));\n    },\n    divide: function (offset, isTime) {\n      return this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset : this.getTimeAt(offset));\n    },\n    split: function (offset, isTime) {\n      return this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset : this.getTimeAt(offset));\n    },\n    reversed: function () {\n      return new Curve(this._segment2.reversed(), this._segment1.reversed());\n    },\n    clearHandles: function () {\n      this._segment1._handleOut._set(0, 0);\n\n      this._segment2._handleIn._set(0, 0);\n    },\n    statics: {\n      getValues: function (segment1, segment2, matrix, straight) {\n        var p1 = segment1._point,\n            h1 = segment1._handleOut,\n            h2 = segment2._handleIn,\n            p2 = segment2._point,\n            x1 = p1.x,\n            y1 = p1.y,\n            x2 = p2.x,\n            y2 = p2.y,\n            values = straight ? [x1, y1, x1, y1, x2, y2, x2, y2] : [x1, y1, x1 + h1._x, y1 + h1._y, x2 + h2._x, y2 + h2._y, x2, y2];\n        if (matrix) matrix._transformCoordinates(values, values, 4);\n        return values;\n      },\n      subdivide: function (v, t) {\n        var x0 = v[0],\n            y0 = v[1],\n            x1 = v[2],\n            y1 = v[3],\n            x2 = v[4],\n            y2 = v[5],\n            x3 = v[6],\n            y3 = v[7];\n        if (t === undefined) t = 0.5;\n        var u = 1 - t,\n            x4 = u * x0 + t * x1,\n            y4 = u * y0 + t * y1,\n            x5 = u * x1 + t * x2,\n            y5 = u * y1 + t * y2,\n            x6 = u * x2 + t * x3,\n            y6 = u * y2 + t * y3,\n            x7 = u * x4 + t * x5,\n            y7 = u * y4 + t * y5,\n            x8 = u * x5 + t * x6,\n            y8 = u * y5 + t * y6,\n            x9 = u * x7 + t * x8,\n            y9 = u * y7 + t * y8;\n        return [[x0, y0, x4, y4, x7, y7, x9, y9], [x9, y9, x8, y8, x6, y6, x3, y3]];\n      },\n      getMonoCurves: function (v, dir) {\n        var curves = [],\n            io = dir ? 0 : 1,\n            o0 = v[io + 0],\n            o1 = v[io + 2],\n            o2 = v[io + 4],\n            o3 = v[io + 6];\n\n        if (o0 >= o1 === o1 >= o2 && o1 >= o2 === o2 >= o3 || Curve.isStraight(v)) {\n          curves.push(v);\n        } else {\n          var a = 3 * (o1 - o2) - o0 + o3,\n              b = 2 * (o0 + o2) - 4 * o1,\n              c = o1 - o0,\n              tMin = 1e-8,\n              tMax = 1 - tMin,\n              roots = [],\n              n = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\n          if (!n) {\n            curves.push(v);\n          } else {\n            roots.sort();\n            var t = roots[0],\n                parts = Curve.subdivide(v, t);\n            curves.push(parts[0]);\n\n            if (n > 1) {\n              t = (roots[1] - t) / (1 - t);\n              parts = Curve.subdivide(parts[1], t);\n              curves.push(parts[0]);\n            }\n\n            curves.push(parts[1]);\n          }\n        }\n\n        return curves;\n      },\n      solveCubic: function (v, coord, val, roots, min, max) {\n        var v0 = v[coord],\n            v1 = v[coord + 2],\n            v2 = v[coord + 4],\n            v3 = v[coord + 6],\n            res = 0;\n\n        if (!(v0 < val && v3 < val && v1 < val && v2 < val || v0 > val && v3 > val && v1 > val && v2 > val)) {\n          var c = 3 * (v1 - v0),\n              b = 3 * (v2 - v1) - c,\n              a = v3 - v0 - c - b;\n          res = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n        }\n\n        return res;\n      },\n      getTimeOf: function (v, point) {\n        var p0 = new Point(v[0], v[1]),\n            p3 = new Point(v[6], v[7]),\n            epsilon = 1e-12,\n            geomEpsilon = 1e-7,\n            t = point.isClose(p0, epsilon) ? 0 : point.isClose(p3, epsilon) ? 1 : null;\n\n        if (t === null) {\n          var coords = [point.x, point.y],\n              roots = [];\n\n          for (var c = 0; c < 2; c++) {\n            var count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\n            for (var i = 0; i < count; i++) {\n              var u = roots[i];\n              if (point.isClose(Curve.getPoint(v, u), geomEpsilon)) return u;\n            }\n          }\n        }\n\n        return point.isClose(p0, geomEpsilon) ? 0 : point.isClose(p3, geomEpsilon) ? 1 : null;\n      },\n      getNearestTime: function (v, point) {\n        if (Curve.isStraight(v)) {\n          var x0 = v[0],\n              y0 = v[1],\n              x3 = v[6],\n              y3 = v[7],\n              vx = x3 - x0,\n              vy = y3 - y0,\n              det = vx * vx + vy * vy;\n          if (det === 0) return 0;\n          var u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n          return u < 1e-12 ? 0 : u > 0.999999999999 ? 1 : Curve.getTimeOf(v, new Point(x0 + u * vx, y0 + u * vy));\n        }\n\n        var count = 100,\n            minDist = Infinity,\n            minT = 0;\n\n        function refine(t) {\n          if (t >= 0 && t <= 1) {\n            var dist = point.getDistance(Curve.getPoint(v, t), true);\n\n            if (dist < minDist) {\n              minDist = dist;\n              minT = t;\n              return true;\n            }\n          }\n        }\n\n        for (var i = 0; i <= count; i++) refine(i / count);\n\n        var step = 1 / (count * 2);\n\n        while (step > 1e-8) {\n          if (!refine(minT - step) && !refine(minT + step)) step /= 2;\n        }\n\n        return minT;\n      },\n      getPart: function (v, from, to) {\n        var flip = from > to;\n\n        if (flip) {\n          var tmp = from;\n          from = to;\n          to = tmp;\n        }\n\n        if (from > 0) v = Curve.subdivide(v, from)[1];\n        if (to < 1) v = Curve.subdivide(v, (to - from) / (1 - from))[0];\n        return flip ? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]] : v;\n      },\n      isFlatEnough: function (v, flatness) {\n        var x0 = v[0],\n            y0 = v[1],\n            x1 = v[2],\n            y1 = v[3],\n            x2 = v[4],\n            y2 = v[5],\n            x3 = v[6],\n            y3 = v[7],\n            ux = 3 * x1 - 2 * x0 - x3,\n            uy = 3 * y1 - 2 * y0 - y3,\n            vx = 3 * x2 - 2 * x3 - x0,\n            vy = 3 * y2 - 2 * y3 - y0;\n        return Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy) <= 16 * flatness * flatness;\n      },\n      getArea: function (v) {\n        var x0 = v[0],\n            y0 = v[1],\n            x1 = v[2],\n            y1 = v[3],\n            x2 = v[4],\n            y2 = v[5],\n            x3 = v[6],\n            y3 = v[7];\n        return 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2) + y1 * (x0 - x2) - x1 * (y0 - y2) + y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n      },\n      getBounds: function (v) {\n        var min = v.slice(0, 2),\n            max = min.slice(),\n            roots = [0, 0];\n\n        for (var i = 0; i < 2; i++) Curve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6], i, 0, min, max, roots);\n\n        return new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n      },\n      _addBounds: function (v0, v1, v2, v3, coord, padding, min, max, roots) {\n        function add(value, padding) {\n          var left = value - padding,\n              right = value + padding;\n          if (left < min[coord]) min[coord] = left;\n          if (right > max[coord]) max[coord] = right;\n        }\n\n        padding /= 2;\n        var minPad = min[coord] + padding,\n            maxPad = max[coord] - padding;\n\n        if (v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad || v0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n          if (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n            add(v0, 0);\n            add(v3, 0);\n          } else {\n            var a = 3 * (v1 - v2) - v0 + v3,\n                b = 2 * (v0 + v2) - 4 * v1,\n                c = v1 - v0,\n                count = Numerical.solveQuadratic(a, b, c, roots),\n                tMin = 1e-8,\n                tMax = 1 - tMin;\n            add(v3, 0);\n\n            for (var i = 0; i < count; i++) {\n              var t = roots[i],\n                  u = 1 - t;\n              if (tMin <= t && t <= tMax) add(u * u * u * v0 + 3 * u * u * t * v1 + 3 * u * t * t * v2 + t * t * t * v3, padding);\n            }\n          }\n        }\n      }\n    }\n  }, Base.each(['getBounds', 'getStrokeBounds', 'getHandleBounds'], function (name) {\n    this[name] = function () {\n      if (!this._bounds) this._bounds = {};\n      var bounds = this._bounds[name];\n\n      if (!bounds) {\n        bounds = this._bounds[name] = Path[name]([this._segment1, this._segment2], false, this._path);\n      }\n\n      return bounds.clone();\n    };\n  }, {}), Base.each({\n    isStraight: function (p1, h1, h2, p2) {\n      if (h1.isZero() && h2.isZero()) {\n        return true;\n      } else {\n        var v = p2.subtract(p1);\n\n        if (v.isZero()) {\n          return false;\n        } else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n          var l = new Line(p1, p2),\n              epsilon = 1e-7;\n\n          if (l.getDistance(p1.add(h1)) < epsilon && l.getDistance(p2.add(h2)) < epsilon) {\n            var div = v.dot(v),\n                s1 = v.dot(h1) / div,\n                s2 = v.dot(h2) / div;\n            return s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n          }\n        }\n      }\n\n      return false;\n    },\n    isLinear: function (p1, h1, h2, p2) {\n      var third = p2.subtract(p1).divide(3);\n      return h1.equals(third) && h2.negate().equals(third);\n    }\n  }, function (test, name) {\n    this[name] = function (epsilon) {\n      var seg1 = this._segment1,\n          seg2 = this._segment2;\n      return test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point, epsilon);\n    };\n\n    this.statics[name] = function (v, epsilon) {\n      var x0 = v[0],\n          y0 = v[1],\n          x3 = v[6],\n          y3 = v[7];\n      return test(new Point(x0, y0), new Point(v[2] - x0, v[3] - y0), new Point(v[4] - x3, v[5] - y3), new Point(x3, y3), epsilon);\n    };\n  }, {\n    statics: {},\n    hasHandles: function () {\n      return !this._segment1._handleOut.isZero() || !this._segment2._handleIn.isZero();\n    },\n    hasLength: function (epsilon) {\n      return (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles()) && this.getLength() > (epsilon || 0);\n    },\n    isCollinear: function (curve) {\n      return curve && this.isStraight() && curve.isStraight() && this.getLine().isCollinear(curve.getLine());\n    },\n    isHorizontal: function () {\n      return this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y) < 1e-8;\n    },\n    isVertical: function () {\n      return this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x) < 1e-8;\n    }\n  }), {\n    beans: false,\n    getLocationAt: function (offset, _isTime) {\n      return this.getLocationAtTime(_isTime ? offset : this.getTimeAt(offset));\n    },\n    getLocationAtTime: function (t) {\n      return t != null && t >= 0 && t <= 1 ? new CurveLocation(this, t) : null;\n    },\n    getTimeAt: function (offset, start) {\n      return Curve.getTimeAt(this.getValues(), offset, start);\n    },\n    getParameterAt: '#getTimeAt',\n    getTimesWithTangent: function () {\n      var tangent = Point.read(arguments);\n      return tangent.isZero() ? [] : Curve.getTimesWithTangent(this.getValues(), tangent);\n    },\n    getOffsetAtTime: function (t) {\n      return this.getPartLength(0, t);\n    },\n    getLocationOf: function () {\n      return this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n    },\n    getOffsetOf: function () {\n      var loc = this.getLocationOf.apply(this, arguments);\n      return loc ? loc.getOffset() : null;\n    },\n    getTimeOf: function () {\n      return Curve.getTimeOf(this.getValues(), Point.read(arguments));\n    },\n    getParameterOf: '#getTimeOf',\n    getNearestLocation: function () {\n      var point = Point.read(arguments),\n          values = this.getValues(),\n          t = Curve.getNearestTime(values, point),\n          pt = Curve.getPoint(values, t);\n      return new CurveLocation(this, t, pt, null, point.getDistance(pt));\n    },\n    getNearestPoint: function () {\n      var loc = this.getNearestLocation.apply(this, arguments);\n      return loc ? loc.getPoint() : loc;\n    }\n  }, new function () {\n    var methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent', 'getWeightedNormal', 'getCurvature'];\n    return Base.each(methods, function (name) {\n      this[name + 'At'] = function (location, _isTime) {\n        var values = this.getValues();\n        return Curve[name](values, _isTime ? location : Curve.getTimeAt(values, location));\n      };\n\n      this[name + 'AtTime'] = function (time) {\n        return Curve[name](this.getValues(), time);\n      };\n    }, {\n      statics: {\n        _evaluateMethods: methods\n      }\n    });\n  }(), new function () {\n    function getLengthIntegrand(v) {\n      var x0 = v[0],\n          y0 = v[1],\n          x1 = v[2],\n          y1 = v[3],\n          x2 = v[4],\n          y2 = v[5],\n          x3 = v[6],\n          y3 = v[7],\n          ax = 9 * (x1 - x2) + 3 * (x3 - x0),\n          bx = 6 * (x0 + x2) - 12 * x1,\n          cx = 3 * (x1 - x0),\n          ay = 9 * (y1 - y2) + 3 * (y3 - y0),\n          by = 6 * (y0 + y2) - 12 * y1,\n          cy = 3 * (y1 - y0);\n      return function (t) {\n        var dx = (ax * t + bx) * t + cx,\n            dy = (ay * t + by) * t + cy;\n        return Math.sqrt(dx * dx + dy * dy);\n      };\n    }\n\n    function getIterations(a, b) {\n      return Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n    }\n\n    function evaluate(v, t, type, normalized) {\n      if (t == null || t < 0 || t > 1) return null;\n      var x0 = v[0],\n          y0 = v[1],\n          x1 = v[2],\n          y1 = v[3],\n          x2 = v[4],\n          y2 = v[5],\n          x3 = v[6],\n          y3 = v[7],\n          isZero = Numerical.isZero;\n\n      if (isZero(x1 - x0) && isZero(y1 - y0)) {\n        x1 = x0;\n        y1 = y0;\n      }\n\n      if (isZero(x2 - x3) && isZero(y2 - y3)) {\n        x2 = x3;\n        y2 = y3;\n      }\n\n      var cx = 3 * (x1 - x0),\n          bx = 3 * (x2 - x1) - cx,\n          ax = x3 - x0 - cx - bx,\n          cy = 3 * (y1 - y0),\n          by = 3 * (y2 - y1) - cy,\n          ay = y3 - y0 - cy - by,\n          x,\n          y;\n\n      if (type === 0) {\n        x = t === 0 ? x0 : t === 1 ? x3 : ((ax * t + bx) * t + cx) * t + x0;\n        y = t === 0 ? y0 : t === 1 ? y3 : ((ay * t + by) * t + cy) * t + y0;\n      } else {\n        var tMin = 1e-8,\n            tMax = 1 - tMin;\n\n        if (t < tMin) {\n          x = cx;\n          y = cy;\n        } else if (t > tMax) {\n          x = 3 * (x3 - x2);\n          y = 3 * (y3 - y2);\n        } else {\n          x = (3 * ax * t + 2 * bx) * t + cx;\n          y = (3 * ay * t + 2 * by) * t + cy;\n        }\n\n        if (normalized) {\n          if (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n            x = x2 - x1;\n            y = y2 - y1;\n          }\n\n          var len = Math.sqrt(x * x + y * y);\n\n          if (len) {\n            x /= len;\n            y /= len;\n          }\n        }\n\n        if (type === 3) {\n          var x2 = 6 * ax * t + 2 * bx,\n              y2 = 6 * ay * t + 2 * by,\n              d = Math.pow(x * x + y * y, 3 / 2);\n          x = d !== 0 ? (x * y2 - y * x2) / d : 0;\n          y = 0;\n        }\n      }\n\n      return type === 2 ? new Point(y, -x) : new Point(x, y);\n    }\n\n    return {\n      statics: {\n        classify: function (v) {\n          var x0 = v[0],\n              y0 = v[1],\n              x1 = v[2],\n              y1 = v[3],\n              x2 = v[4],\n              y2 = v[5],\n              x3 = v[6],\n              y3 = v[7],\n              a1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n              a2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n              a3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n              d3 = 3 * a3,\n              d2 = d3 - a2,\n              d1 = d2 - a2 + a1,\n              l = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n              s = l !== 0 ? 1 / l : 0,\n              isZero = Numerical.isZero,\n              serpentine = 'serpentine';\n          d1 *= s;\n          d2 *= s;\n          d3 *= s;\n\n          function type(type, t1, t2) {\n            var hasRoots = t1 !== undefined,\n                t1Ok = hasRoots && t1 > 0 && t1 < 1,\n                t2Ok = hasRoots && t2 > 0 && t2 < 1;\n\n            if (hasRoots && (!(t1Ok || t2Ok) || type === 'loop' && !(t1Ok && t2Ok))) {\n              type = 'arch';\n              t1Ok = t2Ok = false;\n            }\n\n            return {\n              type: type,\n              roots: t1Ok || t2Ok ? t1Ok && t2Ok ? t1 < t2 ? [t1, t2] : [t2, t1] : [t1Ok ? t1 : t2] : null\n            };\n          }\n\n          if (isZero(d1)) {\n            return isZero(d2) ? type(isZero(d3) ? 'line' : 'quadratic') : type(serpentine, d3 / (3 * d2));\n          }\n\n          var d = 3 * d2 * d2 - 4 * d1 * d3;\n\n          if (isZero(d)) {\n            return type('cusp', d2 / (2 * d1));\n          }\n\n          var f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n              f2 = 2 * d1;\n          return type(d > 0 ? serpentine : 'loop', (d2 + f1) / f2, (d2 - f1) / f2);\n        },\n        getLength: function (v, a, b, ds) {\n          if (a === undefined) a = 0;\n          if (b === undefined) b = 1;\n\n          if (Curve.isStraight(v)) {\n            var c = v;\n\n            if (b < 1) {\n              c = Curve.subdivide(c, b)[0];\n              a /= b;\n            }\n\n            if (a > 0) {\n              c = Curve.subdivide(c, a)[1];\n            }\n\n            var dx = c[6] - c[0],\n                dy = c[7] - c[1];\n            return Math.sqrt(dx * dx + dy * dy);\n          }\n\n          return Numerical.integrate(ds || getLengthIntegrand(v), a, b, getIterations(a, b));\n        },\n        getTimeAt: function (v, offset, start) {\n          if (start === undefined) start = offset < 0 ? 1 : 0;\n          if (offset === 0) return start;\n          var abs = Math.abs,\n              epsilon = 1e-12,\n              forward = offset > 0,\n              a = forward ? start : 0,\n              b = forward ? 1 : start,\n              ds = getLengthIntegrand(v),\n              rangeLength = Curve.getLength(v, a, b, ds),\n              diff = abs(offset) - rangeLength;\n\n          if (abs(diff) < epsilon) {\n            return forward ? b : a;\n          } else if (diff > epsilon) {\n            return null;\n          }\n\n          var guess = offset / rangeLength,\n              length = 0;\n\n          function f(t) {\n            length += Numerical.integrate(ds, start, t, getIterations(start, t));\n            start = t;\n            return length - offset;\n          }\n\n          return Numerical.findRoot(f, ds, start + guess, a, b, 32, 1e-12);\n        },\n        getPoint: function (v, t) {\n          return evaluate(v, t, 0, false);\n        },\n        getTangent: function (v, t) {\n          return evaluate(v, t, 1, true);\n        },\n        getWeightedTangent: function (v, t) {\n          return evaluate(v, t, 1, false);\n        },\n        getNormal: function (v, t) {\n          return evaluate(v, t, 2, true);\n        },\n        getWeightedNormal: function (v, t) {\n          return evaluate(v, t, 2, false);\n        },\n        getCurvature: function (v, t) {\n          return evaluate(v, t, 3, false).x;\n        },\n        getPeaks: function (v) {\n          var x0 = v[0],\n              y0 = v[1],\n              x1 = v[2],\n              y1 = v[3],\n              x2 = v[4],\n              y2 = v[5],\n              x3 = v[6],\n              y3 = v[7],\n              ax = -x0 + 3 * x1 - 3 * x2 + x3,\n              bx = 3 * x0 - 6 * x1 + 3 * x2,\n              cx = -3 * x0 + 3 * x1,\n              ay = -y0 + 3 * y1 - 3 * y2 + y3,\n              by = 3 * y0 - 6 * y1 + 3 * y2,\n              cy = -3 * y0 + 3 * y1,\n              tMin = 1e-8,\n              tMax = 1 - tMin,\n              roots = [];\n          Numerical.solveCubic(9 * (ax * ax + ay * ay), 9 * (ax * bx + by * ay), 2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay), cx * bx + by * cy, roots, tMin, tMax);\n          return roots.sort();\n        }\n      }\n    };\n  }(), new function () {\n    function addLocation(locations, include, c1, t1, c2, t2, overlap) {\n      var excludeStart = !overlap && c1.getPrevious() === c2,\n          excludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n          tMin = 1e-8,\n          tMax = 1 - tMin;\n\n      if (t1 !== null && t1 >= (excludeStart ? tMin : 0) && t1 <= (excludeEnd ? tMax : 1)) {\n        if (t2 !== null && t2 >= (excludeEnd ? tMin : 0) && t2 <= (excludeStart ? tMax : 1)) {\n          var loc1 = new CurveLocation(c1, t1, null, overlap),\n              loc2 = new CurveLocation(c2, t2, null, overlap);\n          loc1._intersection = loc2;\n          loc2._intersection = loc1;\n\n          if (!include || include(loc1)) {\n            CurveLocation.insert(locations, loc1, true);\n          }\n        }\n      }\n    }\n\n    function addCurveIntersections(v1, v2, c1, c2, locations, include, flip, recursion, calls, tMin, tMax, uMin, uMax) {\n      if (++calls >= 4096 || ++recursion >= 40) return calls;\n      var fatLineEpsilon = 1e-9,\n          q0x = v2[0],\n          q0y = v2[1],\n          q3x = v2[6],\n          q3y = v2[7],\n          getSignedDistance = Line.getSignedDistance,\n          d1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n          d2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n          factor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n          dMin = factor * Math.min(0, d1, d2),\n          dMax = factor * Math.max(0, d1, d2),\n          dp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n          dp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n          dp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n          dp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n          hull = getConvexHull(dp0, dp1, dp2, dp3),\n          top = hull[0],\n          bottom = hull[1],\n          tMinClip,\n          tMaxClip;\n      if (d1 === 0 && d2 === 0 && dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0 || (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null || (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(), dMin, dMax)) == null) return calls;\n      var tMinNew = tMin + (tMax - tMin) * tMinClip,\n          tMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\n      if (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n        var t = (tMinNew + tMaxNew) / 2,\n            u = (uMin + uMax) / 2;\n        addLocation(locations, include, flip ? c2 : c1, flip ? u : t, flip ? c1 : c2, flip ? t : u);\n      } else {\n        v1 = Curve.getPart(v1, tMinClip, tMaxClip);\n        var uDiff = uMax - uMin;\n\n        if (tMaxClip - tMinClip > 0.8) {\n          if (tMaxNew - tMinNew > uDiff) {\n            var parts = Curve.subdivide(v1, 0.5),\n                t = (tMinNew + tMaxNew) / 2;\n            calls = addCurveIntersections(v2, parts[0], c2, c1, locations, include, !flip, recursion, calls, uMin, uMax, tMinNew, t);\n            calls = addCurveIntersections(v2, parts[1], c2, c1, locations, include, !flip, recursion, calls, uMin, uMax, t, tMaxNew);\n          } else {\n            var parts = Curve.subdivide(v2, 0.5),\n                u = (uMin + uMax) / 2;\n            calls = addCurveIntersections(parts[0], v1, c2, c1, locations, include, !flip, recursion, calls, uMin, u, tMinNew, tMaxNew);\n            calls = addCurveIntersections(parts[1], v1, c2, c1, locations, include, !flip, recursion, calls, u, uMax, tMinNew, tMaxNew);\n          }\n        } else {\n          if (uDiff === 0 || uDiff >= fatLineEpsilon) {\n            calls = addCurveIntersections(v2, v1, c2, c1, locations, include, !flip, recursion, calls, uMin, uMax, tMinNew, tMaxNew);\n          } else {\n            calls = addCurveIntersections(v1, v2, c1, c2, locations, include, flip, recursion, calls, tMinNew, tMaxNew, uMin, uMax);\n          }\n        }\n      }\n\n      return calls;\n    }\n\n    function getConvexHull(dq0, dq1, dq2, dq3) {\n      var p0 = [0, dq0],\n          p1 = [1 / 3, dq1],\n          p2 = [2 / 3, dq2],\n          p3 = [1, dq3],\n          dist1 = dq1 - (2 * dq0 + dq3) / 3,\n          dist2 = dq2 - (dq0 + 2 * dq3) / 3,\n          hull;\n\n      if (dist1 * dist2 < 0) {\n        hull = [[p0, p1, p3], [p0, p2, p3]];\n      } else {\n        var distRatio = dist1 / dist2;\n        hull = [distRatio >= 2 ? [p0, p1, p3] : distRatio <= 0.5 ? [p0, p2, p3] : [p0, p1, p2, p3], [p0, p3]];\n      }\n\n      return (dist1 || dist2) < 0 ? hull.reverse() : hull;\n    }\n\n    function clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n      if (hullTop[0][1] < dMin) {\n        return clipConvexHullPart(hullTop, true, dMin);\n      } else if (hullBottom[0][1] > dMax) {\n        return clipConvexHullPart(hullBottom, false, dMax);\n      } else {\n        return hullTop[0][0];\n      }\n    }\n\n    function clipConvexHullPart(part, top, threshold) {\n      var px = part[0][0],\n          py = part[0][1];\n\n      for (var i = 1, l = part.length; i < l; i++) {\n        var qx = part[i][0],\n            qy = part[i][1];\n\n        if (top ? qy >= threshold : qy <= threshold) {\n          return qy === threshold ? qx : px + (threshold - py) * (qx - px) / (qy - py);\n        }\n\n        px = qx;\n        py = qy;\n      }\n\n      return null;\n    }\n\n    function getCurveLineIntersections(v, px, py, vx, vy) {\n      var isZero = Numerical.isZero;\n\n      if (isZero(vx) && isZero(vy)) {\n        var t = Curve.getTimeOf(v, new Point(px, py));\n        return t === null ? [] : [t];\n      }\n\n      var angle = Math.atan2(-vy, vx),\n          sin = Math.sin(angle),\n          cos = Math.cos(angle),\n          rv = [],\n          roots = [];\n\n      for (var i = 0; i < 8; i += 2) {\n        var x = v[i] - px,\n            y = v[i + 1] - py;\n        rv.push(x * cos - y * sin, x * sin + y * cos);\n      }\n\n      Curve.solveCubic(rv, 1, 0, roots, 0, 1);\n      return roots;\n    }\n\n    function addCurveLineIntersections(v1, v2, c1, c2, locations, include, flip) {\n      var x1 = v2[0],\n          y1 = v2[1],\n          x2 = v2[6],\n          y2 = v2[7],\n          roots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\n      for (var i = 0, l = roots.length; i < l; i++) {\n        var t1 = roots[i],\n            p1 = Curve.getPoint(v1, t1),\n            t2 = Curve.getTimeOf(v2, p1);\n\n        if (t2 !== null) {\n          addLocation(locations, include, flip ? c2 : c1, flip ? t2 : t1, flip ? c1 : c2, flip ? t1 : t2);\n        }\n      }\n    }\n\n    function addLineIntersection(v1, v2, c1, c2, locations, include) {\n      var pt = Line.intersect(v1[0], v1[1], v1[6], v1[7], v2[0], v2[1], v2[6], v2[7]);\n\n      if (pt) {\n        addLocation(locations, include, c1, Curve.getTimeOf(v1, pt), c2, Curve.getTimeOf(v2, pt));\n      }\n    }\n\n    function getCurveIntersections(v1, v2, c1, c2, locations, include) {\n      var epsilon = 1e-12,\n          min = Math.min,\n          max = Math.max;\n\n      if (max(v1[0], v1[2], v1[4], v1[6]) + epsilon > min(v2[0], v2[2], v2[4], v2[6]) && min(v1[0], v1[2], v1[4], v1[6]) - epsilon < max(v2[0], v2[2], v2[4], v2[6]) && max(v1[1], v1[3], v1[5], v1[7]) + epsilon > min(v2[1], v2[3], v2[5], v2[7]) && min(v1[1], v1[3], v1[5], v1[7]) - epsilon < max(v2[1], v2[3], v2[5], v2[7])) {\n        var overlaps = getOverlaps(v1, v2);\n\n        if (overlaps) {\n          for (var i = 0; i < 2; i++) {\n            var overlap = overlaps[i];\n            addLocation(locations, include, c1, overlap[0], c2, overlap[1], true);\n          }\n        } else {\n          var straight1 = Curve.isStraight(v1),\n              straight2 = Curve.isStraight(v2),\n              straight = straight1 && straight2,\n              flip = straight1 && !straight2,\n              before = locations.length;\n          (straight ? addLineIntersection : straight1 || straight2 ? addCurveLineIntersections : addCurveIntersections)(flip ? v2 : v1, flip ? v1 : v2, flip ? c2 : c1, flip ? c1 : c2, locations, include, flip, 0, 0, 0, 1, 0, 1);\n\n          if (!straight || locations.length === before) {\n            for (var i = 0; i < 4; i++) {\n              var t1 = i >> 1,\n                  t2 = i & 1,\n                  i1 = t1 * 6,\n                  i2 = t2 * 6,\n                  p1 = new Point(v1[i1], v1[i1 + 1]),\n                  p2 = new Point(v2[i2], v2[i2 + 1]);\n\n              if (p1.isClose(p2, epsilon)) {\n                addLocation(locations, include, c1, t1, c2, t2);\n              }\n            }\n          }\n        }\n      }\n\n      return locations;\n    }\n\n    function getSelfIntersection(v1, c1, locations, include) {\n      var info = Curve.classify(v1);\n\n      if (info.type === 'loop') {\n        var roots = info.roots;\n        addLocation(locations, include, c1, roots[0], c1, roots[1]);\n      }\n\n      return locations;\n    }\n\n    function getIntersections(curves1, curves2, include, matrix1, matrix2, _returnFirst) {\n      var epsilon = 1e-7,\n          self = !curves2;\n      if (self) curves2 = curves1;\n      var length1 = curves1.length,\n          length2 = curves2.length,\n          values1 = new Array(length1),\n          values2 = self ? values1 : new Array(length2),\n          locations = [];\n\n      for (var i = 0; i < length1; i++) {\n        values1[i] = curves1[i].getValues(matrix1);\n      }\n\n      if (!self) {\n        for (var i = 0; i < length2; i++) {\n          values2[i] = curves2[i].getValues(matrix2);\n        }\n      }\n\n      var boundsCollisions = CollisionDetection.findCurveBoundsCollisions(values1, values2, epsilon);\n\n      for (var index1 = 0; index1 < length1; index1++) {\n        var curve1 = curves1[index1],\n            v1 = values1[index1];\n\n        if (self) {\n          getSelfIntersection(v1, curve1, locations, include);\n        }\n\n        var collisions1 = boundsCollisions[index1];\n\n        if (collisions1) {\n          for (var j = 0; j < collisions1.length; j++) {\n            if (_returnFirst && locations.length) return locations;\n            var index2 = collisions1[j];\n\n            if (!self || index2 > index1) {\n              var curve2 = curves2[index2],\n                  v2 = values2[index2];\n              getCurveIntersections(v1, v2, curve1, curve2, locations, include);\n            }\n          }\n        }\n      }\n\n      return locations;\n    }\n\n    function getOverlaps(v1, v2) {\n      function getSquaredLineLength(v) {\n        var x = v[6] - v[0],\n            y = v[7] - v[1];\n        return x * x + y * y;\n      }\n\n      var abs = Math.abs,\n          getDistance = Line.getDistance,\n          timeEpsilon = 1e-8,\n          geomEpsilon = 1e-7,\n          straight1 = Curve.isStraight(v1),\n          straight2 = Curve.isStraight(v2),\n          straightBoth = straight1 && straight2,\n          flip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n          l1 = flip ? v2 : v1,\n          l2 = flip ? v1 : v2,\n          px = l1[0],\n          py = l1[1],\n          vx = l1[6] - px,\n          vy = l1[7] - py;\n\n      if (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon && getDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n        if (!straightBoth && getDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon && getDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon && getDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon && getDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n          straight1 = straight2 = straightBoth = true;\n        }\n      } else if (straightBoth) {\n        return null;\n      }\n\n      if (straight1 ^ straight2) {\n        return null;\n      }\n\n      var v = [v1, v2],\n          pairs = [];\n\n      for (var i = 0; i < 4 && pairs.length < 2; i++) {\n        var i1 = i & 1,\n            i2 = i1 ^ 1,\n            t1 = i >> 1,\n            t2 = Curve.getTimeOf(v[i1], new Point(v[i2][t1 ? 6 : 0], v[i2][t1 ? 7 : 1]));\n\n        if (t2 != null) {\n          var pair = i1 ? [t1, t2] : [t2, t1];\n\n          if (!pairs.length || abs(pair[0] - pairs[0][0]) > timeEpsilon && abs(pair[1] - pairs[0][1]) > timeEpsilon) {\n            pairs.push(pair);\n          }\n        }\n\n        if (i > 2 && !pairs.length) break;\n      }\n\n      if (pairs.length !== 2) {\n        pairs = null;\n      } else if (!straightBoth) {\n        var o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n            o2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n        if (abs(o2[2] - o1[2]) > geomEpsilon || abs(o2[3] - o1[3]) > geomEpsilon || abs(o2[4] - o1[4]) > geomEpsilon || abs(o2[5] - o1[5]) > geomEpsilon) pairs = null;\n      }\n\n      return pairs;\n    }\n\n    function getTimesWithTangent(v, tangent) {\n      var x0 = v[0],\n          y0 = v[1],\n          x1 = v[2],\n          y1 = v[3],\n          x2 = v[4],\n          y2 = v[5],\n          x3 = v[6],\n          y3 = v[7],\n          normalized = tangent.normalize(),\n          tx = normalized.x,\n          ty = normalized.y,\n          ax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n          ay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n          bx = 6 * x2 - 12 * x1 + 6 * x0,\n          by = 6 * y2 - 12 * y1 + 6 * y0,\n          cx = 3 * x1 - 3 * x0,\n          cy = 3 * y1 - 3 * y0,\n          den = 2 * ax * ty - 2 * ay * tx,\n          times = [];\n\n      if (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n        var num = ax * cy - ay * cx,\n            den = ax * by - ay * bx;\n\n        if (den != 0) {\n          var t = -num / den;\n          if (t >= 0 && t <= 1) times.push(t);\n        }\n      } else {\n        var delta = (bx * bx - 4 * ax * cx) * ty * ty + (-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty + (by * by - 4 * ay * cy) * tx * tx,\n            k = bx * ty - by * tx;\n\n        if (delta >= 0 && den != 0) {\n          var d = Math.sqrt(delta),\n              t0 = -(k + d) / den,\n              t1 = (-k + d) / den;\n          if (t0 >= 0 && t0 <= 1) times.push(t0);\n          if (t1 >= 0 && t1 <= 1) times.push(t1);\n        }\n      }\n\n      return times;\n    }\n\n    return {\n      getIntersections: function (curve) {\n        var v1 = this.getValues(),\n            v2 = curve && curve !== this && curve.getValues();\n        return v2 ? getCurveIntersections(v1, v2, this, curve, []) : getSelfIntersection(v1, this, []);\n      },\n      statics: {\n        getOverlaps: getOverlaps,\n        getIntersections: getIntersections,\n        getCurveLineIntersections: getCurveLineIntersections,\n        getTimesWithTangent: getTimesWithTangent\n      }\n    };\n  }());\n  var CurveLocation = Base.extend({\n    _class: 'CurveLocation',\n    initialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n      if (time >= 0.99999999) {\n        var next = curve.getNext();\n\n        if (next) {\n          time = 0;\n          curve = next;\n        }\n      }\n\n      this._setCurve(curve);\n\n      this._time = time;\n      this._point = point || curve.getPointAtTime(time);\n      this._overlap = _overlap;\n      this._distance = _distance;\n      this._intersection = this._next = this._previous = null;\n    },\n    _setPath: function (path) {\n      this._path = path;\n      this._version = path ? path._version : 0;\n    },\n    _setCurve: function (curve) {\n      this._setPath(curve._path);\n\n      this._curve = curve;\n      this._segment = null;\n      this._segment1 = curve._segment1;\n      this._segment2 = curve._segment2;\n    },\n    _setSegment: function (segment) {\n      var curve = segment.getCurve();\n\n      if (curve) {\n        this._setCurve(curve);\n      } else {\n        this._setPath(segment._path);\n\n        this._segment1 = segment;\n        this._segment2 = null;\n      }\n\n      this._segment = segment;\n      this._time = segment === this._segment1 ? 0 : 1;\n      this._point = segment._point.clone();\n    },\n    getSegment: function () {\n      var segment = this._segment;\n\n      if (!segment) {\n        var curve = this.getCurve(),\n            time = this.getTime();\n\n        if (time === 0) {\n          segment = curve._segment1;\n        } else if (time === 1) {\n          segment = curve._segment2;\n        } else if (time != null) {\n          segment = curve.getPartLength(0, time) < curve.getPartLength(time, 1) ? curve._segment1 : curve._segment2;\n        }\n\n        this._segment = segment;\n      }\n\n      return segment;\n    },\n    getCurve: function () {\n      var path = this._path,\n          that = this;\n\n      if (path && path._version !== this._version) {\n        this._time = this._offset = this._curveOffset = this._curve = null;\n      }\n\n      function trySegment(segment) {\n        var curve = segment && segment.getCurve();\n\n        if (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n          that._setCurve(curve);\n\n          return curve;\n        }\n      }\n\n      return this._curve || trySegment(this._segment) || trySegment(this._segment1) || trySegment(this._segment2.getPrevious());\n    },\n    getPath: function () {\n      var curve = this.getCurve();\n      return curve && curve._path;\n    },\n    getIndex: function () {\n      var curve = this.getCurve();\n      return curve && curve.getIndex();\n    },\n    getTime: function () {\n      var curve = this.getCurve(),\n          time = this._time;\n      return curve && time == null ? this._time = curve.getTimeOf(this._point) : time;\n    },\n    getParameter: '#getTime',\n    getPoint: function () {\n      return this._point;\n    },\n    getOffset: function () {\n      var offset = this._offset;\n\n      if (offset == null) {\n        offset = 0;\n        var path = this.getPath(),\n            index = this.getIndex();\n\n        if (path && index != null) {\n          var curves = path.getCurves();\n\n          for (var i = 0; i < index; i++) offset += curves[i].getLength();\n        }\n\n        this._offset = offset += this.getCurveOffset();\n      }\n\n      return offset;\n    },\n    getCurveOffset: function () {\n      var offset = this._curveOffset;\n\n      if (offset == null) {\n        var curve = this.getCurve(),\n            time = this.getTime();\n        this._curveOffset = offset = time != null && curve && curve.getPartLength(0, time);\n      }\n\n      return offset;\n    },\n    getIntersection: function () {\n      return this._intersection;\n    },\n    getDistance: function () {\n      return this._distance;\n    },\n    divide: function () {\n      var curve = this.getCurve(),\n          res = curve && curve.divideAtTime(this.getTime());\n\n      if (res) {\n        this._setSegment(res._segment1);\n      }\n\n      return res;\n    },\n    split: function () {\n      var curve = this.getCurve(),\n          path = curve._path,\n          res = curve && curve.splitAtTime(this.getTime());\n\n      if (res) {\n        this._setSegment(path.getLastSegment());\n      }\n\n      return res;\n    },\n    equals: function (loc, _ignoreOther) {\n      var res = this === loc;\n\n      if (!res && loc instanceof CurveLocation) {\n        var c1 = this.getCurve(),\n            c2 = loc.getCurve(),\n            p1 = c1._path,\n            p2 = c2._path;\n\n        if (p1 === p2) {\n          var abs = Math.abs,\n              epsilon = 1e-7,\n              diff = abs(this.getOffset() - loc.getOffset()),\n              i1 = !_ignoreOther && this._intersection,\n              i2 = !_ignoreOther && loc._intersection;\n          res = (diff < epsilon || p1 && abs(p1.getLength() - diff) < epsilon) && (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n        }\n      }\n\n      return res;\n    },\n    toString: function () {\n      var parts = [],\n          point = this.getPoint(),\n          f = Formatter.instance;\n      if (point) parts.push('point: ' + point);\n      var index = this.getIndex();\n      if (index != null) parts.push('index: ' + index);\n      var time = this.getTime();\n      if (time != null) parts.push('time: ' + f.number(time));\n      if (this._distance != null) parts.push('distance: ' + f.number(this._distance));\n      return '{ ' + parts.join(', ') + ' }';\n    },\n    isTouching: function () {\n      var inter = this._intersection;\n\n      if (inter && this.getTangent().isCollinear(inter.getTangent())) {\n        var curve1 = this.getCurve(),\n            curve2 = inter.getCurve();\n        return !(curve1.isStraight() && curve2.isStraight() && curve1.getLine().intersect(curve2.getLine()));\n      }\n\n      return false;\n    },\n    isCrossing: function () {\n      var inter = this._intersection;\n      if (!inter) return false;\n      var t1 = this.getTime(),\n          t2 = inter.getTime(),\n          tMin = 1e-8,\n          tMax = 1 - tMin,\n          t1Inside = t1 >= tMin && t1 <= tMax,\n          t2Inside = t2 >= tMin && t2 <= tMax;\n      if (t1Inside && t2Inside) return !this.isTouching();\n      var c2 = this.getCurve(),\n          c1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n          c4 = inter.getCurve(),\n          c3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n      if (t1 > tMax) c2 = c2.getNext();\n      if (t2 > tMax) c4 = c4.getNext();\n      if (!c1 || !c2 || !c3 || !c4) return false;\n      var offsets = [];\n\n      function addOffsets(curve, end) {\n        var v = curve.getValues(),\n            roots = Curve.classify(v).roots || Curve.getPeaks(v),\n            count = roots.length,\n            offset = Curve.getLength(v, end && count ? roots[count - 1] : 0, !end && count ? roots[0] : 1);\n        offsets.push(count ? offset : offset / 32);\n      }\n\n      function isInRange(angle, min, max) {\n        return min < max ? angle > min && angle < max : angle > min || angle < max;\n      }\n\n      if (!t1Inside) {\n        addOffsets(c1, true);\n        addOffsets(c2, false);\n      }\n\n      if (!t2Inside) {\n        addOffsets(c3, true);\n        addOffsets(c4, false);\n      }\n\n      var pt = this.getPoint(),\n          offset = Math.min.apply(Math, offsets),\n          v2 = t1Inside ? c2.getTangentAtTime(t1) : c2.getPointAt(offset).subtract(pt),\n          v1 = t1Inside ? v2.negate() : c1.getPointAt(-offset).subtract(pt),\n          v4 = t2Inside ? c4.getTangentAtTime(t2) : c4.getPointAt(offset).subtract(pt),\n          v3 = t2Inside ? v4.negate() : c3.getPointAt(-offset).subtract(pt),\n          a1 = v1.getAngle(),\n          a2 = v2.getAngle(),\n          a3 = v3.getAngle(),\n          a4 = v4.getAngle();\n      return !!(t1Inside ? isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4) && isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3) : isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2) && isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1));\n    },\n    hasOverlap: function () {\n      return !!this._overlap;\n    }\n  }, Base.each(Curve._evaluateMethods, function (name) {\n    var get = name + 'At';\n\n    this[name] = function () {\n      var curve = this.getCurve(),\n          time = this.getTime();\n      return time != null && curve && curve[get](time, true);\n    };\n  }, {\n    preserve: true\n  }), new function () {\n    function insert(locations, loc, merge) {\n      var length = locations.length,\n          l = 0,\n          r = length - 1;\n\n      function search(index, dir) {\n        for (var i = index + dir; i >= -1 && i <= length; i += dir) {\n          var loc2 = locations[(i % length + length) % length];\n          if (!loc.getPoint().isClose(loc2.getPoint(), 1e-7)) break;\n          if (loc.equals(loc2)) return loc2;\n        }\n\n        return null;\n      }\n\n      while (l <= r) {\n        var m = l + r >>> 1,\n            loc2 = locations[m],\n            found;\n\n        if (merge && (found = loc.equals(loc2) ? loc2 : search(m, -1) || search(m, 1))) {\n          if (loc._overlap) {\n            found._overlap = found._intersection._overlap = true;\n          }\n\n          return found;\n        }\n\n        var path1 = loc.getPath(),\n            path2 = loc2.getPath(),\n            diff = path1 !== path2 ? path1._id - path2._id : loc.getIndex() + loc.getTime() - (loc2.getIndex() + loc2.getTime());\n\n        if (diff < 0) {\n          r = m - 1;\n        } else {\n          l = m + 1;\n        }\n      }\n\n      locations.splice(l, 0, loc);\n      return loc;\n    }\n\n    return {\n      statics: {\n        insert: insert,\n        expand: function (locations) {\n          var expanded = locations.slice();\n\n          for (var i = locations.length - 1; i >= 0; i--) {\n            insert(expanded, locations[i]._intersection, false);\n          }\n\n          return expanded;\n        }\n      }\n    };\n  }());\n  var PathItem = Item.extend({\n    _class: 'PathItem',\n    _selectBounds: false,\n    _canScaleStroke: true,\n    beans: true,\n    initialize: function PathItem() {},\n    statics: {\n      create: function (arg) {\n        var data, segments, compound;\n\n        if (Base.isPlainObject(arg)) {\n          segments = arg.segments;\n          data = arg.pathData;\n        } else if (Array.isArray(arg)) {\n          segments = arg;\n        } else if (typeof arg === 'string') {\n          data = arg;\n        }\n\n        if (segments) {\n          var first = segments[0];\n          compound = first && Array.isArray(first[0]);\n        } else if (data) {\n          compound = (data.match(/m/gi) || []).length > 1 || /z\\s*\\S+/i.test(data);\n        }\n\n        var ctor = compound ? CompoundPath : Path;\n        return new ctor(arg);\n      }\n    },\n    _asPathItem: function () {\n      return this;\n    },\n    isClockwise: function () {\n      return this.getArea() >= 0;\n    },\n    setClockwise: function (clockwise) {\n      if (this.isClockwise() != (clockwise = !!clockwise)) this.reverse();\n    },\n    setPathData: function (data) {\n      var parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n          coords,\n          relative = false,\n          previous,\n          control,\n          current = new Point(),\n          start = new Point();\n\n      function getCoord(index, coord) {\n        var val = +coords[index];\n        if (relative) val += current[coord];\n        return val;\n      }\n\n      function getPoint(index) {\n        return new Point(getCoord(index, 'x'), getCoord(index + 1, 'y'));\n      }\n\n      this.clear();\n\n      for (var i = 0, l = parts && parts.length; i < l; i++) {\n        var part = parts[i],\n            command = part[0],\n            lower = command.toLowerCase();\n        coords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n        var length = coords && coords.length;\n        relative = command === lower;\n        if (previous === 'z' && !/[mz]/.test(lower)) this.moveTo(current);\n\n        switch (lower) {\n          case 'm':\n          case 'l':\n            var move = lower === 'm';\n\n            for (var j = 0; j < length; j += 2) {\n              this[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\n              if (move) {\n                start = current;\n                move = false;\n              }\n            }\n\n            control = current;\n            break;\n\n          case 'h':\n          case 'v':\n            var coord = lower === 'h' ? 'x' : 'y';\n            current = current.clone();\n\n            for (var j = 0; j < length; j++) {\n              current[coord] = getCoord(j, coord);\n              this.lineTo(current);\n            }\n\n            control = current;\n            break;\n\n          case 'c':\n            for (var j = 0; j < length; j += 6) {\n              this.cubicCurveTo(getPoint(j), control = getPoint(j + 2), current = getPoint(j + 4));\n            }\n\n            break;\n\n          case 's':\n            for (var j = 0; j < length; j += 4) {\n              this.cubicCurveTo(/[cs]/.test(previous) ? current.multiply(2).subtract(control) : current, control = getPoint(j), current = getPoint(j + 2));\n              previous = lower;\n            }\n\n            break;\n\n          case 'q':\n            for (var j = 0; j < length; j += 4) {\n              this.quadraticCurveTo(control = getPoint(j), current = getPoint(j + 2));\n            }\n\n            break;\n\n          case 't':\n            for (var j = 0; j < length; j += 2) {\n              this.quadraticCurveTo(control = /[qt]/.test(previous) ? current.multiply(2).subtract(control) : current, current = getPoint(j));\n              previous = lower;\n            }\n\n            break;\n\n          case 'a':\n            for (var j = 0; j < length; j += 7) {\n              this.arcTo(current = getPoint(j + 5), new Size(+coords[j], +coords[j + 1]), +coords[j + 2], +coords[j + 4], +coords[j + 3]);\n            }\n\n            break;\n\n          case 'z':\n            this.closePath(1e-12);\n            current = start;\n            break;\n        }\n\n        previous = lower;\n      }\n    },\n    _canComposite: function () {\n      return !(this.hasFill() && this.hasStroke());\n    },\n    _contains: function (point) {\n      var winding = point.isInside(this.getBounds({\n        internal: true,\n        handle: true\n      })) ? this._getWinding(point) : {};\n      return winding.onPath || !!(this.getFillRule() === 'evenodd' ? winding.windingL & 1 || winding.windingR & 1 : winding.winding);\n    },\n    getIntersections: function (path, include, _matrix, _returnFirst) {\n      var self = this === path || !path,\n          matrix1 = this._matrix._orNullIfIdentity(),\n          matrix2 = self ? matrix1 : (_matrix || path._matrix)._orNullIfIdentity();\n\n      return self || this.getBounds(matrix1).intersects(path.getBounds(matrix2), 1e-12) ? Curve.getIntersections(this.getCurves(), !self && path.getCurves(), include, matrix1, matrix2, _returnFirst) : [];\n    },\n    getCrossings: function (path) {\n      return this.getIntersections(path, function (inter) {\n        return inter.isCrossing();\n      });\n    },\n    getNearestLocation: function () {\n      var point = Point.read(arguments),\n          curves = this.getCurves(),\n          minDist = Infinity,\n          minLoc = null;\n\n      for (var i = 0, l = curves.length; i < l; i++) {\n        var loc = curves[i].getNearestLocation(point);\n\n        if (loc._distance < minDist) {\n          minDist = loc._distance;\n          minLoc = loc;\n        }\n      }\n\n      return minLoc;\n    },\n    getNearestPoint: function () {\n      var loc = this.getNearestLocation.apply(this, arguments);\n      return loc ? loc.getPoint() : loc;\n    },\n    interpolate: function (from, to, factor) {\n      var isPath = !this._children,\n          name = isPath ? '_segments' : '_children',\n          itemsFrom = from[name],\n          itemsTo = to[name],\n          items = this[name];\n\n      if (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n        throw new Error('Invalid operands in interpolate() call: ' + from + ', ' + to);\n      }\n\n      var current = items.length,\n          length = itemsTo.length;\n\n      if (current < length) {\n        var ctor = isPath ? Segment : Path;\n\n        for (var i = current; i < length; i++) {\n          this.add(new ctor());\n        }\n      } else if (current > length) {\n        this[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n      }\n\n      for (var i = 0; i < length; i++) {\n        items[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n      }\n\n      if (isPath) {\n        this.setClosed(from._closed);\n\n        this._changed(9);\n      }\n    },\n    compare: function (path) {\n      var ok = false;\n\n      if (path) {\n        var paths1 = this._children || [this],\n            paths2 = path._children ? path._children.slice() : [path],\n            length1 = paths1.length,\n            length2 = paths2.length,\n            matched = [],\n            count = 0;\n        ok = true;\n        var boundsOverlaps = CollisionDetection.findItemBoundsCollisions(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\n        for (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n          var path1 = paths1[i1];\n          ok = false;\n          var pathBoundsOverlaps = boundsOverlaps[i1];\n\n          if (pathBoundsOverlaps) {\n            for (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n              if (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n                if (!matched[pathBoundsOverlaps[i2]]) {\n                  matched[pathBoundsOverlaps[i2]] = true;\n                  count++;\n                }\n\n                ok = true;\n              }\n            }\n          }\n        }\n\n        ok = ok && count === length2;\n      }\n\n      return ok;\n    }\n  });\n  var Path = PathItem.extend({\n    _class: 'Path',\n    _serializeFields: {\n      segments: [],\n      closed: false\n    },\n    initialize: function Path(arg) {\n      this._closed = false;\n      this._segments = [];\n      this._version = 0;\n      var args = arguments,\n          segments = Array.isArray(arg) ? typeof arg[0] === 'object' ? arg : args : arg && arg.size === undefined && (arg.x !== undefined || arg.point !== undefined) ? args : null;\n\n      if (segments && segments.length > 0) {\n        this.setSegments(segments);\n      } else {\n        this._curves = undefined;\n        this._segmentSelection = 0;\n\n        if (!segments && typeof arg === 'string') {\n          this.setPathData(arg);\n          arg = null;\n        }\n      }\n\n      this._initialize(!segments && arg);\n    },\n    _equals: function (item) {\n      return this._closed === item._closed && Base.equals(this._segments, item._segments);\n    },\n    copyContent: function (source) {\n      this.setSegments(source._segments);\n      this._closed = source._closed;\n    },\n    _changed: function _changed(flags) {\n      _changed.base.call(this, flags);\n\n      if (flags & 8) {\n        this._length = this._area = undefined;\n\n        if (flags & 32) {\n          this._version++;\n        } else if (this._curves) {\n          for (var i = 0, l = this._curves.length; i < l; i++) this._curves[i]._changed();\n        }\n      } else if (flags & 64) {\n        this._bounds = undefined;\n      }\n    },\n    getStyle: function () {\n      var parent = this._parent;\n      return (parent instanceof CompoundPath ? parent : this)._style;\n    },\n    getSegments: function () {\n      return this._segments;\n    },\n    setSegments: function (segments) {\n      var fullySelected = this.isFullySelected(),\n          length = segments && segments.length;\n      this._segments.length = 0;\n      this._segmentSelection = 0;\n      this._curves = undefined;\n\n      if (length) {\n        var last = segments[length - 1];\n\n        if (typeof last === 'boolean') {\n          this.setClosed(last);\n          length--;\n        }\n\n        this._add(Segment.readList(segments, 0, {}, length));\n      }\n\n      if (fullySelected) this.setFullySelected(true);\n    },\n    getFirstSegment: function () {\n      return this._segments[0];\n    },\n    getLastSegment: function () {\n      return this._segments[this._segments.length - 1];\n    },\n    getCurves: function () {\n      var curves = this._curves,\n          segments = this._segments;\n\n      if (!curves) {\n        var length = this._countCurves();\n\n        curves = this._curves = new Array(length);\n\n        for (var i = 0; i < length; i++) curves[i] = new Curve(this, segments[i], segments[i + 1] || segments[0]);\n      }\n\n      return curves;\n    },\n    getFirstCurve: function () {\n      return this.getCurves()[0];\n    },\n    getLastCurve: function () {\n      var curves = this.getCurves();\n      return curves[curves.length - 1];\n    },\n    isClosed: function () {\n      return this._closed;\n    },\n    setClosed: function (closed) {\n      if (this._closed != (closed = !!closed)) {\n        this._closed = closed;\n\n        if (this._curves) {\n          var length = this._curves.length = this._countCurves();\n\n          if (closed) this._curves[length - 1] = new Curve(this, this._segments[length - 1], this._segments[0]);\n        }\n\n        this._changed(41);\n      }\n    }\n  }, {\n    beans: true,\n    getPathData: function (_matrix, _precision) {\n      var segments = this._segments,\n          length = segments.length,\n          f = new Formatter(_precision),\n          coords = new Array(6),\n          first = true,\n          curX,\n          curY,\n          prevX,\n          prevY,\n          inX,\n          inY,\n          outX,\n          outY,\n          parts = [];\n\n      function addSegment(segment, skipLine) {\n        segment._transformCoordinates(_matrix, coords);\n\n        curX = coords[0];\n        curY = coords[1];\n\n        if (first) {\n          parts.push('M' + f.pair(curX, curY));\n          first = false;\n        } else {\n          inX = coords[2];\n          inY = coords[3];\n\n          if (inX === curX && inY === curY && outX === prevX && outY === prevY) {\n            if (!skipLine) {\n              var dx = curX - prevX,\n                  dy = curY - prevY;\n              parts.push(dx === 0 ? 'v' + f.number(dy) : dy === 0 ? 'h' + f.number(dx) : 'l' + f.pair(dx, dy));\n            }\n          } else {\n            parts.push('c' + f.pair(outX - prevX, outY - prevY) + ' ' + f.pair(inX - prevX, inY - prevY) + ' ' + f.pair(curX - prevX, curY - prevY));\n          }\n        }\n\n        prevX = curX;\n        prevY = curY;\n        outX = coords[4];\n        outY = coords[5];\n      }\n\n      if (!length) return '';\n\n      for (var i = 0; i < length; i++) addSegment(segments[i]);\n\n      if (this._closed && length > 0) {\n        addSegment(segments[0], true);\n        parts.push('z');\n      }\n\n      return parts.join('');\n    },\n    isEmpty: function () {\n      return !this._segments.length;\n    },\n    _transformContent: function (matrix) {\n      var segments = this._segments,\n          coords = new Array(6);\n\n      for (var i = 0, l = segments.length; i < l; i++) segments[i]._transformCoordinates(matrix, coords, true);\n\n      return true;\n    },\n    _add: function (segs, index) {\n      var segments = this._segments,\n          curves = this._curves,\n          amount = segs.length,\n          append = index == null,\n          index = append ? segments.length : index;\n\n      for (var i = 0; i < amount; i++) {\n        var segment = segs[i];\n        if (segment._path) segment = segs[i] = segment.clone();\n        segment._path = this;\n        segment._index = index + i;\n        if (segment._selection) this._updateSelection(segment, 0, segment._selection);\n      }\n\n      if (append) {\n        Base.push(segments, segs);\n      } else {\n        segments.splice.apply(segments, [index, 0].concat(segs));\n\n        for (var i = index + amount, l = segments.length; i < l; i++) segments[i]._index = i;\n      }\n\n      if (curves) {\n        var total = this._countCurves(),\n            start = index > 0 && index + amount - 1 === total ? index - 1 : index,\n            insert = start,\n            end = Math.min(start + amount, total);\n\n        if (segs._curves) {\n          curves.splice.apply(curves, [start, 0].concat(segs._curves));\n          insert += segs._curves.length;\n        }\n\n        for (var i = insert; i < end; i++) curves.splice(i, 0, new Curve(this, null, null));\n\n        this._adjustCurves(start, end);\n      }\n\n      this._changed(41);\n\n      return segs;\n    },\n    _adjustCurves: function (start, end) {\n      var segments = this._segments,\n          curves = this._curves,\n          curve;\n\n      for (var i = start; i < end; i++) {\n        curve = curves[i];\n        curve._path = this;\n        curve._segment1 = segments[i];\n        curve._segment2 = segments[i + 1] || segments[0];\n\n        curve._changed();\n      }\n\n      if (curve = curves[this._closed && !start ? segments.length - 1 : start - 1]) {\n        curve._segment2 = segments[start] || segments[0];\n\n        curve._changed();\n      }\n\n      if (curve = curves[end]) {\n        curve._segment1 = segments[end];\n\n        curve._changed();\n      }\n    },\n    _countCurves: function () {\n      var length = this._segments.length;\n      return !this._closed && length > 0 ? length - 1 : length;\n    },\n    add: function (segment1) {\n      var args = arguments;\n      return args.length > 1 && typeof segment1 !== 'number' ? this._add(Segment.readList(args)) : this._add([Segment.read(args)])[0];\n    },\n    insert: function (index, segment1) {\n      var args = arguments;\n      return args.length > 2 && typeof segment1 !== 'number' ? this._add(Segment.readList(args, 1), index) : this._add([Segment.read(args, 1)], index)[0];\n    },\n    addSegment: function () {\n      return this._add([Segment.read(arguments)])[0];\n    },\n    insertSegment: function (index) {\n      return this._add([Segment.read(arguments, 1)], index)[0];\n    },\n    addSegments: function (segments) {\n      return this._add(Segment.readList(segments));\n    },\n    insertSegments: function (index, segments) {\n      return this._add(Segment.readList(segments), index);\n    },\n    removeSegment: function (index) {\n      return this.removeSegments(index, index + 1)[0] || null;\n    },\n    removeSegments: function (start, end, _includeCurves) {\n      start = start || 0;\n      end = Base.pick(end, this._segments.length);\n      var segments = this._segments,\n          curves = this._curves,\n          count = segments.length,\n          removed = segments.splice(start, end - start),\n          amount = removed.length;\n      if (!amount) return removed;\n\n      for (var i = 0; i < amount; i++) {\n        var segment = removed[i];\n        if (segment._selection) this._updateSelection(segment, segment._selection, 0);\n        segment._index = segment._path = null;\n      }\n\n      for (var i = start, l = segments.length; i < l; i++) segments[i]._index = i;\n\n      if (curves) {\n        var index = start > 0 && end === count + (this._closed ? 1 : 0) ? start - 1 : start,\n            curves = curves.splice(index, amount);\n\n        for (var i = curves.length - 1; i >= 0; i--) curves[i]._path = null;\n\n        if (_includeCurves) removed._curves = curves.slice(1);\n\n        this._adjustCurves(index, index);\n      }\n\n      this._changed(41);\n\n      return removed;\n    },\n    clear: '#removeSegments',\n    hasHandles: function () {\n      var segments = this._segments;\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].hasHandles()) return true;\n      }\n\n      return false;\n    },\n    clearHandles: function () {\n      var segments = this._segments;\n\n      for (var i = 0, l = segments.length; i < l; i++) segments[i].clearHandles();\n    },\n    getLength: function () {\n      if (this._length == null) {\n        var curves = this.getCurves(),\n            length = 0;\n\n        for (var i = 0, l = curves.length; i < l; i++) length += curves[i].getLength();\n\n        this._length = length;\n      }\n\n      return this._length;\n    },\n    getArea: function () {\n      var area = this._area;\n\n      if (area == null) {\n        var segments = this._segments,\n            closed = this._closed;\n        area = 0;\n\n        for (var i = 0, l = segments.length; i < l; i++) {\n          var last = i + 1 === l;\n          area += Curve.getArea(Curve.getValues(segments[i], segments[last ? 0 : i + 1], null, last && !closed));\n        }\n\n        this._area = area;\n      }\n\n      return area;\n    },\n    isFullySelected: function () {\n      var length = this._segments.length;\n      return this.isSelected() && length > 0 && this._segmentSelection === length * 7;\n    },\n    setFullySelected: function (selected) {\n      if (selected) this._selectSegments(true);\n      this.setSelected(selected);\n    },\n    setSelection: function setSelection(selection) {\n      if (!(selection & 1)) this._selectSegments(false);\n      setSelection.base.call(this, selection);\n    },\n    _selectSegments: function (selected) {\n      var segments = this._segments,\n          length = segments.length,\n          selection = selected ? 7 : 0;\n      this._segmentSelection = selection * length;\n\n      for (var i = 0; i < length; i++) segments[i]._selection = selection;\n    },\n    _updateSelection: function (segment, oldSelection, newSelection) {\n      segment._selection = newSelection;\n      var selection = this._segmentSelection += newSelection - oldSelection;\n      if (selection > 0) this.setSelected(true);\n    },\n    divideAt: function (location) {\n      var loc = this.getLocationAt(location),\n          curve;\n      return loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset())) ? curve._segment1 : null;\n    },\n    splitAt: function (location) {\n      var loc = this.getLocationAt(location),\n          index = loc && loc.index,\n          time = loc && loc.time,\n          tMin = 1e-8,\n          tMax = 1 - tMin;\n\n      if (time > tMax) {\n        index++;\n        time = 0;\n      }\n\n      var curves = this.getCurves();\n\n      if (index >= 0 && index < curves.length) {\n        if (time >= tMin) {\n          curves[index++].divideAtTime(time);\n        }\n\n        var segs = this.removeSegments(index, this._segments.length, true),\n            path;\n\n        if (this._closed) {\n          this.setClosed(false);\n          path = this;\n        } else {\n          path = new Path(Item.NO_INSERT);\n          path.insertAbove(this);\n          path.copyAttributes(this);\n        }\n\n        path._add(segs, 0);\n\n        this.addSegment(segs[0]);\n        return path;\n      }\n\n      return null;\n    },\n    split: function (index, time) {\n      var curve,\n          location = time === undefined ? index : (curve = this.getCurves()[index]) && curve.getLocationAtTime(time);\n      return location != null ? this.splitAt(location) : null;\n    },\n    join: function (path, tolerance) {\n      var epsilon = tolerance || 0;\n\n      if (path && path !== this) {\n        var segments = path._segments,\n            last1 = this.getLastSegment(),\n            last2 = path.getLastSegment();\n        if (!last2) return this;\n        if (last1 && last1._point.isClose(last2._point, epsilon)) path.reverse();\n        var first2 = path.getFirstSegment();\n\n        if (last1 && last1._point.isClose(first2._point, epsilon)) {\n          last1.setHandleOut(first2._handleOut);\n\n          this._add(segments.slice(1));\n        } else {\n          var first1 = this.getFirstSegment();\n          if (first1 && first1._point.isClose(first2._point, epsilon)) path.reverse();\n          last2 = path.getLastSegment();\n\n          if (first1 && first1._point.isClose(last2._point, epsilon)) {\n            first1.setHandleIn(last2._handleIn);\n\n            this._add(segments.slice(0, segments.length - 1), 0);\n          } else {\n            this._add(segments.slice());\n          }\n        }\n\n        if (path._closed) this._add([segments[0]]);\n        path.remove();\n      }\n\n      var first = this.getFirstSegment(),\n          last = this.getLastSegment();\n\n      if (first !== last && first._point.isClose(last._point, epsilon)) {\n        first.setHandleIn(last._handleIn);\n        last.remove();\n        this.setClosed(true);\n      }\n\n      return this;\n    },\n    reduce: function (options) {\n      var curves = this.getCurves(),\n          simplify = options && options.simplify,\n          tolerance = simplify ? 1e-7 : 0;\n\n      for (var i = curves.length - 1; i >= 0; i--) {\n        var curve = curves[i];\n        if (!curve.hasHandles() && (!curve.hasLength(tolerance) || simplify && curve.isCollinear(curve.getNext()))) curve.remove();\n      }\n\n      return this;\n    },\n    reverse: function () {\n      this._segments.reverse();\n\n      for (var i = 0, l = this._segments.length; i < l; i++) {\n        var segment = this._segments[i];\n        var handleIn = segment._handleIn;\n        segment._handleIn = segment._handleOut;\n        segment._handleOut = handleIn;\n        segment._index = i;\n      }\n\n      this._curves = null;\n\n      this._changed(9);\n    },\n    flatten: function (flatness) {\n      var flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n          parts = flattener.parts,\n          length = parts.length,\n          segments = [];\n\n      for (var i = 0; i < length; i++) {\n        segments.push(new Segment(parts[i].curve.slice(0, 2)));\n      }\n\n      if (!this._closed && length > 0) {\n        segments.push(new Segment(parts[length - 1].curve.slice(6)));\n      }\n\n      this.setSegments(segments);\n    },\n    simplify: function (tolerance) {\n      var segments = new PathFitter(this).fit(tolerance || 2.5);\n      if (segments) this.setSegments(segments);\n      return !!segments;\n    },\n    smooth: function (options) {\n      var that = this,\n          opts = options || {},\n          type = opts.type || 'asymmetric',\n          segments = this._segments,\n          length = segments.length,\n          closed = this._closed;\n\n      function getIndex(value, _default) {\n        var index = value && value.index;\n\n        if (index != null) {\n          var path = value.path;\n          if (path && path !== that) throw new Error(value._class + ' ' + index + ' of ' + path + ' is not part of ' + that);\n          if (_default && value instanceof Curve) index++;\n        } else {\n          index = typeof value === 'number' ? value : _default;\n        }\n\n        return Math.min(index < 0 && closed ? index % length : index < 0 ? index + length : index, length - 1);\n      }\n\n      var loop = closed && opts.from === undefined && opts.to === undefined,\n          from = getIndex(opts.from, 0),\n          to = getIndex(opts.to, length - 1);\n\n      if (from > to) {\n        if (closed) {\n          from -= length;\n        } else {\n          var tmp = from;\n          from = to;\n          to = tmp;\n        }\n      }\n\n      if (/^(?:asymmetric|continuous)$/.test(type)) {\n        var asymmetric = type === 'asymmetric',\n            min = Math.min,\n            amount = to - from + 1,\n            n = amount - 1,\n            padding = loop ? min(amount, 4) : 1,\n            paddingLeft = padding,\n            paddingRight = padding,\n            knots = [];\n\n        if (!closed) {\n          paddingLeft = min(1, from);\n          paddingRight = min(1, length - to - 1);\n        }\n\n        n += paddingLeft + paddingRight;\n        if (n <= 1) return;\n\n        for (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n          knots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n        }\n\n        var x = knots[0]._x + 2 * knots[1]._x,\n            y = knots[0]._y + 2 * knots[1]._y,\n            f = 2,\n            n_1 = n - 1,\n            rx = [x],\n            ry = [y],\n            rf = [f],\n            px = [],\n            py = [];\n\n        for (var i = 1; i < n; i++) {\n          var internal = i < n_1,\n              a = internal ? 1 : asymmetric ? 1 : 2,\n              b = internal ? 4 : asymmetric ? 2 : 7,\n              u = internal ? 4 : asymmetric ? 3 : 8,\n              v = internal ? 2 : asymmetric ? 0 : 1,\n              m = a / f;\n          f = rf[i] = b - m;\n          x = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n          y = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n        }\n\n        px[n_1] = rx[n_1] / rf[n_1];\n        py[n_1] = ry[n_1] / rf[n_1];\n\n        for (var i = n - 2; i >= 0; i--) {\n          px[i] = (rx[i] - px[i + 1]) / rf[i];\n          py[i] = (ry[i] - py[i + 1]) / rf[i];\n        }\n\n        px[n] = (3 * knots[n]._x - px[n_1]) / 2;\n        py[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n        for (var i = paddingLeft, max = n - paddingRight, j = from; i <= max; i++, j++) {\n          var segment = segments[j < 0 ? j + length : j],\n              pt = segment._point,\n              hx = px[i] - pt._x,\n              hy = py[i] - pt._y;\n          if (loop || i < max) segment.setHandleOut(hx, hy);\n          if (loop || i > paddingLeft) segment.setHandleIn(-hx, -hy);\n        }\n      } else {\n        for (var i = from; i <= to; i++) {\n          segments[i < 0 ? i + length : i].smooth(opts, !loop && i === from, !loop && i === to);\n        }\n      }\n    },\n    toShape: function (insert) {\n      if (!this._closed) return null;\n      var segments = this._segments,\n          type,\n          size,\n          radius,\n          topCenter;\n\n      function isCollinear(i, j) {\n        var seg1 = segments[i],\n            seg2 = seg1.getNext(),\n            seg3 = segments[j],\n            seg4 = seg3.getNext();\n        return seg1._handleOut.isZero() && seg2._handleIn.isZero() && seg3._handleOut.isZero() && seg4._handleIn.isZero() && seg2._point.subtract(seg1._point).isCollinear(seg4._point.subtract(seg3._point));\n      }\n\n      function isOrthogonal(i) {\n        var seg2 = segments[i],\n            seg1 = seg2.getPrevious(),\n            seg3 = seg2.getNext();\n        return seg1._handleOut.isZero() && seg2._handleIn.isZero() && seg2._handleOut.isZero() && seg3._handleIn.isZero() && seg2._point.subtract(seg1._point).isOrthogonal(seg3._point.subtract(seg2._point));\n      }\n\n      function isArc(i) {\n        var seg1 = segments[i],\n            seg2 = seg1.getNext(),\n            handle1 = seg1._handleOut,\n            handle2 = seg2._handleIn,\n            kappa = 0.5522847498307936;\n\n        if (handle1.isOrthogonal(handle2)) {\n          var pt1 = seg1._point,\n              pt2 = seg2._point,\n              corner = new Line(pt1, handle1, true).intersect(new Line(pt2, handle2, true), true);\n          return corner && Numerical.isZero(handle1.getLength() / corner.subtract(pt1).getLength() - kappa) && Numerical.isZero(handle2.getLength() / corner.subtract(pt2).getLength() - kappa);\n        }\n\n        return false;\n      }\n\n      function getDistance(i, j) {\n        return segments[i]._point.getDistance(segments[j]._point);\n      }\n\n      if (!this.hasHandles() && segments.length === 4 && isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n        type = Shape.Rectangle;\n        size = new Size(getDistance(0, 3), getDistance(0, 1));\n        topCenter = segments[1]._point.add(segments[2]._point).divide(2);\n      } else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4) && isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n        type = Shape.Rectangle;\n        size = new Size(getDistance(1, 6), getDistance(0, 3));\n        radius = size.subtract(new Size(getDistance(0, 7), getDistance(1, 2))).divide(2);\n        topCenter = segments[3]._point.add(segments[4]._point).divide(2);\n      } else if (segments.length === 4 && isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n        if (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n          type = Shape.Circle;\n          radius = getDistance(0, 2) / 2;\n        } else {\n          type = Shape.Ellipse;\n          radius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n        }\n\n        topCenter = segments[1]._point;\n      }\n\n      if (type) {\n        var center = this.getPosition(true),\n            shape = new type({\n          center: center,\n          size: size,\n          radius: radius,\n          insert: false\n        });\n        shape.copyAttributes(this, true);\n\n        shape._matrix.prepend(this._matrix);\n\n        shape.rotate(topCenter.subtract(center).getAngle() + 90);\n        if (insert === undefined || insert) shape.insertAbove(this);\n        return shape;\n      }\n\n      return null;\n    },\n    toPath: '#clone',\n    compare: function compare(path) {\n      if (!path || path instanceof CompoundPath) return compare.base.call(this, path);\n      var curves1 = this.getCurves(),\n          curves2 = path.getCurves(),\n          length1 = curves1.length,\n          length2 = curves2.length;\n\n      if (!length1 || !length2) {\n        return length1 == length2;\n      }\n\n      var v1 = curves1[0].getValues(),\n          values2 = [],\n          pos1 = 0,\n          pos2,\n          end1 = 0,\n          end2;\n\n      for (var i = 0; i < length2; i++) {\n        var v2 = curves2[i].getValues();\n        values2.push(v2);\n        var overlaps = Curve.getOverlaps(v1, v2);\n\n        if (overlaps) {\n          pos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n          end2 = overlaps[0][1];\n          break;\n        }\n      }\n\n      var abs = Math.abs,\n          epsilon = 1e-8,\n          v2 = values2[pos2],\n          start2;\n\n      while (v1 && v2) {\n        var overlaps = Curve.getOverlaps(v1, v2);\n\n        if (overlaps) {\n          var t1 = overlaps[0][0];\n\n          if (abs(t1 - end1) < epsilon) {\n            end1 = overlaps[1][0];\n\n            if (end1 === 1) {\n              v1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n              end1 = 0;\n            }\n\n            var t2 = overlaps[0][1];\n\n            if (abs(t2 - end2) < epsilon) {\n              if (!start2) start2 = [pos2, t2];\n              end2 = overlaps[1][1];\n\n              if (end2 === 1) {\n                if (++pos2 >= length2) pos2 = 0;\n                v2 = values2[pos2] || curves2[pos2].getValues();\n                end2 = 0;\n              }\n\n              if (!v1) {\n                return start2[0] === pos2 && start2[1] === end2;\n              }\n\n              continue;\n            }\n          }\n        }\n\n        break;\n      }\n\n      return false;\n    },\n    _hitTestSelf: function (point, options, viewMatrix, strokeMatrix) {\n      var that = this,\n          style = this.getStyle(),\n          segments = this._segments,\n          numSegments = segments.length,\n          closed = this._closed,\n          tolerancePadding = options._tolerancePadding,\n          strokePadding = tolerancePadding,\n          join,\n          cap,\n          miterLimit,\n          area,\n          loc,\n          res,\n          hitStroke = options.stroke && style.hasStroke(),\n          hitFill = options.fill && style.hasFill(),\n          hitCurves = options.curves,\n          strokeRadius = hitStroke ? style.getStrokeWidth() / 2 : hitFill && options.tolerance > 0 || hitCurves ? 0 : null;\n\n      if (strokeRadius !== null) {\n        if (strokeRadius > 0) {\n          join = style.getStrokeJoin();\n          cap = style.getStrokeCap();\n          miterLimit = style.getMiterLimit();\n          strokePadding = strokePadding.add(Path._getStrokePadding(strokeRadius, strokeMatrix));\n        } else {\n          join = cap = 'round';\n        }\n      }\n\n      function isCloseEnough(pt, padding) {\n        return point.subtract(pt).divide(padding).length <= 1;\n      }\n\n      function checkSegmentPoint(seg, pt, name) {\n        if (!options.selected || pt.isSelected()) {\n          var anchor = seg._point;\n          if (pt !== anchor) pt = pt.add(anchor);\n\n          if (isCloseEnough(pt, strokePadding)) {\n            return new HitResult(name, that, {\n              segment: seg,\n              point: pt\n            });\n          }\n        }\n      }\n\n      function checkSegmentPoints(seg, ends) {\n        return (ends || options.segments) && checkSegmentPoint(seg, seg._point, 'segment') || !ends && options.handles && (checkSegmentPoint(seg, seg._handleIn, 'handle-in') || checkSegmentPoint(seg, seg._handleOut, 'handle-out'));\n      }\n\n      function addToArea(point) {\n        area.add(point);\n      }\n\n      function checkSegmentStroke(segment) {\n        var isJoin = closed || segment._index > 0 && segment._index < numSegments - 1;\n\n        if ((isJoin ? join : cap) === 'round') {\n          return isCloseEnough(segment._point, strokePadding);\n        } else {\n          area = new Path({\n            internal: true,\n            closed: true\n          });\n\n          if (isJoin) {\n            if (!segment.isSmooth()) {\n              Path._addBevelJoin(segment, join, strokeRadius, miterLimit, null, strokeMatrix, addToArea, true);\n            }\n          } else if (cap === 'square') {\n            Path._addSquareCap(segment, cap, strokeRadius, null, strokeMatrix, addToArea, true);\n          }\n\n          if (!area.isEmpty()) {\n            var loc;\n            return area.contains(point) || (loc = area.getNearestLocation(point)) && isCloseEnough(loc.getPoint(), tolerancePadding);\n          }\n        }\n      }\n\n      if (options.ends && !options.segments && !closed) {\n        if (res = checkSegmentPoints(segments[0], true) || checkSegmentPoints(segments[numSegments - 1], true)) return res;\n      } else if (options.segments || options.handles) {\n        for (var i = 0; i < numSegments; i++) if (res = checkSegmentPoints(segments[i])) return res;\n      }\n\n      if (strokeRadius !== null) {\n        loc = this.getNearestLocation(point);\n\n        if (loc) {\n          var time = loc.getTime();\n\n          if (time === 0 || time === 1 && numSegments > 1) {\n            if (!checkSegmentStroke(loc.getSegment())) loc = null;\n          } else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n            loc = null;\n          }\n        }\n\n        if (!loc && join === 'miter' && numSegments > 1) {\n          for (var i = 0; i < numSegments; i++) {\n            var segment = segments[i];\n\n            if (point.getDistance(segment._point) <= miterLimit * strokeRadius && checkSegmentStroke(segment)) {\n              loc = segment.getLocation();\n              break;\n            }\n          }\n        }\n      }\n\n      return !loc && hitFill && this._contains(point) || loc && !hitStroke && !hitCurves ? new HitResult('fill', this) : loc ? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n        location: loc,\n        point: loc.getPoint()\n      }) : null;\n    }\n  }, Base.each(Curve._evaluateMethods, function (name) {\n    this[name + 'At'] = function (offset) {\n      var loc = this.getLocationAt(offset);\n      return loc && loc[name]();\n    };\n  }, {\n    beans: false,\n    getLocationOf: function () {\n      var point = Point.read(arguments),\n          curves = this.getCurves();\n\n      for (var i = 0, l = curves.length; i < l; i++) {\n        var loc = curves[i].getLocationOf(point);\n        if (loc) return loc;\n      }\n\n      return null;\n    },\n    getOffsetOf: function () {\n      var loc = this.getLocationOf.apply(this, arguments);\n      return loc ? loc.getOffset() : null;\n    },\n    getLocationAt: function (offset) {\n      if (typeof offset === 'number') {\n        var curves = this.getCurves(),\n            length = 0;\n\n        for (var i = 0, l = curves.length; i < l; i++) {\n          var start = length,\n              curve = curves[i];\n          length += curve.getLength();\n\n          if (length > offset) {\n            return curve.getLocationAt(offset - start);\n          }\n        }\n\n        if (curves.length > 0 && offset <= this.getLength()) {\n          return new CurveLocation(curves[curves.length - 1], 1);\n        }\n      } else if (offset && offset.getPath && offset.getPath() === this) {\n        return offset;\n      }\n\n      return null;\n    },\n    getOffsetsWithTangent: function () {\n      var tangent = Point.read(arguments);\n\n      if (tangent.isZero()) {\n        return [];\n      }\n\n      var offsets = [];\n      var curveStart = 0;\n      var curves = this.getCurves();\n\n      for (var i = 0, l = curves.length; i < l; i++) {\n        var curve = curves[i];\n        var curveTimes = curve.getTimesWithTangent(tangent);\n\n        for (var j = 0, m = curveTimes.length; j < m; j++) {\n          var offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\n          if (offsets.indexOf(offset) < 0) {\n            offsets.push(offset);\n          }\n        }\n\n        curveStart += curve.length;\n      }\n\n      return offsets;\n    }\n  }), new function () {\n    function drawHandles(ctx, segments, matrix, size) {\n      if (size <= 0) return;\n      var half = size / 2,\n          miniSize = size - 2,\n          miniHalf = half - 1,\n          coords = new Array(6),\n          pX,\n          pY;\n\n      function drawHandle(index) {\n        var hX = coords[index],\n            hY = coords[index + 1];\n\n        if (pX != hX || pY != hY) {\n          ctx.beginPath();\n          ctx.moveTo(pX, pY);\n          ctx.lineTo(hX, hY);\n          ctx.stroke();\n          ctx.beginPath();\n          ctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n          ctx.fill();\n        }\n      }\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        var segment = segments[i],\n            selection = segment._selection;\n\n        segment._transformCoordinates(matrix, coords);\n\n        pX = coords[0];\n        pY = coords[1];\n        if (selection & 2) drawHandle(2);\n        if (selection & 4) drawHandle(4);\n        ctx.fillRect(pX - half, pY - half, size, size);\n\n        if (miniSize > 0 && !(selection & 1)) {\n          var fillStyle = ctx.fillStyle;\n          ctx.fillStyle = '#ffffff';\n          ctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n          ctx.fillStyle = fillStyle;\n        }\n      }\n    }\n\n    function drawSegments(ctx, path, matrix) {\n      var segments = path._segments,\n          length = segments.length,\n          coords = new Array(6),\n          first = true,\n          curX,\n          curY,\n          prevX,\n          prevY,\n          inX,\n          inY,\n          outX,\n          outY;\n\n      function drawSegment(segment) {\n        if (matrix) {\n          segment._transformCoordinates(matrix, coords);\n\n          curX = coords[0];\n          curY = coords[1];\n        } else {\n          var point = segment._point;\n          curX = point._x;\n          curY = point._y;\n        }\n\n        if (first) {\n          ctx.moveTo(curX, curY);\n          first = false;\n        } else {\n          if (matrix) {\n            inX = coords[2];\n            inY = coords[3];\n          } else {\n            var handle = segment._handleIn;\n            inX = curX + handle._x;\n            inY = curY + handle._y;\n          }\n\n          if (inX === curX && inY === curY && outX === prevX && outY === prevY) {\n            ctx.lineTo(curX, curY);\n          } else {\n            ctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n          }\n        }\n\n        prevX = curX;\n        prevY = curY;\n\n        if (matrix) {\n          outX = coords[4];\n          outY = coords[5];\n        } else {\n          var handle = segment._handleOut;\n          outX = prevX + handle._x;\n          outY = prevY + handle._y;\n        }\n      }\n\n      for (var i = 0; i < length; i++) drawSegment(segments[i]);\n\n      if (path._closed && length > 0) drawSegment(segments[0]);\n    }\n\n    return {\n      _draw: function (ctx, param, viewMatrix, strokeMatrix) {\n        var dontStart = param.dontStart,\n            dontPaint = param.dontFinish || param.clip,\n            style = this.getStyle(),\n            hasFill = style.hasFill(),\n            hasStroke = style.hasStroke(),\n            dashArray = style.getDashArray(),\n            dashLength = !paper.support.nativeDash && hasStroke && dashArray && dashArray.length;\n        if (!dontStart) ctx.beginPath();\n\n        if (hasFill || hasStroke && !dashLength || dontPaint) {\n          drawSegments(ctx, this, strokeMatrix);\n          if (this._closed) ctx.closePath();\n        }\n\n        function getOffset(i) {\n          return dashArray[(i % dashLength + dashLength) % dashLength];\n        }\n\n        if (!dontPaint && (hasFill || hasStroke)) {\n          this._setStyles(ctx, param, viewMatrix);\n\n          if (hasFill) {\n            ctx.fill(style.getFillRule());\n            ctx.shadowColor = 'rgba(0,0,0,0)';\n          }\n\n          if (hasStroke) {\n            if (dashLength) {\n              if (!dontStart) ctx.beginPath();\n              var flattener = new PathFlattener(this, 0.25, 32, false, strokeMatrix),\n                  length = flattener.length,\n                  from = -style.getDashOffset(),\n                  to,\n                  i = 0;\n\n              while (from > 0) {\n                from -= getOffset(i--) + getOffset(i--);\n              }\n\n              while (from < length) {\n                to = from + getOffset(i++);\n                if (from > 0 || to > 0) flattener.drawPart(ctx, Math.max(from, 0), Math.max(to, 0));\n                from = to + getOffset(i++);\n              }\n            }\n\n            ctx.stroke();\n          }\n        }\n      },\n      _drawSelected: function (ctx, matrix) {\n        ctx.beginPath();\n        drawSegments(ctx, this, matrix);\n        ctx.stroke();\n        drawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n      }\n    };\n  }(), new function () {\n    function getCurrentSegment(that) {\n      var segments = that._segments;\n      if (!segments.length) throw new Error('Use a moveTo() command first');\n      return segments[segments.length - 1];\n    }\n\n    return {\n      moveTo: function () {\n        var segments = this._segments;\n        if (segments.length === 1) this.removeSegment(0);\n        if (!segments.length) this._add([new Segment(Point.read(arguments))]);\n      },\n      moveBy: function () {\n        throw new Error('moveBy() is unsupported on Path items.');\n      },\n      lineTo: function () {\n        this._add([new Segment(Point.read(arguments))]);\n      },\n      cubicCurveTo: function () {\n        var args = arguments,\n            handle1 = Point.read(args),\n            handle2 = Point.read(args),\n            to = Point.read(args),\n            current = getCurrentSegment(this);\n        current.setHandleOut(handle1.subtract(current._point));\n\n        this._add([new Segment(to, handle2.subtract(to))]);\n      },\n      quadraticCurveTo: function () {\n        var args = arguments,\n            handle = Point.read(args),\n            to = Point.read(args),\n            current = getCurrentSegment(this)._point;\n\n        this.cubicCurveTo(handle.add(current.subtract(handle).multiply(1 / 3)), handle.add(to.subtract(handle).multiply(1 / 3)), to);\n      },\n      curveTo: function () {\n        var args = arguments,\n            through = Point.read(args),\n            to = Point.read(args),\n            t = Base.pick(Base.read(args), 0.5),\n            t1 = 1 - t,\n            current = getCurrentSegment(this)._point,\n            handle = through.subtract(current.multiply(t1 * t1)).subtract(to.multiply(t * t)).divide(2 * t * t1);\n\n        if (handle.isNaN()) throw new Error('Cannot put a curve through points with parameter = ' + t);\n        this.quadraticCurveTo(handle, to);\n      },\n      arcTo: function () {\n        var args = arguments,\n            abs = Math.abs,\n            sqrt = Math.sqrt,\n            current = getCurrentSegment(this),\n            from = current._point,\n            to = Point.read(args),\n            through,\n            peek = Base.peek(args),\n            clockwise = Base.pick(peek, true),\n            center,\n            extent,\n            vector,\n            matrix;\n\n        if (typeof clockwise === 'boolean') {\n          var middle = from.add(to).divide(2),\n              through = middle.add(middle.subtract(from).rotate(clockwise ? -90 : 90));\n        } else if (Base.remain(args) <= 2) {\n          through = to;\n          to = Point.read(args);\n        } else if (!from.equals(to)) {\n          var radius = Size.read(args),\n              isZero = Numerical.isZero;\n          if (isZero(radius.width) || isZero(radius.height)) return this.lineTo(to);\n          var rotation = Base.read(args),\n              clockwise = !!Base.read(args),\n              large = !!Base.read(args),\n              middle = from.add(to).divide(2),\n              pt = from.subtract(middle).rotate(-rotation),\n              x = pt.x,\n              y = pt.y,\n              rx = abs(radius.width),\n              ry = abs(radius.height),\n              rxSq = rx * rx,\n              rySq = ry * ry,\n              xSq = x * x,\n              ySq = y * y;\n          var factor = sqrt(xSq / rxSq + ySq / rySq);\n\n          if (factor > 1) {\n            rx *= factor;\n            ry *= factor;\n            rxSq = rx * rx;\n            rySq = ry * ry;\n          }\n\n          factor = (rxSq * rySq - rxSq * ySq - rySq * xSq) / (rxSq * ySq + rySq * xSq);\n          if (abs(factor) < 1e-12) factor = 0;\n          if (factor < 0) throw new Error('Cannot create an arc with the given arguments');\n          center = new Point(rx * y / ry, -ry * x / rx).multiply((large === clockwise ? -1 : 1) * sqrt(factor)).rotate(rotation).add(middle);\n          matrix = new Matrix().translate(center).rotate(rotation).scale(rx, ry);\n          vector = matrix._inverseTransform(from);\n          extent = vector.getDirectedAngle(matrix._inverseTransform(to));\n          if (!clockwise && extent > 0) extent -= 360;else if (clockwise && extent < 0) extent += 360;\n        }\n\n        if (through) {\n          var l1 = new Line(from.add(through).divide(2), through.subtract(from).rotate(90), true),\n              l2 = new Line(through.add(to).divide(2), to.subtract(through).rotate(90), true),\n              line = new Line(from, to),\n              throughSide = line.getSide(through);\n          center = l1.intersect(l2, true);\n\n          if (!center) {\n            if (!throughSide) return this.lineTo(to);\n            throw new Error('Cannot create an arc with the given arguments');\n          }\n\n          vector = from.subtract(center);\n          extent = vector.getDirectedAngle(to.subtract(center));\n          var centerSide = line.getSide(center, true);\n\n          if (centerSide === 0) {\n            extent = throughSide * abs(extent);\n          } else if (throughSide === centerSide) {\n            extent += extent < 0 ? 360 : -360;\n          }\n        }\n\n        if (extent) {\n          var epsilon = 1e-7,\n              ext = abs(extent),\n              count = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n              inc = extent / count,\n              half = inc * Math.PI / 360,\n              z = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n              segments = [];\n\n          for (var i = 0; i <= count; i++) {\n            var pt = to,\n                out = null;\n\n            if (i < count) {\n              out = vector.rotate(90).multiply(z);\n\n              if (matrix) {\n                pt = matrix._transformPoint(vector);\n                out = matrix._transformPoint(vector.add(out)).subtract(pt);\n              } else {\n                pt = center.add(vector);\n              }\n            }\n\n            if (!i) {\n              current.setHandleOut(out);\n            } else {\n              var _in = vector.rotate(-90).multiply(z);\n\n              if (matrix) {\n                _in = matrix._transformPoint(vector.add(_in)).subtract(pt);\n              }\n\n              segments.push(new Segment(pt, _in, out));\n            }\n\n            vector = vector.rotate(inc);\n          }\n\n          this._add(segments);\n        }\n      },\n      lineBy: function () {\n        var to = Point.read(arguments),\n            current = getCurrentSegment(this)._point;\n\n        this.lineTo(current.add(to));\n      },\n      curveBy: function () {\n        var args = arguments,\n            through = Point.read(args),\n            to = Point.read(args),\n            parameter = Base.read(args),\n            current = getCurrentSegment(this)._point;\n\n        this.curveTo(current.add(through), current.add(to), parameter);\n      },\n      cubicCurveBy: function () {\n        var args = arguments,\n            handle1 = Point.read(args),\n            handle2 = Point.read(args),\n            to = Point.read(args),\n            current = getCurrentSegment(this)._point;\n\n        this.cubicCurveTo(current.add(handle1), current.add(handle2), current.add(to));\n      },\n      quadraticCurveBy: function () {\n        var args = arguments,\n            handle = Point.read(args),\n            to = Point.read(args),\n            current = getCurrentSegment(this)._point;\n\n        this.quadraticCurveTo(current.add(handle), current.add(to));\n      },\n      arcBy: function () {\n        var args = arguments,\n            current = getCurrentSegment(this)._point,\n            point = current.add(Point.read(args)),\n            clockwise = Base.pick(Base.peek(args), true);\n\n        if (typeof clockwise === 'boolean') {\n          this.arcTo(point, clockwise);\n        } else {\n          this.arcTo(point, current.add(Point.read(args)));\n        }\n      },\n      closePath: function (tolerance) {\n        this.setClosed(true);\n        this.join(this, tolerance);\n      }\n    };\n  }(), {\n    _getBounds: function (matrix, options) {\n      var method = options.handle ? 'getHandleBounds' : options.stroke ? 'getStrokeBounds' : 'getBounds';\n      return Path[method](this._segments, this._closed, this, matrix, options);\n    },\n    statics: {\n      getBounds: function (segments, closed, path, matrix, options, strokePadding) {\n        var first = segments[0];\n        if (!first) return new Rectangle();\n\n        var coords = new Array(6),\n            prevCoords = first._transformCoordinates(matrix, new Array(6)),\n            min = prevCoords.slice(0, 2),\n            max = min.slice(),\n            roots = new Array(2);\n\n        function processSegment(segment) {\n          segment._transformCoordinates(matrix, coords);\n\n          for (var i = 0; i < 2; i++) {\n            Curve._addBounds(prevCoords[i], prevCoords[i + 4], coords[i + 2], coords[i], i, strokePadding ? strokePadding[i] : 0, min, max, roots);\n          }\n\n          var tmp = prevCoords;\n          prevCoords = coords;\n          coords = tmp;\n        }\n\n        for (var i = 1, l = segments.length; i < l; i++) processSegment(segments[i]);\n\n        if (closed) processSegment(first);\n        return new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n      },\n      getStrokeBounds: function (segments, closed, path, matrix, options) {\n        var style = path.getStyle(),\n            stroke = style.hasStroke(),\n            strokeWidth = style.getStrokeWidth(),\n            strokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n            strokePadding = stroke && Path._getStrokePadding(strokeWidth, strokeMatrix),\n            bounds = Path.getBounds(segments, closed, path, matrix, options, strokePadding);\n\n        if (!stroke) return bounds;\n        var strokeRadius = strokeWidth / 2,\n            join = style.getStrokeJoin(),\n            cap = style.getStrokeCap(),\n            miterLimit = style.getMiterLimit(),\n            joinBounds = new Rectangle(new Size(strokePadding));\n\n        function addPoint(point) {\n          bounds = bounds.include(point);\n        }\n\n        function addRound(segment) {\n          bounds = bounds.unite(joinBounds.setCenter(segment._point.transform(matrix)));\n        }\n\n        function addJoin(segment, join) {\n          if (join === 'round' || segment.isSmooth()) {\n            addRound(segment);\n          } else {\n            Path._addBevelJoin(segment, join, strokeRadius, miterLimit, matrix, strokeMatrix, addPoint);\n          }\n        }\n\n        function addCap(segment, cap) {\n          if (cap === 'round') {\n            addRound(segment);\n          } else {\n            Path._addSquareCap(segment, cap, strokeRadius, matrix, strokeMatrix, addPoint);\n          }\n        }\n\n        var length = segments.length - (closed ? 0 : 1);\n\n        if (length > 0) {\n          for (var i = 1; i < length; i++) {\n            addJoin(segments[i], join);\n          }\n\n          if (closed) {\n            addJoin(segments[0], join);\n          } else {\n            addCap(segments[0], cap);\n            addCap(segments[segments.length - 1], cap);\n          }\n        }\n\n        return bounds;\n      },\n      _getStrokePadding: function (radius, matrix) {\n        if (!matrix) return [radius, radius];\n        var hor = new Point(radius, 0).transform(matrix),\n            ver = new Point(0, radius).transform(matrix),\n            phi = hor.getAngleInRadians(),\n            a = hor.getLength(),\n            b = ver.getLength();\n        var sin = Math.sin(phi),\n            cos = Math.cos(phi),\n            tan = Math.tan(phi),\n            tx = Math.atan2(b * tan, a),\n            ty = Math.atan2(b, tan * a);\n        return [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin), Math.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n      },\n      _addBevelJoin: function (segment, join, radius, miterLimit, matrix, strokeMatrix, addPoint, isArea) {\n        var curve2 = segment.getCurve(),\n            curve1 = curve2.getPrevious(),\n            point = curve2.getPoint1().transform(matrix),\n            normal1 = curve1.getNormalAtTime(1).multiply(radius).transform(strokeMatrix),\n            normal2 = curve2.getNormalAtTime(0).multiply(radius).transform(strokeMatrix),\n            angle = normal1.getDirectedAngle(normal2);\n\n        if (angle < 0 || angle >= 180) {\n          normal1 = normal1.negate();\n          normal2 = normal2.negate();\n        }\n\n        if (isArea) addPoint(point);\n        addPoint(point.add(normal1));\n\n        if (join === 'miter') {\n          var corner = new Line(point.add(normal1), new Point(-normal1.y, normal1.x), true).intersect(new Line(point.add(normal2), new Point(-normal2.y, normal2.x), true), true);\n\n          if (corner && point.getDistance(corner) <= miterLimit * radius) {\n            addPoint(corner);\n          }\n        }\n\n        addPoint(point.add(normal2));\n      },\n      _addSquareCap: function (segment, cap, radius, matrix, strokeMatrix, addPoint, isArea) {\n        var point = segment._point.transform(matrix),\n            loc = segment.getLocation(),\n            normal = loc.getNormal().multiply(loc.getTime() === 0 ? radius : -radius).transform(strokeMatrix);\n\n        if (cap === 'square') {\n          if (isArea) {\n            addPoint(point.subtract(normal));\n            addPoint(point.add(normal));\n          }\n\n          point = point.add(normal.rotate(-90));\n        }\n\n        addPoint(point.add(normal));\n        addPoint(point.subtract(normal));\n      },\n      getHandleBounds: function (segments, closed, path, matrix, options) {\n        var style = path.getStyle(),\n            stroke = options.stroke && style.hasStroke(),\n            strokePadding,\n            joinPadding;\n\n        if (stroke) {\n          var strokeMatrix = path._getStrokeMatrix(matrix, options),\n              strokeRadius = style.getStrokeWidth() / 2,\n              joinRadius = strokeRadius;\n\n          if (style.getStrokeJoin() === 'miter') joinRadius = strokeRadius * style.getMiterLimit();\n          if (style.getStrokeCap() === 'square') joinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n          strokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n          joinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n        }\n\n        var coords = new Array(6),\n            x1 = Infinity,\n            x2 = -x1,\n            y1 = x1,\n            y2 = x2;\n\n        for (var i = 0, l = segments.length; i < l; i++) {\n          var segment = segments[i];\n\n          segment._transformCoordinates(matrix, coords);\n\n          for (var j = 0; j < 6; j += 2) {\n            var padding = !j ? joinPadding : strokePadding,\n                paddingX = padding ? padding[0] : 0,\n                paddingY = padding ? padding[1] : 0,\n                x = coords[j],\n                y = coords[j + 1],\n                xn = x - paddingX,\n                xx = x + paddingX,\n                yn = y - paddingY,\n                yx = y + paddingY;\n            if (xn < x1) x1 = xn;\n            if (xx > x2) x2 = xx;\n            if (yn < y1) y1 = yn;\n            if (yx > y2) y2 = yx;\n          }\n        }\n\n        return new Rectangle(x1, y1, x2 - x1, y2 - y1);\n      }\n    }\n  });\n  Path.inject({\n    statics: new function () {\n      var kappa = 0.5522847498307936,\n          ellipseSegments = [new Segment([-1, 0], [0, kappa], [0, -kappa]), new Segment([0, -1], [-kappa, 0], [kappa, 0]), new Segment([1, 0], [0, -kappa], [0, kappa]), new Segment([0, 1], [kappa, 0], [-kappa, 0])];\n\n      function createPath(segments, closed, args) {\n        var props = Base.getNamed(args),\n            path = new Path(props && props.insert == false && Item.NO_INSERT);\n\n        path._add(segments);\n\n        path._closed = closed;\n        return path.set(props, {\n          insert: true\n        });\n      }\n\n      function createEllipse(center, radius, args) {\n        var segments = new Array(4);\n\n        for (var i = 0; i < 4; i++) {\n          var segment = ellipseSegments[i];\n          segments[i] = new Segment(segment._point.multiply(radius).add(center), segment._handleIn.multiply(radius), segment._handleOut.multiply(radius));\n        }\n\n        return createPath(segments, true, args);\n      }\n\n      return {\n        Line: function () {\n          var args = arguments;\n          return createPath([new Segment(Point.readNamed(args, 'from')), new Segment(Point.readNamed(args, 'to'))], false, args);\n        },\n        Circle: function () {\n          var args = arguments,\n              center = Point.readNamed(args, 'center'),\n              radius = Base.readNamed(args, 'radius');\n          return createEllipse(center, new Size(radius), args);\n        },\n        Rectangle: function () {\n          var args = arguments,\n              rect = Rectangle.readNamed(args, 'rectangle'),\n              radius = Size.readNamed(args, 'radius', 0, {\n            readNull: true\n          }),\n              bl = rect.getBottomLeft(true),\n              tl = rect.getTopLeft(true),\n              tr = rect.getTopRight(true),\n              br = rect.getBottomRight(true),\n              segments;\n\n          if (!radius || radius.isZero()) {\n            segments = [new Segment(bl), new Segment(tl), new Segment(tr), new Segment(br)];\n          } else {\n            radius = Size.min(radius, rect.getSize(true).divide(2));\n            var rx = radius.width,\n                ry = radius.height,\n                hx = rx * kappa,\n                hy = ry * kappa;\n            segments = [new Segment(bl.add(rx, 0), null, [-hx, 0]), new Segment(bl.subtract(0, ry), [0, hy]), new Segment(tl.add(0, ry), null, [0, -hy]), new Segment(tl.add(rx, 0), [-hx, 0], null), new Segment(tr.subtract(rx, 0), null, [hx, 0]), new Segment(tr.add(0, ry), [0, -hy], null), new Segment(br.subtract(0, ry), null, [0, hy]), new Segment(br.subtract(rx, 0), [hx, 0])];\n          }\n\n          return createPath(segments, true, args);\n        },\n        RoundRectangle: '#Rectangle',\n        Ellipse: function () {\n          var args = arguments,\n              ellipse = Shape._readEllipse(args);\n\n          return createEllipse(ellipse.center, ellipse.radius, args);\n        },\n        Oval: '#Ellipse',\n        Arc: function () {\n          var args = arguments,\n              from = Point.readNamed(args, 'from'),\n              through = Point.readNamed(args, 'through'),\n              to = Point.readNamed(args, 'to'),\n              props = Base.getNamed(args),\n              path = new Path(props && props.insert == false && Item.NO_INSERT);\n          path.moveTo(from);\n          path.arcTo(through, to);\n          return path.set(props);\n        },\n        RegularPolygon: function () {\n          var args = arguments,\n              center = Point.readNamed(args, 'center'),\n              sides = Base.readNamed(args, 'sides'),\n              radius = Base.readNamed(args, 'radius'),\n              step = 360 / sides,\n              three = sides % 3 === 0,\n              vector = new Point(0, three ? -radius : radius),\n              offset = three ? -1 : 0.5,\n              segments = new Array(sides);\n\n          for (var i = 0; i < sides; i++) segments[i] = new Segment(center.add(vector.rotate((i + offset) * step)));\n\n          return createPath(segments, true, args);\n        },\n        Star: function () {\n          var args = arguments,\n              center = Point.readNamed(args, 'center'),\n              points = Base.readNamed(args, 'points') * 2,\n              radius1 = Base.readNamed(args, 'radius1'),\n              radius2 = Base.readNamed(args, 'radius2'),\n              step = 360 / points,\n              vector = new Point(0, -1),\n              segments = new Array(points);\n\n          for (var i = 0; i < points; i++) segments[i] = new Segment(center.add(vector.rotate(step * i).multiply(i % 2 ? radius2 : radius1)));\n\n          return createPath(segments, true, args);\n        }\n      };\n    }()\n  });\n  var CompoundPath = PathItem.extend({\n    _class: 'CompoundPath',\n    _serializeFields: {\n      children: []\n    },\n    beans: true,\n    initialize: function CompoundPath(arg) {\n      this._children = [];\n      this._namedChildren = {};\n\n      if (!this._initialize(arg)) {\n        if (typeof arg === 'string') {\n          this.setPathData(arg);\n        } else {\n          this.addChildren(Array.isArray(arg) ? arg : arguments);\n        }\n      }\n    },\n    insertChildren: function insertChildren(index, items) {\n      var list = items,\n          first = list[0];\n      if (first && typeof first[0] === 'number') list = [list];\n\n      for (var i = items.length - 1; i >= 0; i--) {\n        var item = list[i];\n        if (list === items && !(item instanceof Path)) list = Base.slice(list);\n\n        if (Array.isArray(item)) {\n          list[i] = new Path({\n            segments: item,\n            insert: false\n          });\n        } else if (item instanceof CompoundPath) {\n          list.splice.apply(list, [i, 1].concat(item.removeChildren()));\n          item.remove();\n        }\n      }\n\n      return insertChildren.base.call(this, index, list);\n    },\n    reduce: function reduce(options) {\n      var children = this._children;\n\n      for (var i = children.length - 1; i >= 0; i--) {\n        var path = children[i].reduce(options);\n        if (path.isEmpty()) path.remove();\n      }\n\n      if (!children.length) {\n        var path = new Path(Item.NO_INSERT);\n        path.copyAttributes(this);\n        path.insertAbove(this);\n        this.remove();\n        return path;\n      }\n\n      return reduce.base.call(this);\n    },\n    isClosed: function () {\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        if (!children[i]._closed) return false;\n      }\n\n      return true;\n    },\n    setClosed: function (closed) {\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].setClosed(closed);\n      }\n    },\n    getFirstSegment: function () {\n      var first = this.getFirstChild();\n      return first && first.getFirstSegment();\n    },\n    getLastSegment: function () {\n      var last = this.getLastChild();\n      return last && last.getLastSegment();\n    },\n    getCurves: function () {\n      var children = this._children,\n          curves = [];\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        Base.push(curves, children[i].getCurves());\n      }\n\n      return curves;\n    },\n    getFirstCurve: function () {\n      var first = this.getFirstChild();\n      return first && first.getFirstCurve();\n    },\n    getLastCurve: function () {\n      var last = this.getLastChild();\n      return last && last.getLastCurve();\n    },\n    getArea: function () {\n      var children = this._children,\n          area = 0;\n\n      for (var i = 0, l = children.length; i < l; i++) area += children[i].getArea();\n\n      return area;\n    },\n    getLength: function () {\n      var children = this._children,\n          length = 0;\n\n      for (var i = 0, l = children.length; i < l; i++) length += children[i].getLength();\n\n      return length;\n    },\n    getPathData: function (_matrix, _precision) {\n      var children = this._children,\n          paths = [];\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        var child = children[i],\n            mx = child._matrix;\n        paths.push(child.getPathData(_matrix && !mx.isIdentity() ? _matrix.appended(mx) : _matrix, _precision));\n      }\n\n      return paths.join('');\n    },\n    _hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n      return _hitTestChildren.base.call(this, point, options.class === Path || options.type === 'path' ? options : Base.set({}, options, {\n        fill: false\n      }), viewMatrix);\n    },\n    _draw: function (ctx, param, viewMatrix, strokeMatrix) {\n      var children = this._children;\n      if (!children.length) return;\n      param = param.extend({\n        dontStart: true,\n        dontFinish: true\n      });\n      ctx.beginPath();\n\n      for (var i = 0, l = children.length; i < l; i++) children[i].draw(ctx, param, strokeMatrix);\n\n      if (!param.clip) {\n        this._setStyles(ctx, param, viewMatrix);\n\n        var style = this._style;\n\n        if (style.hasFill()) {\n          ctx.fill(style.getFillRule());\n          ctx.shadowColor = 'rgba(0,0,0,0)';\n        }\n\n        if (style.hasStroke()) ctx.stroke();\n      }\n    },\n    _drawSelected: function (ctx, matrix, selectionItems) {\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        var child = children[i],\n            mx = child._matrix;\n\n        if (!selectionItems[child._id]) {\n          child._drawSelected(ctx, mx.isIdentity() ? matrix : matrix.appended(mx));\n        }\n      }\n    }\n  }, new function () {\n    function getCurrentPath(that, check) {\n      var children = that._children;\n      if (check && !children.length) throw new Error('Use a moveTo() command first');\n      return children[children.length - 1];\n    }\n\n    return Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo', 'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy', 'arcBy'], function (key) {\n      this[key] = function () {\n        var path = getCurrentPath(this, true);\n        path[key].apply(path, arguments);\n      };\n    }, {\n      moveTo: function () {\n        var current = getCurrentPath(this),\n            path = current && current.isEmpty() ? current : new Path(Item.NO_INSERT);\n        if (path !== current) this.addChild(path);\n        path.moveTo.apply(path, arguments);\n      },\n      moveBy: function () {\n        var current = getCurrentPath(this, true),\n            last = current && current.getLastSegment(),\n            point = Point.read(arguments);\n        this.moveTo(last ? point.add(last._point) : point);\n      },\n      closePath: function (tolerance) {\n        getCurrentPath(this, true).closePath(tolerance);\n      }\n    });\n  }(), Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function (key) {\n    this[key] = function (param) {\n      var children = this._children,\n          res;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        res = children[i][key](param) || res;\n      }\n\n      return res;\n    };\n  }, {}));\n  PathItem.inject(new function () {\n    var min = Math.min,\n        max = Math.max,\n        abs = Math.abs,\n        operators = {\n      unite: {\n        '1': true,\n        '2': true\n      },\n      intersect: {\n        '2': true\n      },\n      subtract: {\n        '1': true\n      },\n      exclude: {\n        '1': true,\n        '-1': true\n      }\n    };\n\n    function getPaths(path) {\n      return path._children || [path];\n    }\n\n    function preparePath(path, resolve) {\n      var res = path.clone(false).reduce({\n        simplify: true\n      }).transform(null, true, true);\n\n      if (resolve) {\n        var paths = getPaths(res);\n\n        for (var i = 0, l = paths.length; i < l; i++) {\n          var path = paths[i];\n\n          if (!path._closed && !path.isEmpty()) {\n            path.closePath(1e-12);\n            path.getFirstSegment().setHandleIn(0, 0);\n            path.getLastSegment().setHandleOut(0, 0);\n          }\n        }\n\n        res = res.resolveCrossings().reorient(res.getFillRule() === 'nonzero', true);\n      }\n\n      return res;\n    }\n\n    function createResult(paths, simplify, path1, path2, options) {\n      var result = new CompoundPath(Item.NO_INSERT);\n      result.addChildren(paths, true);\n      result = result.reduce({\n        simplify: simplify\n      });\n\n      if (!(options && options.insert == false)) {\n        result.insertAbove(path2 && path1.isSibling(path2) && path1.getIndex() < path2.getIndex() ? path2 : path1);\n      }\n\n      result.copyAttributes(path1, true);\n      return result;\n    }\n\n    function filterIntersection(inter) {\n      return inter.hasOverlap() || inter.isCrossing();\n    }\n\n    function traceBoolean(path1, path2, operation, options) {\n      if (options && (options.trace == false || options.stroke) && /^(subtract|intersect)$/.test(operation)) return splitBoolean(path1, path2, operation);\n\n      var _path1 = preparePath(path1, true),\n          _path2 = path2 && path1 !== path2 && preparePath(path2, true),\n          operator = operators[operation];\n\n      operator[operation] = true;\n      if (_path2 && (operator.subtract || operator.exclude) ^ (_path2.isClockwise() ^ _path1.isClockwise())) _path2.reverse();\n\n      var crossings = divideLocations(CurveLocation.expand(_path1.getIntersections(_path2, filterIntersection))),\n          paths1 = getPaths(_path1),\n          paths2 = _path2 && getPaths(_path2),\n          segments = [],\n          curves = [],\n          paths;\n\n      function collectPaths(paths) {\n        for (var i = 0, l = paths.length; i < l; i++) {\n          var path = paths[i];\n          Base.push(segments, path._segments);\n          Base.push(curves, path.getCurves());\n          path._overlapsOnly = true;\n        }\n      }\n\n      function getCurves(indices) {\n        var list = [];\n\n        for (var i = 0, l = indices && indices.length; i < l; i++) {\n          list.push(curves[indices[i]]);\n        }\n\n        return list;\n      }\n\n      if (crossings.length) {\n        collectPaths(paths1);\n        if (paths2) collectPaths(paths2);\n        var curvesValues = new Array(curves.length);\n\n        for (var i = 0, l = curves.length; i < l; i++) {\n          curvesValues[i] = curves[i].getValues();\n        }\n\n        var curveCollisions = CollisionDetection.findCurveBoundsCollisions(curvesValues, curvesValues, 0, true);\n        var curveCollisionsMap = {};\n\n        for (var i = 0; i < curves.length; i++) {\n          var curve = curves[i],\n              id = curve._path._id,\n              map = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n          map[curve.getIndex()] = {\n            hor: getCurves(curveCollisions[i].hor),\n            ver: getCurves(curveCollisions[i].ver)\n          };\n        }\n\n        for (var i = 0, l = crossings.length; i < l; i++) {\n          propagateWinding(crossings[i]._segment, _path1, _path2, curveCollisionsMap, operator);\n        }\n\n        for (var i = 0, l = segments.length; i < l; i++) {\n          var segment = segments[i],\n              inter = segment._intersection;\n\n          if (!segment._winding) {\n            propagateWinding(segment, _path1, _path2, curveCollisionsMap, operator);\n          }\n\n          if (!(inter && inter._overlap)) segment._path._overlapsOnly = false;\n        }\n\n        paths = tracePaths(segments, operator);\n      } else {\n        paths = reorientPaths(paths2 ? paths1.concat(paths2) : paths1.slice(), function (w) {\n          return !!operator[w];\n        });\n      }\n\n      return createResult(paths, true, path1, path2, options);\n    }\n\n    function splitBoolean(path1, path2, operation) {\n      var _path1 = preparePath(path1),\n          _path2 = preparePath(path2),\n          crossings = _path1.getIntersections(_path2, filterIntersection),\n          subtract = operation === 'subtract',\n          divide = operation === 'divide',\n          added = {},\n          paths = [];\n\n      function addPath(path) {\n        if (!added[path._id] && (divide || _path2.contains(path.getPointAt(path.getLength() / 2)) ^ subtract)) {\n          paths.unshift(path);\n          return added[path._id] = true;\n        }\n      }\n\n      for (var i = crossings.length - 1; i >= 0; i--) {\n        var path = crossings[i].split();\n\n        if (path) {\n          if (addPath(path)) path.getFirstSegment().setHandleIn(0, 0);\n\n          _path1.getLastSegment().setHandleOut(0, 0);\n        }\n      }\n\n      addPath(_path1);\n      return createResult(paths, false, path1, path2);\n    }\n\n    function linkIntersections(from, to) {\n      var prev = from;\n\n      while (prev) {\n        if (prev === to) return;\n        prev = prev._previous;\n      }\n\n      while (from._next && from._next !== to) from = from._next;\n\n      if (!from._next) {\n        while (to._previous) to = to._previous;\n\n        from._next = to;\n        to._previous = from;\n      }\n    }\n\n    function clearCurveHandles(curves) {\n      for (var i = curves.length - 1; i >= 0; i--) curves[i].clearHandles();\n    }\n\n    function reorientPaths(paths, isInside, clockwise) {\n      var length = paths && paths.length;\n\n      if (length) {\n        var lookup = Base.each(paths, function (path, i) {\n          this[path._id] = {\n            container: null,\n            winding: path.isClockwise() ? 1 : -1,\n            index: i\n          };\n        }, {}),\n            sorted = paths.slice().sort(function (a, b) {\n          return abs(b.getArea()) - abs(a.getArea());\n        }),\n            first = sorted[0];\n        var collisions = CollisionDetection.findItemBoundsCollisions(sorted, null, Numerical.GEOMETRIC_EPSILON);\n        if (clockwise == null) clockwise = first.isClockwise();\n\n        for (var i = 0; i < length; i++) {\n          var path1 = sorted[i],\n              entry1 = lookup[path1._id],\n              containerWinding = 0,\n              indices = collisions[i];\n\n          if (indices) {\n            var point = null;\n\n            for (var j = indices.length - 1; j >= 0; j--) {\n              if (indices[j] < i) {\n                point = point || path1.getInteriorPoint();\n                var path2 = sorted[indices[j]];\n\n                if (path2.contains(point)) {\n                  var entry2 = lookup[path2._id];\n                  containerWinding = entry2.winding;\n                  entry1.winding += containerWinding;\n                  entry1.container = entry2.exclude ? entry2.container : path2;\n                  break;\n                }\n              }\n            }\n          }\n\n          if (isInside(entry1.winding) === isInside(containerWinding)) {\n            entry1.exclude = true;\n            paths[entry1.index] = null;\n          } else {\n            var container = entry1.container;\n            path1.setClockwise(container ? !container.isClockwise() : clockwise);\n          }\n        }\n      }\n\n      return paths;\n    }\n\n    function divideLocations(locations, include, clearLater) {\n      var results = include && [],\n          tMin = 1e-8,\n          tMax = 1 - tMin,\n          clearHandles = false,\n          clearCurves = clearLater || [],\n          clearLookup = clearLater && {},\n          renormalizeLocs,\n          prevCurve,\n          prevTime;\n\n      function getId(curve) {\n        return curve._path._id + '.' + curve._segment1._index;\n      }\n\n      for (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n        var curve = clearLater[i];\n        if (curve._path) clearLookup[getId(curve)] = true;\n      }\n\n      for (var i = locations.length - 1; i >= 0; i--) {\n        var loc = locations[i],\n            time = loc._time,\n            origTime = time,\n            exclude = include && !include(loc),\n            curve = loc._curve,\n            segment;\n\n        if (curve) {\n          if (curve !== prevCurve) {\n            clearHandles = !curve.hasHandles() || clearLookup && clearLookup[getId(curve)];\n            renormalizeLocs = [];\n            prevTime = null;\n            prevCurve = curve;\n          } else if (prevTime >= tMin) {\n            time /= prevTime;\n          }\n        }\n\n        if (exclude) {\n          if (renormalizeLocs) renormalizeLocs.push(loc);\n          continue;\n        } else if (include) {\n          results.unshift(loc);\n        }\n\n        prevTime = origTime;\n\n        if (time < tMin) {\n          segment = curve._segment1;\n        } else if (time > tMax) {\n          segment = curve._segment2;\n        } else {\n          var newCurve = curve.divideAtTime(time, true);\n          if (clearHandles) clearCurves.push(curve, newCurve);\n          segment = newCurve._segment1;\n\n          for (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n            var l = renormalizeLocs[j];\n            l._time = (l._time - time) / (1 - time);\n          }\n        }\n\n        loc._setSegment(segment);\n\n        var inter = segment._intersection,\n            dest = loc._intersection;\n\n        if (inter) {\n          linkIntersections(inter, dest);\n          var other = inter;\n\n          while (other) {\n            linkIntersections(other._intersection, inter);\n            other = other._next;\n          }\n        } else {\n          segment._intersection = dest;\n        }\n      }\n\n      if (!clearLater) clearCurveHandles(clearCurves);\n      return results || locations;\n    }\n\n    function getWinding(point, curves, dir, closed, dontFlip) {\n      var curvesList = Array.isArray(curves) ? curves : curves[dir ? 'hor' : 'ver'];\n      var ia = dir ? 1 : 0,\n          io = ia ^ 1,\n          pv = [point.x, point.y],\n          pa = pv[ia],\n          po = pv[io],\n          windingEpsilon = 1e-9,\n          qualityEpsilon = 1e-6,\n          paL = pa - windingEpsilon,\n          paR = pa + windingEpsilon,\n          windingL = 0,\n          windingR = 0,\n          pathWindingL = 0,\n          pathWindingR = 0,\n          onPath = false,\n          onAnyPath = false,\n          quality = 1,\n          roots = [],\n          vPrev,\n          vClose;\n\n      function addWinding(v) {\n        var o0 = v[io + 0],\n            o3 = v[io + 6];\n\n        if (po < min(o0, o3) || po > max(o0, o3)) {\n          return;\n        }\n\n        var a0 = v[ia + 0],\n            a1 = v[ia + 2],\n            a2 = v[ia + 4],\n            a3 = v[ia + 6];\n\n        if (o0 === o3) {\n          if (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n            onPath = true;\n          }\n\n          return;\n        }\n\n        var t = po === o0 ? 0 : po === o3 ? 1 : paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3) ? 1 : Curve.solveCubic(v, io, po, roots, 0, 1) > 0 ? roots[0] : 1,\n            a = t === 0 ? a0 : t === 1 ? a3 : Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n            winding = o0 > o3 ? 1 : -1,\n            windingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n            a3Prev = vPrev[ia + 6];\n\n        if (po !== o0) {\n          if (a < paL) {\n            pathWindingL += winding;\n          } else if (a > paR) {\n            pathWindingR += winding;\n          } else {\n            onPath = true;\n          }\n\n          if (a > pa - qualityEpsilon && a < pa + qualityEpsilon) quality /= 2;\n        } else {\n          if (winding !== windingPrev) {\n            if (a0 < paL) {\n              pathWindingL += winding;\n            } else if (a0 > paR) {\n              pathWindingR += winding;\n            }\n          } else if (a0 != a3Prev) {\n            if (a3Prev < paR && a > paR) {\n              pathWindingR += winding;\n              onPath = true;\n            } else if (a3Prev > paL && a < paL) {\n              pathWindingL += winding;\n              onPath = true;\n            }\n          }\n\n          quality /= 4;\n        }\n\n        vPrev = v;\n        return !dontFlip && a > paL && a < paR && Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0 && getWinding(point, curves, !dir, closed, true);\n      }\n\n      function handleCurve(v) {\n        var o0 = v[io + 0],\n            o1 = v[io + 2],\n            o2 = v[io + 4],\n            o3 = v[io + 6];\n\n        if (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n          var a0 = v[ia + 0],\n              a1 = v[ia + 2],\n              a2 = v[ia + 4],\n              a3 = v[ia + 6],\n              monoCurves = paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3) ? [v] : Curve.getMonoCurves(v, dir),\n              res;\n\n          for (var i = 0, l = monoCurves.length; i < l; i++) {\n            if (res = addWinding(monoCurves[i])) return res;\n          }\n        }\n      }\n\n      for (var i = 0, l = curvesList.length; i < l; i++) {\n        var curve = curvesList[i],\n            path = curve._path,\n            v = curve.getValues(),\n            res;\n\n        if (!i || curvesList[i - 1]._path !== path) {\n          vPrev = null;\n\n          if (!path._closed) {\n            vClose = Curve.getValues(path.getLastCurve().getSegment2(), curve.getSegment1(), null, !closed);\n\n            if (vClose[io] !== vClose[io + 6]) {\n              vPrev = vClose;\n            }\n          }\n\n          if (!vPrev) {\n            vPrev = v;\n            var prev = path.getLastCurve();\n\n            while (prev && prev !== curve) {\n              var v2 = prev.getValues();\n\n              if (v2[io] !== v2[io + 6]) {\n                vPrev = v2;\n                break;\n              }\n\n              prev = prev.getPrevious();\n            }\n          }\n        }\n\n        if (res = handleCurve(v)) return res;\n\n        if (i + 1 === l || curvesList[i + 1]._path !== path) {\n          if (vClose && (res = handleCurve(vClose))) return res;\n\n          if (onPath && !pathWindingL && !pathWindingR) {\n            pathWindingL = pathWindingR = path.isClockwise(closed) ^ dir ? 1 : -1;\n          }\n\n          windingL += pathWindingL;\n          windingR += pathWindingR;\n          pathWindingL = pathWindingR = 0;\n\n          if (onPath) {\n            onAnyPath = true;\n            onPath = false;\n          }\n\n          vClose = null;\n        }\n      }\n\n      windingL = abs(windingL);\n      windingR = abs(windingR);\n      return {\n        winding: max(windingL, windingR),\n        windingL: windingL,\n        windingR: windingR,\n        quality: quality,\n        onPath: onAnyPath\n      };\n    }\n\n    function propagateWinding(segment, path1, path2, curveCollisionsMap, operator) {\n      var chain = [],\n          start = segment,\n          totalLength = 0,\n          winding;\n\n      do {\n        var curve = segment.getCurve();\n\n        if (curve) {\n          var length = curve.getLength();\n          chain.push({\n            segment: segment,\n            curve: curve,\n            length: length\n          });\n          totalLength += length;\n        }\n\n        segment = segment.getNext();\n      } while (segment && !segment._intersection && segment !== start);\n\n      var offsets = [0.5, 0.25, 0.75],\n          winding = {\n        winding: 0,\n        quality: -1\n      },\n          tMin = 1e-3,\n          tMax = 1 - tMin;\n\n      for (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n        var length = totalLength * offsets[i];\n\n        for (var j = 0, l = chain.length; j < l; j++) {\n          var entry = chain[j],\n              curveLength = entry.length;\n\n          if (length <= curveLength) {\n            var curve = entry.curve,\n                path = curve._path,\n                parent = path._parent,\n                operand = parent instanceof CompoundPath ? parent : path,\n                t = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n                pt = curve.getPointAtTime(t),\n                dir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n            var wind = null;\n\n            if (operator.subtract && path2) {\n              var otherPath = operand === path1 ? path2 : path1,\n                  pathWinding = otherPath._getWinding(pt, dir, true);\n\n              if (operand === path1 && pathWinding.winding || operand === path2 && !pathWinding.winding) {\n                if (pathWinding.quality < 1) {\n                  continue;\n                } else {\n                  wind = {\n                    winding: 0,\n                    quality: 1\n                  };\n                }\n              }\n            }\n\n            wind = wind || getWinding(pt, curveCollisionsMap[path._id][curve.getIndex()], dir, true);\n            if (wind.quality > winding.quality) winding = wind;\n            break;\n          }\n\n          length -= curveLength;\n        }\n      }\n\n      for (var j = chain.length - 1; j >= 0; j--) {\n        chain[j].segment._winding = winding;\n      }\n    }\n\n    function tracePaths(segments, operator) {\n      var paths = [],\n          starts;\n\n      function isValid(seg) {\n        var winding;\n        return !!(seg && !seg._visited && (!operator || operator[(winding = seg._winding || {}).winding] && !(operator.unite && winding.winding === 2 && winding.windingL && winding.windingR)));\n      }\n\n      function isStart(seg) {\n        if (seg) {\n          for (var i = 0, l = starts.length; i < l; i++) {\n            if (seg === starts[i]) return true;\n          }\n        }\n\n        return false;\n      }\n\n      function visitPath(path) {\n        var segments = path._segments;\n\n        for (var i = 0, l = segments.length; i < l; i++) {\n          segments[i]._visited = true;\n        }\n      }\n\n      function getCrossingSegments(segment, collectStarts) {\n        var inter = segment._intersection,\n            start = inter,\n            crossings = [];\n        if (collectStarts) starts = [segment];\n\n        function collect(inter, end) {\n          while (inter && inter !== end) {\n            var other = inter._segment,\n                path = other && other._path;\n\n            if (path) {\n              var next = other.getNext() || path.getFirstSegment(),\n                  nextInter = next._intersection;\n\n              if (other !== segment && (isStart(other) || isStart(next) || next && isValid(other) && (isValid(next) || nextInter && isValid(nextInter._segment)))) {\n                crossings.push(other);\n              }\n\n              if (collectStarts) starts.push(other);\n            }\n\n            inter = inter._next;\n          }\n        }\n\n        if (inter) {\n          collect(inter);\n\n          while (inter && inter._previous) inter = inter._previous;\n\n          collect(inter, start);\n        }\n\n        return crossings;\n      }\n\n      segments.sort(function (seg1, seg2) {\n        var inter1 = seg1._intersection,\n            inter2 = seg2._intersection,\n            over1 = !!(inter1 && inter1._overlap),\n            over2 = !!(inter2 && inter2._overlap),\n            path1 = seg1._path,\n            path2 = seg2._path;\n        return over1 ^ over2 ? over1 ? 1 : -1 : !inter1 ^ !inter2 ? inter1 ? 1 : -1 : path1 !== path2 ? path1._id - path2._id : seg1._index - seg2._index;\n      });\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        var seg = segments[i],\n            valid = isValid(seg),\n            path = null,\n            finished = false,\n            closed = true,\n            branches = [],\n            branch,\n            visited,\n            handleIn;\n\n        if (valid && seg._path._overlapsOnly) {\n          var path1 = seg._path,\n              path2 = seg._intersection._segment._path;\n\n          if (path1.compare(path2)) {\n            if (path1.getArea()) paths.push(path1.clone(false));\n            visitPath(path1);\n            visitPath(path2);\n            valid = false;\n          }\n        }\n\n        while (valid) {\n          var first = !path,\n              crossings = getCrossingSegments(seg, first),\n              other = crossings.shift(),\n              finished = !first && (isStart(seg) || isStart(other)),\n              cross = !finished && other;\n\n          if (first) {\n            path = new Path(Item.NO_INSERT);\n            branch = null;\n          }\n\n          if (finished) {\n            if (seg.isFirst() || seg.isLast()) closed = seg._path._closed;\n            seg._visited = true;\n            break;\n          }\n\n          if (cross && branch) {\n            branches.push(branch);\n            branch = null;\n          }\n\n          if (!branch) {\n            if (cross) crossings.push(seg);\n            branch = {\n              start: path._segments.length,\n              crossings: crossings,\n              visited: visited = [],\n              handleIn: handleIn\n            };\n          }\n\n          if (cross) seg = other;\n\n          if (!isValid(seg)) {\n            path.removeSegments(branch.start);\n\n            for (var j = 0, k = visited.length; j < k; j++) {\n              visited[j]._visited = false;\n            }\n\n            visited.length = 0;\n\n            do {\n              seg = branch && branch.crossings.shift();\n\n              if (!seg || !seg._path) {\n                seg = null;\n                branch = branches.pop();\n\n                if (branch) {\n                  visited = branch.visited;\n                  handleIn = branch.handleIn;\n                }\n              }\n            } while (branch && !isValid(seg));\n\n            if (!seg) break;\n          }\n\n          var next = seg.getNext();\n          path.add(new Segment(seg._point, handleIn, next && seg._handleOut));\n          seg._visited = true;\n          visited.push(seg);\n          seg = next || seg._path.getFirstSegment();\n          handleIn = next && next._handleIn;\n        }\n\n        if (finished) {\n          if (closed) {\n            path.getFirstSegment().setHandleIn(handleIn);\n            path.setClosed(closed);\n          }\n\n          if (path.getArea() !== 0) {\n            paths.push(path);\n          }\n        }\n      }\n\n      return paths;\n    }\n\n    return {\n      _getWinding: function (point, dir, closed) {\n        return getWinding(point, this.getCurves(), dir, closed);\n      },\n      unite: function (path, options) {\n        return traceBoolean(this, path, 'unite', options);\n      },\n      intersect: function (path, options) {\n        return traceBoolean(this, path, 'intersect', options);\n      },\n      subtract: function (path, options) {\n        return traceBoolean(this, path, 'subtract', options);\n      },\n      exclude: function (path, options) {\n        return traceBoolean(this, path, 'exclude', options);\n      },\n      divide: function (path, options) {\n        return options && (options.trace == false || options.stroke) ? splitBoolean(this, path, 'divide') : createResult([this.subtract(path, options), this.intersect(path, options)], true, this, path, options);\n      },\n      resolveCrossings: function () {\n        var children = this._children,\n            paths = children || [this];\n\n        function hasOverlap(seg, path) {\n          var inter = seg && seg._intersection;\n          return inter && inter._overlap && inter._path === path;\n        }\n\n        var hasOverlaps = false,\n            hasCrossings = false,\n            intersections = this.getIntersections(null, function (inter) {\n          return inter.hasOverlap() && (hasOverlaps = true) || inter.isCrossing() && (hasCrossings = true);\n        }),\n            clearCurves = hasOverlaps && hasCrossings && [];\n        intersections = CurveLocation.expand(intersections);\n\n        if (hasOverlaps) {\n          var overlaps = divideLocations(intersections, function (inter) {\n            return inter.hasOverlap();\n          }, clearCurves);\n\n          for (var i = overlaps.length - 1; i >= 0; i--) {\n            var overlap = overlaps[i],\n                path = overlap._path,\n                seg = overlap._segment,\n                prev = seg.getPrevious(),\n                next = seg.getNext();\n\n            if (hasOverlap(prev, path) && hasOverlap(next, path)) {\n              seg.remove();\n\n              prev._handleOut._set(0, 0);\n\n              next._handleIn._set(0, 0);\n\n              if (prev !== seg && !prev.getCurve().hasLength()) {\n                next._handleIn.set(prev._handleIn);\n\n                prev.remove();\n              }\n            }\n          }\n        }\n\n        if (hasCrossings) {\n          divideLocations(intersections, hasOverlaps && function (inter) {\n            var curve1 = inter.getCurve(),\n                seg1 = inter.getSegment(),\n                other = inter._intersection,\n                curve2 = other._curve,\n                seg2 = other._segment;\n            if (curve1 && curve2 && curve1._path && curve2._path) return true;\n            if (seg1) seg1._intersection = null;\n            if (seg2) seg2._intersection = null;\n          }, clearCurves);\n          if (clearCurves) clearCurveHandles(clearCurves);\n          paths = tracePaths(Base.each(paths, function (path) {\n            Base.push(this, path._segments);\n          }, []));\n        }\n\n        var length = paths.length,\n            item;\n\n        if (length > 1 && children) {\n          if (paths !== children) this.setChildren(paths);\n          item = this;\n        } else if (length === 1 && !children) {\n          if (paths[0] !== this) this.setSegments(paths[0].removeSegments());\n          item = this;\n        }\n\n        if (!item) {\n          item = new CompoundPath(Item.NO_INSERT);\n          item.addChildren(paths);\n          item = item.reduce();\n          item.copyAttributes(this);\n          this.replaceWith(item);\n        }\n\n        return item;\n      },\n      reorient: function (nonZero, clockwise) {\n        var children = this._children;\n\n        if (children && children.length) {\n          this.setChildren(reorientPaths(this.removeChildren(), function (w) {\n            return !!(nonZero ? w : w & 1);\n          }, clockwise));\n        } else if (clockwise !== undefined) {\n          this.setClockwise(clockwise);\n        }\n\n        return this;\n      },\n      getInteriorPoint: function () {\n        var bounds = this.getBounds(),\n            point = bounds.getCenter(true);\n\n        if (!this.contains(point)) {\n          var curves = this.getCurves(),\n              y = point.y,\n              intercepts = [],\n              roots = [];\n\n          for (var i = 0, l = curves.length; i < l; i++) {\n            var v = curves[i].getValues(),\n                o0 = v[1],\n                o1 = v[3],\n                o2 = v[5],\n                o3 = v[7];\n\n            if (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n              var monoCurves = Curve.getMonoCurves(v);\n\n              for (var j = 0, m = monoCurves.length; j < m; j++) {\n                var mv = monoCurves[j],\n                    mo0 = mv[1],\n                    mo3 = mv[7];\n\n                if (mo0 !== mo3 && (y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)) {\n                  var x = y === mo0 ? mv[0] : y === mo3 ? mv[6] : Curve.solveCubic(mv, 1, y, roots, 0, 1) === 1 ? Curve.getPoint(mv, roots[0]).x : (mv[0] + mv[6]) / 2;\n                  intercepts.push(x);\n                }\n              }\n            }\n          }\n\n          if (intercepts.length > 1) {\n            intercepts.sort(function (a, b) {\n              return a - b;\n            });\n            point.x = (intercepts[0] + intercepts[1]) / 2;\n          }\n        }\n\n        return point;\n      }\n    };\n  }());\n  var PathFlattener = Base.extend({\n    _class: 'PathFlattener',\n    initialize: function (path, flatness, maxRecursion, ignoreStraight, matrix) {\n      var curves = [],\n          parts = [],\n          length = 0,\n          minSpan = 1 / (maxRecursion || 32),\n          segments = path._segments,\n          segment1 = segments[0],\n          segment2;\n\n      function addCurve(segment1, segment2) {\n        var curve = Curve.getValues(segment1, segment2, matrix);\n        curves.push(curve);\n        computeParts(curve, segment1._index, 0, 1);\n      }\n\n      function computeParts(curve, index, t1, t2) {\n        if (t2 - t1 > minSpan && !(ignoreStraight && Curve.isStraight(curve)) && !Curve.isFlatEnough(curve, flatness || 0.25)) {\n          var halves = Curve.subdivide(curve, 0.5),\n              tMid = (t1 + t2) / 2;\n          computeParts(halves[0], index, t1, tMid);\n          computeParts(halves[1], index, tMid, t2);\n        } else {\n          var dx = curve[6] - curve[0],\n              dy = curve[7] - curve[1],\n              dist = Math.sqrt(dx * dx + dy * dy);\n\n          if (dist > 0) {\n            length += dist;\n            parts.push({\n              offset: length,\n              curve: curve,\n              index: index,\n              time: t2\n            });\n          }\n        }\n      }\n\n      for (var i = 1, l = segments.length; i < l; i++) {\n        segment2 = segments[i];\n        addCurve(segment1, segment2);\n        segment1 = segment2;\n      }\n\n      if (path._closed) addCurve(segment2 || segment1, segments[0]);\n      this.curves = curves;\n      this.parts = parts;\n      this.length = length;\n      this.index = 0;\n    },\n    _get: function (offset) {\n      var parts = this.parts,\n          length = parts.length,\n          start,\n          i,\n          j = this.index;\n\n      for (;;) {\n        i = j;\n        if (!j || parts[--j].offset < offset) break;\n      }\n\n      for (; i < length; i++) {\n        var part = parts[i];\n\n        if (part.offset >= offset) {\n          this.index = i;\n          var prev = parts[i - 1],\n              prevTime = prev && prev.index === part.index ? prev.time : 0,\n              prevOffset = prev ? prev.offset : 0;\n          return {\n            index: part.index,\n            time: prevTime + (part.time - prevTime) * (offset - prevOffset) / (part.offset - prevOffset)\n          };\n        }\n      }\n\n      return {\n        index: parts[length - 1].index,\n        time: 1\n      };\n    },\n    drawPart: function (ctx, from, to) {\n      var start = this._get(from),\n          end = this._get(to);\n\n      for (var i = start.index, l = end.index; i <= l; i++) {\n        var curve = Curve.getPart(this.curves[i], i === start.index ? start.time : 0, i === end.index ? end.time : 1);\n        if (i === start.index) ctx.moveTo(curve[0], curve[1]);\n        ctx.bezierCurveTo.apply(ctx, curve.slice(2));\n      }\n    }\n  }, Base.each(Curve._evaluateMethods, function (name) {\n    this[name + 'At'] = function (offset) {\n      var param = this._get(offset);\n\n      return Curve[name](this.curves[param.index], param.time);\n    };\n  }, {}));\n  var PathFitter = Base.extend({\n    initialize: function (path) {\n      var points = this.points = [],\n          segments = path._segments,\n          closed = path._closed;\n\n      for (var i = 0, prev, l = segments.length; i < l; i++) {\n        var point = segments[i].point;\n\n        if (!prev || !prev.equals(point)) {\n          points.push(prev = point.clone());\n        }\n      }\n\n      if (closed) {\n        points.unshift(points[points.length - 1]);\n        points.push(points[1]);\n      }\n\n      this.closed = closed;\n    },\n    fit: function (error) {\n      var points = this.points,\n          length = points.length,\n          segments = null;\n\n      if (length > 0) {\n        segments = [new Segment(points[0])];\n\n        if (length > 1) {\n          this.fitCubic(segments, error, 0, length - 1, points[1].subtract(points[0]), points[length - 2].subtract(points[length - 1]));\n\n          if (this.closed) {\n            segments.shift();\n            segments.pop();\n          }\n        }\n      }\n\n      return segments;\n    },\n    fitCubic: function (segments, error, first, last, tan1, tan2) {\n      var points = this.points;\n\n      if (last - first === 1) {\n        var pt1 = points[first],\n            pt2 = points[last],\n            dist = pt1.getDistance(pt2) / 3;\n        this.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)), pt2.add(tan2.normalize(dist)), pt2]);\n        return;\n      }\n\n      var uPrime = this.chordLengthParameterize(first, last),\n          maxError = Math.max(error, error * error),\n          split,\n          parametersInOrder = true;\n\n      for (var i = 0; i <= 4; i++) {\n        var curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n        var max = this.findMaxError(first, last, curve, uPrime);\n\n        if (max.error < error && parametersInOrder) {\n          this.addCurve(segments, curve);\n          return;\n        }\n\n        split = max.index;\n        if (max.error >= maxError) break;\n        parametersInOrder = this.reparameterize(first, last, uPrime, curve);\n        maxError = max.error;\n      }\n\n      var tanCenter = points[split - 1].subtract(points[split + 1]);\n      this.fitCubic(segments, error, first, split, tan1, tanCenter);\n      this.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n    },\n    addCurve: function (segments, curve) {\n      var prev = segments[segments.length - 1];\n      prev.setHandleOut(curve[1].subtract(curve[0]));\n      segments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n    },\n    generateBezier: function (first, last, uPrime, tan1, tan2) {\n      var epsilon = 1e-12,\n          abs = Math.abs,\n          points = this.points,\n          pt1 = points[first],\n          pt2 = points[last],\n          C = [[0, 0], [0, 0]],\n          X = [0, 0];\n\n      for (var i = 0, l = last - first + 1; i < l; i++) {\n        var u = uPrime[i],\n            t = 1 - u,\n            b = 3 * u * t,\n            b0 = t * t * t,\n            b1 = b * t,\n            b2 = b * u,\n            b3 = u * u * u,\n            a1 = tan1.normalize(b1),\n            a2 = tan2.normalize(b2),\n            tmp = points[first + i].subtract(pt1.multiply(b0 + b1)).subtract(pt2.multiply(b2 + b3));\n        C[0][0] += a1.dot(a1);\n        C[0][1] += a1.dot(a2);\n        C[1][0] = C[0][1];\n        C[1][1] += a2.dot(a2);\n        X[0] += a1.dot(tmp);\n        X[1] += a2.dot(tmp);\n      }\n\n      var detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n          alpha1,\n          alpha2;\n\n      if (abs(detC0C1) > epsilon) {\n        var detC0X = C[0][0] * X[1] - C[1][0] * X[0],\n            detXC1 = X[0] * C[1][1] - X[1] * C[0][1];\n        alpha1 = detXC1 / detC0C1;\n        alpha2 = detC0X / detC0C1;\n      } else {\n        var c0 = C[0][0] + C[0][1],\n            c1 = C[1][0] + C[1][1];\n        alpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0 : abs(c1) > epsilon ? X[1] / c1 : 0;\n      }\n\n      var segLength = pt2.getDistance(pt1),\n          eps = epsilon * segLength,\n          handle1,\n          handle2;\n\n      if (alpha1 < eps || alpha2 < eps) {\n        alpha1 = alpha2 = segLength / 3;\n      } else {\n        var line = pt2.subtract(pt1);\n        handle1 = tan1.normalize(alpha1);\n        handle2 = tan2.normalize(alpha2);\n\n        if (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n          alpha1 = alpha2 = segLength / 3;\n          handle1 = handle2 = null;\n        }\n      }\n\n      return [pt1, pt1.add(handle1 || tan1.normalize(alpha1)), pt2.add(handle2 || tan2.normalize(alpha2)), pt2];\n    },\n    reparameterize: function (first, last, u, curve) {\n      for (var i = first; i <= last; i++) {\n        u[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n      }\n\n      for (var i = 1, l = u.length; i < l; i++) {\n        if (u[i] <= u[i - 1]) return false;\n      }\n\n      return true;\n    },\n    findRoot: function (curve, point, u) {\n      var curve1 = [],\n          curve2 = [];\n\n      for (var i = 0; i <= 2; i++) {\n        curve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n      }\n\n      for (var i = 0; i <= 1; i++) {\n        curve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n      }\n\n      var pt = this.evaluate(3, curve, u),\n          pt1 = this.evaluate(2, curve1, u),\n          pt2 = this.evaluate(1, curve2, u),\n          diff = pt.subtract(point),\n          df = pt1.dot(pt1) + diff.dot(pt2);\n      return Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n    },\n    evaluate: function (degree, curve, t) {\n      var tmp = curve.slice();\n\n      for (var i = 1; i <= degree; i++) {\n        for (var j = 0; j <= degree - i; j++) {\n          tmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n        }\n      }\n\n      return tmp[0];\n    },\n    chordLengthParameterize: function (first, last) {\n      var u = [0];\n\n      for (var i = first + 1; i <= last; i++) {\n        u[i - first] = u[i - first - 1] + this.points[i].getDistance(this.points[i - 1]);\n      }\n\n      for (var i = 1, m = last - first; i <= m; i++) {\n        u[i] /= u[m];\n      }\n\n      return u;\n    },\n    findMaxError: function (first, last, curve, u) {\n      var index = Math.floor((last - first + 1) / 2),\n          maxDist = 0;\n\n      for (var i = first + 1; i < last; i++) {\n        var P = this.evaluate(3, curve, u[i - first]);\n        var v = P.subtract(this.points[i]);\n        var dist = v.x * v.x + v.y * v.y;\n\n        if (dist >= maxDist) {\n          maxDist = dist;\n          index = i;\n        }\n      }\n\n      return {\n        error: maxDist,\n        index: index\n      };\n    }\n  });\n  var TextItem = Item.extend({\n    _class: 'TextItem',\n    _applyMatrix: false,\n    _canApplyMatrix: false,\n    _serializeFields: {\n      content: null\n    },\n    _boundsOptions: {\n      stroke: false,\n      handle: false\n    },\n    initialize: function TextItem(arg) {\n      this._content = '';\n      this._lines = [];\n      var hasProps = arg && Base.isPlainObject(arg) && arg.x === undefined && arg.y === undefined;\n\n      this._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n    },\n    _equals: function (item) {\n      return this._content === item._content;\n    },\n    copyContent: function (source) {\n      this.setContent(source._content);\n    },\n    getContent: function () {\n      return this._content;\n    },\n    setContent: function (content) {\n      this._content = '' + content;\n      this._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\n      this._changed(521);\n    },\n    isEmpty: function () {\n      return !this._content;\n    },\n    getCharacterStyle: '#getStyle',\n    setCharacterStyle: '#setStyle',\n    getParagraphStyle: '#getStyle',\n    setParagraphStyle: '#setStyle'\n  });\n  var PointText = TextItem.extend({\n    _class: 'PointText',\n    initialize: function PointText() {\n      TextItem.apply(this, arguments);\n    },\n    getPoint: function () {\n      var point = this._matrix.getTranslation();\n\n      return new LinkedPoint(point.x, point.y, this, 'setPoint');\n    },\n    setPoint: function () {\n      var point = Point.read(arguments);\n      this.translate(point.subtract(this._matrix.getTranslation()));\n    },\n    _draw: function (ctx, param, viewMatrix) {\n      if (!this._content) return;\n\n      this._setStyles(ctx, param, viewMatrix);\n\n      var lines = this._lines,\n          style = this._style,\n          hasFill = style.hasFill(),\n          hasStroke = style.hasStroke(),\n          leading = style.getLeading(),\n          shadowColor = ctx.shadowColor;\n      ctx.font = style.getFontStyle();\n      ctx.textAlign = style.getJustification();\n\n      for (var i = 0, l = lines.length; i < l; i++) {\n        ctx.shadowColor = shadowColor;\n        var line = lines[i];\n\n        if (hasFill) {\n          ctx.fillText(line, 0, 0);\n          ctx.shadowColor = 'rgba(0,0,0,0)';\n        }\n\n        if (hasStroke) ctx.strokeText(line, 0, 0);\n        ctx.translate(0, leading);\n      }\n    },\n    _getBounds: function (matrix, options) {\n      var style = this._style,\n          lines = this._lines,\n          numLines = lines.length,\n          justification = style.getJustification(),\n          leading = style.getLeading(),\n          width = this.getView().getTextWidth(style.getFontStyle(), lines),\n          x = 0;\n      if (justification !== 'left') x -= width / (justification === 'center' ? 2 : 1);\n      var rect = new Rectangle(x, numLines ? -0.75 * leading : 0, width, numLines * leading);\n      return matrix ? matrix._transformBounds(rect, rect) : rect;\n    }\n  });\n  var Color = Base.extend(new function () {\n    var types = {\n      gray: ['gray'],\n      rgb: ['red', 'green', 'blue'],\n      hsb: ['hue', 'saturation', 'brightness'],\n      hsl: ['hue', 'saturation', 'lightness'],\n      gradient: ['gradient', 'origin', 'destination', 'highlight']\n    };\n    var componentParsers = {},\n        namedColors = {\n      transparent: [0, 0, 0, 0]\n    },\n        colorCtx;\n\n    function fromCSS(string) {\n      var match = string.match(/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i) || string.match(/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i),\n          type = 'rgb',\n          components;\n\n      if (match) {\n        var amount = match[4] ? 4 : 3;\n        components = new Array(amount);\n\n        for (var i = 0; i < amount; i++) {\n          var value = match[i + 1];\n          components[i] = parseInt(value.length == 1 ? value + value : value, 16) / 255;\n        }\n      } else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n        type = match[1];\n        components = match[2].trim().split(/[,\\s]+/g);\n        var isHSL = type === 'hsl';\n\n        for (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n          var component = components[i];\n          var value = parseFloat(component);\n\n          if (isHSL) {\n            if (i === 0) {\n              var unit = component.match(/([a-z]*)$/)[1];\n              value *= {\n                turn: 360,\n                rad: 180 / Math.PI,\n                grad: 0.9\n              }[unit] || 1;\n            } else if (i < 3) {\n              value /= 100;\n            }\n          } else if (i < 3) {\n            value /= /%$/.test(component) ? 100 : 255;\n          }\n\n          components[i] = value;\n        }\n      } else {\n        var color = namedColors[string];\n\n        if (!color) {\n          if (window) {\n            if (!colorCtx) {\n              colorCtx = CanvasProvider.getContext(1, 1);\n              colorCtx.globalCompositeOperation = 'copy';\n            }\n\n            colorCtx.fillStyle = 'rgba(0,0,0,0)';\n            colorCtx.fillStyle = string;\n            colorCtx.fillRect(0, 0, 1, 1);\n            var data = colorCtx.getImageData(0, 0, 1, 1).data;\n            color = namedColors[string] = [data[0] / 255, data[1] / 255, data[2] / 255];\n          } else {\n            color = [0, 0, 0];\n          }\n        }\n\n        components = color.slice();\n      }\n\n      return [type, components];\n    }\n\n    var hsbIndices = [[0, 3, 1], [2, 0, 1], [1, 0, 3], [1, 2, 0], [3, 1, 0], [0, 1, 2]];\n    var converters = {\n      'rgb-hsb': function (r, g, b) {\n        var max = Math.max(r, g, b),\n            min = Math.min(r, g, b),\n            delta = max - min,\n            h = delta === 0 ? 0 : (max == r ? (g - b) / delta + (g < b ? 6 : 0) : max == g ? (b - r) / delta + 2 : (r - g) / delta + 4) * 60;\n        return [h, max === 0 ? 0 : delta / max, max];\n      },\n      'hsb-rgb': function (h, s, b) {\n        h = (h / 60 % 6 + 6) % 6;\n        var i = Math.floor(h),\n            f = h - i,\n            i = hsbIndices[i],\n            v = [b, b * (1 - s), b * (1 - s * f), b * (1 - s * (1 - f))];\n        return [v[i[0]], v[i[1]], v[i[2]]];\n      },\n      'rgb-hsl': function (r, g, b) {\n        var max = Math.max(r, g, b),\n            min = Math.min(r, g, b),\n            delta = max - min,\n            achromatic = delta === 0,\n            h = achromatic ? 0 : (max == r ? (g - b) / delta + (g < b ? 6 : 0) : max == g ? (b - r) / delta + 2 : (r - g) / delta + 4) * 60,\n            l = (max + min) / 2,\n            s = achromatic ? 0 : l < 0.5 ? delta / (max + min) : delta / (2 - max - min);\n        return [h, s, l];\n      },\n      'hsl-rgb': function (h, s, l) {\n        h = (h / 360 % 1 + 1) % 1;\n        if (s === 0) return [l, l, l];\n        var t3s = [h + 1 / 3, h, h - 1 / 3],\n            t2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n            t1 = 2 * l - t2,\n            c = [];\n\n        for (var i = 0; i < 3; i++) {\n          var t3 = t3s[i];\n          if (t3 < 0) t3 += 1;\n          if (t3 > 1) t3 -= 1;\n          c[i] = 6 * t3 < 1 ? t1 + (t2 - t1) * 6 * t3 : 2 * t3 < 1 ? t2 : 3 * t3 < 2 ? t1 + (t2 - t1) * (2 / 3 - t3) * 6 : t1;\n        }\n\n        return c;\n      },\n      'rgb-gray': function (r, g, b) {\n        return [r * 0.2989 + g * 0.587 + b * 0.114];\n      },\n      'gray-rgb': function (g) {\n        return [g, g, g];\n      },\n      'gray-hsb': function (g) {\n        return [0, 0, g];\n      },\n      'gray-hsl': function (g) {\n        return [0, 0, g];\n      },\n      'gradient-rgb': function () {\n        return [];\n      },\n      'rgb-gradient': function () {\n        return [];\n      }\n    };\n    return Base.each(types, function (properties, type) {\n      componentParsers[type] = [];\n      Base.each(properties, function (name, index) {\n        var part = Base.capitalize(name),\n            hasOverlap = /^(hue|saturation)$/.test(name),\n            parser = componentParsers[type][index] = type === 'gradient' ? name === 'gradient' ? function (value) {\n          var current = this._components[0];\n          value = Gradient.read(Array.isArray(value) ? value : arguments, 0, {\n            readNull: true\n          });\n\n          if (current !== value) {\n            if (current) current._removeOwner(this);\n            if (value) value._addOwner(this);\n          }\n\n          return value;\n        } : function () {\n          return Point.read(arguments, 0, {\n            readNull: name === 'highlight',\n            clone: true\n          });\n        } : function (value) {\n          return value == null || isNaN(value) ? 0 : +value;\n        };\n\n        this['get' + part] = function () {\n          return this._type === type || hasOverlap && /^hs[bl]$/.test(this._type) ? this._components[index] : this._convert(type)[index];\n        };\n\n        this['set' + part] = function (value) {\n          if (this._type !== type && !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n            this._components = this._convert(type);\n            this._properties = types[type];\n            this._type = type;\n          }\n\n          this._components[index] = parser.call(this, value);\n\n          this._changed();\n        };\n      }, this);\n    }, {\n      _class: 'Color',\n      _readIndex: true,\n      initialize: function Color(arg) {\n        var args = arguments,\n            reading = this.__read,\n            read = 0,\n            type,\n            components,\n            alpha,\n            values;\n\n        if (Array.isArray(arg)) {\n          args = arg;\n          arg = args[0];\n        }\n\n        var argType = arg != null && typeof arg;\n\n        if (argType === 'string' && arg in types) {\n          type = arg;\n          arg = args[1];\n\n          if (Array.isArray(arg)) {\n            components = arg;\n            alpha = args[2];\n          } else {\n            if (reading) read = 1;\n            args = Base.slice(args, 1);\n            argType = typeof arg;\n          }\n        }\n\n        if (!components) {\n          values = argType === 'number' ? args : argType === 'object' && arg.length != null ? arg : null;\n\n          if (values) {\n            if (!type) type = values.length >= 3 ? 'rgb' : 'gray';\n            var length = types[type].length;\n            alpha = values[length];\n\n            if (reading) {\n              read += values === arguments ? length + (alpha != null ? 1 : 0) : 1;\n            }\n\n            if (values.length > length) values = Base.slice(values, 0, length);\n          } else if (argType === 'string') {\n            var converted = fromCSS(arg);\n            type = converted[0];\n            components = converted[1];\n\n            if (components.length === 4) {\n              alpha = components[3];\n              components.length--;\n            }\n          } else if (argType === 'object') {\n            if (arg.constructor === Color) {\n              type = arg._type;\n              components = arg._components.slice();\n              alpha = arg._alpha;\n\n              if (type === 'gradient') {\n                for (var i = 1, l = components.length; i < l; i++) {\n                  var point = components[i];\n                  if (point) components[i] = point.clone();\n                }\n              }\n            } else if (arg.constructor === Gradient) {\n              type = 'gradient';\n              values = args;\n            } else {\n              type = 'hue' in arg ? 'lightness' in arg ? 'hsl' : 'hsb' : 'gradient' in arg || 'stops' in arg || 'radial' in arg ? 'gradient' : 'gray' in arg ? 'gray' : 'rgb';\n              var properties = types[type],\n                  parsers = componentParsers[type];\n              this._components = components = [];\n\n              for (var i = 0, l = properties.length; i < l; i++) {\n                var value = arg[properties[i]];\n\n                if (value == null && !i && type === 'gradient' && 'stops' in arg) {\n                  value = {\n                    stops: arg.stops,\n                    radial: arg.radial\n                  };\n                }\n\n                value = parsers[i].call(this, value);\n                if (value != null) components[i] = value;\n              }\n\n              alpha = arg.alpha;\n            }\n          }\n\n          if (reading && type) read = 1;\n        }\n\n        this._type = type || 'rgb';\n\n        if (!components) {\n          this._components = components = [];\n          var parsers = componentParsers[this._type];\n\n          for (var i = 0, l = parsers.length; i < l; i++) {\n            var value = parsers[i].call(this, values && values[i]);\n            if (value != null) components[i] = value;\n          }\n        }\n\n        this._components = components;\n        this._properties = types[this._type];\n        this._alpha = alpha;\n        if (reading) this.__read = read;\n        return this;\n      },\n      set: '#initialize',\n      _serialize: function (options, dictionary) {\n        var components = this.getComponents();\n        return Base.serialize(/^(gray|rgb)$/.test(this._type) ? components : [this._type].concat(components), options, true, dictionary);\n      },\n      _changed: function () {\n        this._canvasStyle = null;\n\n        if (this._owner) {\n          if (this._setter) {\n            this._owner[this._setter](this);\n          } else {\n            this._owner._changed(129);\n          }\n        }\n      },\n      _convert: function (type) {\n        var converter;\n        return this._type === type ? this._components.slice() : (converter = converters[this._type + '-' + type]) ? converter.apply(this, this._components) : converters['rgb-' + type].apply(this, converters[this._type + '-rgb'].apply(this, this._components));\n      },\n      convert: function (type) {\n        return new Color(type, this._convert(type), this._alpha);\n      },\n      getType: function () {\n        return this._type;\n      },\n      setType: function (type) {\n        this._components = this._convert(type);\n        this._properties = types[type];\n        this._type = type;\n      },\n      getComponents: function () {\n        var components = this._components.slice();\n\n        if (this._alpha != null) components.push(this._alpha);\n        return components;\n      },\n      getAlpha: function () {\n        return this._alpha != null ? this._alpha : 1;\n      },\n      setAlpha: function (alpha) {\n        this._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\n        this._changed();\n      },\n      hasAlpha: function () {\n        return this._alpha != null;\n      },\n      equals: function (color) {\n        var col = Base.isPlainValue(color, true) ? Color.read(arguments) : color;\n        return col === this || col && this._class === col._class && this._type === col._type && this.getAlpha() === col.getAlpha() && Base.equals(this._components, col._components) || false;\n      },\n      toString: function () {\n        var properties = this._properties,\n            parts = [],\n            isGradient = this._type === 'gradient',\n            f = Formatter.instance;\n\n        for (var i = 0, l = properties.length; i < l; i++) {\n          var value = this._components[i];\n          if (value != null) parts.push(properties[i] + ': ' + (isGradient ? value : f.number(value)));\n        }\n\n        if (this._alpha != null) parts.push('alpha: ' + f.number(this._alpha));\n        return '{ ' + parts.join(', ') + ' }';\n      },\n      toCSS: function (hex) {\n        var components = this._convert('rgb'),\n            alpha = hex || this._alpha == null ? 1 : this._alpha;\n\n        function convert(val) {\n          return Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n        }\n\n        components = [convert(components[0]), convert(components[1]), convert(components[2])];\n        if (alpha < 1) components.push(alpha < 0 ? 0 : alpha);\n        return hex ? '#' + ((1 << 24) + (components[0] << 16) + (components[1] << 8) + components[2]).toString(16).slice(1) : (components.length == 4 ? 'rgba(' : 'rgb(') + components.join(',') + ')';\n      },\n      toCanvasStyle: function (ctx, matrix) {\n        if (this._canvasStyle) return this._canvasStyle;\n        if (this._type !== 'gradient') return this._canvasStyle = this.toCSS();\n        var components = this._components,\n            gradient = components[0],\n            stops = gradient._stops,\n            origin = components[1],\n            destination = components[2],\n            highlight = components[3],\n            inverse = matrix && matrix.inverted(),\n            canvasGradient;\n\n        if (inverse) {\n          origin = inverse._transformPoint(origin);\n          destination = inverse._transformPoint(destination);\n          if (highlight) highlight = inverse._transformPoint(highlight);\n        }\n\n        if (gradient._radial) {\n          var radius = destination.getDistance(origin);\n\n          if (highlight) {\n            var vector = highlight.subtract(origin);\n            if (vector.getLength() > radius) highlight = origin.add(vector.normalize(radius - 0.1));\n          }\n\n          var start = highlight || origin;\n          canvasGradient = ctx.createRadialGradient(start.x, start.y, 0, origin.x, origin.y, radius);\n        } else {\n          canvasGradient = ctx.createLinearGradient(origin.x, origin.y, destination.x, destination.y);\n        }\n\n        for (var i = 0, l = stops.length; i < l; i++) {\n          var stop = stops[i],\n              offset = stop._offset;\n          canvasGradient.addColorStop(offset == null ? i / (l - 1) : offset, stop._color.toCanvasStyle());\n        }\n\n        return this._canvasStyle = canvasGradient;\n      },\n      transform: function (matrix) {\n        if (this._type === 'gradient') {\n          var components = this._components;\n\n          for (var i = 1, l = components.length; i < l; i++) {\n            var point = components[i];\n\n            matrix._transformPoint(point, point, true);\n          }\n\n          this._changed();\n        }\n      },\n      statics: {\n        _types: types,\n        random: function () {\n          var random = Math.random;\n          return new Color(random(), random(), random());\n        },\n        _setOwner: function (color, owner, setter) {\n          if (color) {\n            if (color._owner && owner && color._owner !== owner) {\n              color = color.clone();\n            }\n\n            if (!color._owner ^ !owner) {\n              color._owner = owner || null;\n              color._setter = setter || null;\n            }\n          }\n\n          return color;\n        }\n      }\n    });\n  }(), new function () {\n    var operators = {\n      add: function (a, b) {\n        return a + b;\n      },\n      subtract: function (a, b) {\n        return a - b;\n      },\n      multiply: function (a, b) {\n        return a * b;\n      },\n      divide: function (a, b) {\n        return a / b;\n      }\n    };\n    return Base.each(operators, function (operator, name) {\n      this[name] = function (color) {\n        color = Color.read(arguments);\n\n        var type = this._type,\n            components1 = this._components,\n            components2 = color._convert(type);\n\n        for (var i = 0, l = components1.length; i < l; i++) components2[i] = operator(components1[i], components2[i]);\n\n        return new Color(type, components2, this._alpha != null ? operator(this._alpha, color.getAlpha()) : null);\n      };\n    }, {});\n  }());\n  var Gradient = Base.extend({\n    _class: 'Gradient',\n    initialize: function Gradient(stops, radial) {\n      this._id = UID.get();\n\n      if (stops && Base.isPlainObject(stops)) {\n        this.set(stops);\n        stops = radial = null;\n      }\n\n      if (this._stops == null) {\n        this.setStops(stops || ['white', 'black']);\n      }\n\n      if (this._radial == null) {\n        this.setRadial(typeof radial === 'string' && radial === 'radial' || radial || false);\n      }\n    },\n    _serialize: function (options, dictionary) {\n      return dictionary.add(this, function () {\n        return Base.serialize([this._stops, this._radial], options, true, dictionary);\n      });\n    },\n    _changed: function () {\n      for (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n        this._owners[i]._changed();\n      }\n    },\n    _addOwner: function (color) {\n      if (!this._owners) this._owners = [];\n\n      this._owners.push(color);\n    },\n    _removeOwner: function (color) {\n      var index = this._owners ? this._owners.indexOf(color) : -1;\n\n      if (index != -1) {\n        this._owners.splice(index, 1);\n\n        if (!this._owners.length) this._owners = undefined;\n      }\n    },\n    clone: function () {\n      var stops = [];\n\n      for (var i = 0, l = this._stops.length; i < l; i++) {\n        stops[i] = this._stops[i].clone();\n      }\n\n      return new Gradient(stops, this._radial);\n    },\n    getStops: function () {\n      return this._stops;\n    },\n    setStops: function (stops) {\n      if (stops.length < 2) {\n        throw new Error('Gradient stop list needs to contain at least two stops.');\n      }\n\n      var _stops = this._stops;\n\n      if (_stops) {\n        for (var i = 0, l = _stops.length; i < l; i++) _stops[i]._owner = undefined;\n      }\n\n      _stops = this._stops = GradientStop.readList(stops, 0, {\n        clone: true\n      });\n\n      for (var i = 0, l = _stops.length; i < l; i++) _stops[i]._owner = this;\n\n      this._changed();\n    },\n    getRadial: function () {\n      return this._radial;\n    },\n    setRadial: function (radial) {\n      this._radial = radial;\n\n      this._changed();\n    },\n    equals: function (gradient) {\n      if (gradient === this) return true;\n\n      if (gradient && this._class === gradient._class) {\n        var stops1 = this._stops,\n            stops2 = gradient._stops,\n            length = stops1.length;\n\n        if (length === stops2.length) {\n          for (var i = 0; i < length; i++) {\n            if (!stops1[i].equals(stops2[i])) return false;\n          }\n\n          return true;\n        }\n      }\n\n      return false;\n    }\n  });\n  var GradientStop = Base.extend({\n    _class: 'GradientStop',\n    initialize: function GradientStop(arg0, arg1) {\n      var color = arg0,\n          offset = arg1;\n\n      if (typeof arg0 === 'object' && arg1 === undefined) {\n        if (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n          color = arg0[0];\n          offset = arg0[1];\n        } else if ('color' in arg0 || 'offset' in arg0 || 'rampPoint' in arg0) {\n          color = arg0.color;\n          offset = arg0.offset || arg0.rampPoint || 0;\n        }\n      }\n\n      this.setColor(color);\n      this.setOffset(offset);\n    },\n    clone: function () {\n      return new GradientStop(this._color.clone(), this._offset);\n    },\n    _serialize: function (options, dictionary) {\n      var color = this._color,\n          offset = this._offset;\n      return Base.serialize(offset == null ? [color] : [color, offset], options, true, dictionary);\n    },\n    _changed: function () {\n      if (this._owner) this._owner._changed(129);\n    },\n    getOffset: function () {\n      return this._offset;\n    },\n    setOffset: function (offset) {\n      this._offset = offset;\n\n      this._changed();\n    },\n    getRampPoint: '#getOffset',\n    setRampPoint: '#setOffset',\n    getColor: function () {\n      return this._color;\n    },\n    setColor: function () {\n      Color._setOwner(this._color, null);\n\n      this._color = Color._setOwner(Color.read(arguments, 0), this, 'setColor');\n\n      this._changed();\n    },\n    equals: function (stop) {\n      return stop === this || stop && this._class === stop._class && this._color.equals(stop._color) && this._offset == stop._offset || false;\n    }\n  });\n  var Style = Base.extend(new function () {\n    var itemDefaults = {\n      fillColor: null,\n      fillRule: 'nonzero',\n      strokeColor: null,\n      strokeWidth: 1,\n      strokeCap: 'butt',\n      strokeJoin: 'miter',\n      strokeScaling: true,\n      miterLimit: 10,\n      dashOffset: 0,\n      dashArray: [],\n      shadowColor: null,\n      shadowBlur: 0,\n      shadowOffset: new Point(),\n      selectedColor: null\n    },\n        groupDefaults = Base.set({}, itemDefaults, {\n      fontFamily: 'sans-serif',\n      fontWeight: 'normal',\n      fontSize: 12,\n      leading: null,\n      justification: 'left'\n    }),\n        textDefaults = Base.set({}, groupDefaults, {\n      fillColor: new Color()\n    }),\n        flags = {\n      strokeWidth: 193,\n      strokeCap: 193,\n      strokeJoin: 193,\n      strokeScaling: 201,\n      miterLimit: 193,\n      fontFamily: 9,\n      fontWeight: 9,\n      fontSize: 9,\n      font: 9,\n      leading: 9,\n      justification: 9\n    },\n        item = {\n      beans: true\n    },\n        fields = {\n      _class: 'Style',\n      beans: true,\n      initialize: function Style(style, _owner, _project) {\n        this._values = {};\n        this._owner = _owner;\n        this._project = _owner && _owner._project || _project || paper.project;\n        this._defaults = !_owner || _owner instanceof Group ? groupDefaults : _owner instanceof TextItem ? textDefaults : itemDefaults;\n        if (style) this.set(style);\n      }\n    };\n    Base.each(groupDefaults, function (value, key) {\n      var isColor = /Color$/.test(key),\n          isPoint = key === 'shadowOffset',\n          part = Base.capitalize(key),\n          flag = flags[key],\n          set = 'set' + part,\n          get = 'get' + part;\n\n      fields[set] = function (value) {\n        var owner = this._owner,\n            children = owner && owner._children,\n            applyToChildren = children && children.length > 0 && !(owner instanceof CompoundPath);\n\n        if (applyToChildren) {\n          for (var i = 0, l = children.length; i < l; i++) children[i]._style[set](value);\n        }\n\n        if ((key === 'selectedColor' || !applyToChildren) && key in this._defaults) {\n          var old = this._values[key];\n\n          if (old !== value) {\n            if (isColor) {\n              if (old) {\n                Color._setOwner(old, null);\n\n                old._canvasStyle = null;\n              }\n\n              if (value && value.constructor === Color) {\n                value = Color._setOwner(value, owner, applyToChildren && set);\n              }\n            }\n\n            this._values[key] = value;\n            if (owner) owner._changed(flag || 129);\n          }\n        }\n      };\n\n      fields[get] = function (_dontMerge) {\n        var owner = this._owner,\n            children = owner && owner._children,\n            applyToChildren = children && children.length > 0 && !(owner instanceof CompoundPath),\n            value;\n\n        if (applyToChildren && !_dontMerge) {\n          for (var i = 0, l = children.length; i < l; i++) {\n            var childValue = children[i]._style[get]();\n\n            if (!i) {\n              value = childValue;\n            } else if (!Base.equals(value, childValue)) {\n              return undefined;\n            }\n          }\n        } else if (key in this._defaults) {\n          var value = this._values[key];\n\n          if (value === undefined) {\n            value = this._defaults[key];\n\n            if (value && value.clone) {\n              value = value.clone();\n            }\n          } else {\n            var ctor = isColor ? Color : isPoint ? Point : null;\n\n            if (ctor && !(value && value.constructor === ctor)) {\n              this._values[key] = value = ctor.read([value], 0, {\n                readNull: true,\n                clone: true\n              });\n            }\n          }\n        }\n\n        if (value && isColor) {\n          value = Color._setOwner(value, owner, applyToChildren && set);\n        }\n\n        return value;\n      };\n\n      item[get] = function (_dontMerge) {\n        return this._style[get](_dontMerge);\n      };\n\n      item[set] = function (value) {\n        this._style[set](value);\n      };\n    });\n    Base.each({\n      Font: 'FontFamily',\n      WindingRule: 'FillRule'\n    }, function (value, key) {\n      var get = 'get' + key,\n          set = 'set' + key;\n      fields[get] = item[get] = '#get' + value;\n      fields[set] = item[set] = '#set' + value;\n    });\n    Item.inject(item);\n    return fields;\n  }(), {\n    set: function (style) {\n      var isStyle = style instanceof Style,\n          values = isStyle ? style._values : style;\n\n      if (values) {\n        for (var key in values) {\n          if (key in this._defaults) {\n            var value = values[key];\n            this[key] = value && isStyle && value.clone ? value.clone() : value;\n          }\n        }\n      }\n    },\n    equals: function (style) {\n      function compare(style1, style2, secondary) {\n        var values1 = style1._values,\n            values2 = style2._values,\n            defaults2 = style2._defaults;\n\n        for (var key in values1) {\n          var value1 = values1[key],\n              value2 = values2[key];\n          if (!(secondary && key in values2) && !Base.equals(value1, value2 === undefined ? defaults2[key] : value2)) return false;\n        }\n\n        return true;\n      }\n\n      return style === this || style && this._class === style._class && compare(this, style) && compare(style, this, true) || false;\n    },\n    _dispose: function () {\n      var color;\n      color = this.getFillColor();\n      if (color) color._canvasStyle = null;\n      color = this.getStrokeColor();\n      if (color) color._canvasStyle = null;\n      color = this.getShadowColor();\n      if (color) color._canvasStyle = null;\n    },\n    hasFill: function () {\n      var color = this.getFillColor();\n      return !!color && color.alpha > 0;\n    },\n    hasStroke: function () {\n      var color = this.getStrokeColor();\n      return !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n    },\n    hasShadow: function () {\n      var color = this.getShadowColor();\n      return !!color && color.alpha > 0 && (this.getShadowBlur() > 0 || !this.getShadowOffset().isZero());\n    },\n    getView: function () {\n      return this._project._view;\n    },\n    getFontStyle: function () {\n      var fontSize = this.getFontSize();\n      return this.getFontWeight() + ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ') + this.getFontFamily();\n    },\n    getFont: '#getFontFamily',\n    setFont: '#setFontFamily',\n    getLeading: function getLeading() {\n      var leading = getLeading.base.call(this),\n          fontSize = this.getFontSize();\n      if (/pt|em|%|px/.test(fontSize)) fontSize = this.getView().getPixelSize(fontSize);\n      return leading != null ? leading : fontSize * 1.2;\n    }\n  });\n  var DomElement = new function () {\n    function handlePrefix(el, name, set, value) {\n      var prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n          suffix = name[0].toUpperCase() + name.substring(1);\n\n      for (var i = 0; i < 6; i++) {\n        var prefix = prefixes[i],\n            key = prefix ? prefix + suffix : name;\n\n        if (key in el) {\n          if (set) {\n            el[key] = value;\n          } else {\n            return el[key];\n          }\n\n          break;\n        }\n      }\n    }\n\n    return {\n      getStyles: function (el) {\n        var doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n            view = doc && doc.defaultView;\n        return view && view.getComputedStyle(el, '');\n      },\n      getBounds: function (el, viewport) {\n        var doc = el.ownerDocument,\n            body = doc.body,\n            html = doc.documentElement,\n            rect;\n\n        try {\n          rect = el.getBoundingClientRect();\n        } catch (e) {\n          rect = {\n            left: 0,\n            top: 0,\n            width: 0,\n            height: 0\n          };\n        }\n\n        var x = rect.left - (html.clientLeft || body.clientLeft || 0),\n            y = rect.top - (html.clientTop || body.clientTop || 0);\n\n        if (!viewport) {\n          var view = doc.defaultView;\n          x += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n          y += view.pageYOffset || html.scrollTop || body.scrollTop;\n        }\n\n        return new Rectangle(x, y, rect.width, rect.height);\n      },\n      getViewportBounds: function (el) {\n        var doc = el.ownerDocument,\n            view = doc.defaultView,\n            html = doc.documentElement;\n        return new Rectangle(0, 0, view.innerWidth || html.clientWidth, view.innerHeight || html.clientHeight);\n      },\n      getOffset: function (el, viewport) {\n        return DomElement.getBounds(el, viewport).getPoint();\n      },\n      getSize: function (el) {\n        return DomElement.getBounds(el, true).getSize();\n      },\n      isInvisible: function (el) {\n        return DomElement.getSize(el).equals(new Size(0, 0));\n      },\n      isInView: function (el) {\n        return !DomElement.isInvisible(el) && DomElement.getViewportBounds(el).intersects(DomElement.getBounds(el, true));\n      },\n      isInserted: function (el) {\n        return document.body.contains(el);\n      },\n      getPrefixed: function (el, name) {\n        return el && handlePrefix(el, name);\n      },\n      setPrefixed: function (el, name, value) {\n        if (typeof name === 'object') {\n          for (var key in name) handlePrefix(el, key, true, name[key]);\n        } else {\n          handlePrefix(el, name, true, value);\n        }\n      }\n    };\n  }();\n  var DomEvent = {\n    add: function (el, events) {\n      if (el) {\n        for (var type in events) {\n          var func = events[type],\n              parts = type.split(/[\\s,]+/g);\n\n          for (var i = 0, l = parts.length; i < l; i++) {\n            var name = parts[i];\n            var options = el === document && (name === 'touchstart' || name === 'touchmove') ? {\n              passive: false\n            } : false;\n            el.addEventListener(name, func, options);\n          }\n        }\n      }\n    },\n    remove: function (el, events) {\n      if (el) {\n        for (var type in events) {\n          var func = events[type],\n              parts = type.split(/[\\s,]+/g);\n\n          for (var i = 0, l = parts.length; i < l; i++) el.removeEventListener(parts[i], func, false);\n        }\n      }\n    },\n    getPoint: function (event) {\n      var pos = event.targetTouches ? event.targetTouches.length ? event.targetTouches[0] : event.changedTouches[0] : event;\n      return new Point(pos.pageX || pos.clientX + document.documentElement.scrollLeft, pos.pageY || pos.clientY + document.documentElement.scrollTop);\n    },\n    getTarget: function (event) {\n      return event.target || event.srcElement;\n    },\n    getRelatedTarget: function (event) {\n      return event.relatedTarget || event.toElement;\n    },\n    getOffset: function (event, target) {\n      return DomEvent.getPoint(event).subtract(DomElement.getOffset(target || DomEvent.getTarget(event)));\n    }\n  };\n  DomEvent.requestAnimationFrame = new function () {\n    var nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n        requested = false,\n        callbacks = [],\n        timer;\n\n    function handleCallbacks() {\n      var functions = callbacks;\n      callbacks = [];\n\n      for (var i = 0, l = functions.length; i < l; i++) functions[i]();\n\n      requested = nativeRequest && callbacks.length;\n      if (requested) nativeRequest(handleCallbacks);\n    }\n\n    return function (callback) {\n      callbacks.push(callback);\n\n      if (nativeRequest) {\n        if (!requested) {\n          nativeRequest(handleCallbacks);\n          requested = true;\n        }\n      } else if (!timer) {\n        timer = setInterval(handleCallbacks, 1000 / 60);\n      }\n    };\n  }();\n  var View = Base.extend(Emitter, {\n    _class: 'View',\n    initialize: function View(project, element) {\n      function getSize(name) {\n        return element[name] || parseInt(element.getAttribute(name), 10);\n      }\n\n      function getCanvasSize() {\n        var size = DomElement.getSize(element);\n        return size.isNaN() || size.isZero() ? new Size(getSize('width'), getSize('height')) : size;\n      }\n\n      var size;\n\n      if (window && element) {\n        this._id = element.getAttribute('id');\n        if (this._id == null) element.setAttribute('id', this._id = 'paper-view-' + View._id++);\n        DomEvent.add(element, this._viewEvents);\n        var none = 'none';\n        DomElement.setPrefixed(element.style, {\n          userDrag: none,\n          userSelect: none,\n          touchCallout: none,\n          contentZooming: none,\n          tapHighlightColor: 'rgba(0,0,0,0)'\n        });\n\n        if (PaperScope.hasAttribute(element, 'resize')) {\n          var that = this;\n          DomEvent.add(window, this._windowEvents = {\n            resize: function () {\n              that.setViewSize(getCanvasSize());\n            }\n          });\n        }\n\n        size = getCanvasSize();\n\n        if (PaperScope.hasAttribute(element, 'stats') && typeof Stats !== 'undefined') {\n          this._stats = new Stats();\n          var stats = this._stats.domElement,\n              style = stats.style,\n              offset = DomElement.getOffset(element);\n          style.position = 'absolute';\n          style.left = offset.x + 'px';\n          style.top = offset.y + 'px';\n          document.body.appendChild(stats);\n        }\n      } else {\n        size = new Size(element);\n        element = null;\n      }\n\n      this._project = project;\n      this._scope = project._scope;\n      this._element = element;\n      if (!this._pixelRatio) this._pixelRatio = window && window.devicePixelRatio || 1;\n\n      this._setElementSize(size.width, size.height);\n\n      this._viewSize = size;\n\n      View._views.push(this);\n\n      View._viewsById[this._id] = this;\n      (this._matrix = new Matrix())._owner = this;\n      if (!View._focused) View._focused = this;\n      this._frameItems = {};\n      this._frameItemCount = 0;\n      this._itemEvents = {\n        native: {},\n        virtual: {}\n      };\n      this._autoUpdate = !paper.agent.node;\n      this._needsUpdate = false;\n    },\n    remove: function () {\n      if (!this._project) return false;\n      if (View._focused === this) View._focused = null;\n\n      View._views.splice(View._views.indexOf(this), 1);\n\n      delete View._viewsById[this._id];\n      var project = this._project;\n      if (project._view === this) project._view = null;\n      DomEvent.remove(this._element, this._viewEvents);\n      DomEvent.remove(window, this._windowEvents);\n      this._element = this._project = null;\n      this.off('frame');\n      this._animate = false;\n      this._frameItems = {};\n      return true;\n    },\n    _events: Base.each(Item._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']), function (name) {\n      this[name] = {};\n    }, {\n      onFrame: {\n        install: function () {\n          this.play();\n        },\n        uninstall: function () {\n          this.pause();\n        }\n      }\n    }),\n    _animate: false,\n    _time: 0,\n    _count: 0,\n    getAutoUpdate: function () {\n      return this._autoUpdate;\n    },\n    setAutoUpdate: function (autoUpdate) {\n      this._autoUpdate = autoUpdate;\n      if (autoUpdate) this.requestUpdate();\n    },\n    update: function () {},\n    draw: function () {\n      this.update();\n    },\n    requestUpdate: function () {\n      if (!this._requested) {\n        var that = this;\n        DomEvent.requestAnimationFrame(function () {\n          that._requested = false;\n\n          if (that._animate) {\n            that.requestUpdate();\n            var element = that._element;\n\n            if ((!DomElement.getPrefixed(document, 'hidden') || PaperScope.getAttribute(element, 'keepalive') === 'true') && DomElement.isInView(element)) {\n              that._handleFrame();\n            }\n          }\n\n          if (that._autoUpdate) that.update();\n        });\n        this._requested = true;\n      }\n    },\n    play: function () {\n      this._animate = true;\n      this.requestUpdate();\n    },\n    pause: function () {\n      this._animate = false;\n    },\n    _handleFrame: function () {\n      paper = this._scope;\n      var now = Date.now() / 1000,\n          delta = this._last ? now - this._last : 0;\n      this._last = now;\n      this.emit('frame', new Base({\n        delta: delta,\n        time: this._time += delta,\n        count: this._count++\n      }));\n      if (this._stats) this._stats.update();\n    },\n    _animateItem: function (item, animate) {\n      var items = this._frameItems;\n\n      if (animate) {\n        items[item._id] = {\n          item: item,\n          time: 0,\n          count: 0\n        };\n        if (++this._frameItemCount === 1) this.on('frame', this._handleFrameItems);\n      } else {\n        delete items[item._id];\n\n        if (--this._frameItemCount === 0) {\n          this.off('frame', this._handleFrameItems);\n        }\n      }\n    },\n    _handleFrameItems: function (event) {\n      for (var i in this._frameItems) {\n        var entry = this._frameItems[i];\n        entry.item.emit('frame', new Base(event, {\n          time: entry.time += event.delta,\n          count: entry.count++\n        }));\n      }\n    },\n    _changed: function () {\n      this._project._changed(4097);\n\n      this._bounds = this._decomposed = undefined;\n    },\n    getElement: function () {\n      return this._element;\n    },\n    getPixelRatio: function () {\n      return this._pixelRatio;\n    },\n    getResolution: function () {\n      return this._pixelRatio * 72;\n    },\n    getViewSize: function () {\n      var size = this._viewSize;\n      return new LinkedSize(size.width, size.height, this, 'setViewSize');\n    },\n    setViewSize: function () {\n      var size = Size.read(arguments),\n          delta = size.subtract(this._viewSize);\n      if (delta.isZero()) return;\n\n      this._setElementSize(size.width, size.height);\n\n      this._viewSize.set(size);\n\n      this._changed();\n\n      this.emit('resize', {\n        size: size,\n        delta: delta\n      });\n\n      if (this._autoUpdate) {\n        this.update();\n      }\n    },\n    _setElementSize: function (width, height) {\n      var element = this._element;\n\n      if (element) {\n        if (element.width !== width) element.width = width;\n        if (element.height !== height) element.height = height;\n      }\n    },\n    getBounds: function () {\n      if (!this._bounds) this._bounds = this._matrix.inverted()._transformBounds(new Rectangle(new Point(), this._viewSize));\n      return this._bounds;\n    },\n    getSize: function () {\n      return this.getBounds().getSize();\n    },\n    isVisible: function () {\n      return DomElement.isInView(this._element);\n    },\n    isInserted: function () {\n      return DomElement.isInserted(this._element);\n    },\n    getPixelSize: function (size) {\n      var element = this._element,\n          pixels;\n\n      if (element) {\n        var parent = element.parentNode,\n            temp = document.createElement('div');\n        temp.style.fontSize = size;\n        parent.appendChild(temp);\n        pixels = parseFloat(DomElement.getStyles(temp).fontSize);\n        parent.removeChild(temp);\n      } else {\n        pixels = parseFloat(pixels);\n      }\n\n      return pixels;\n    },\n    getTextWidth: function (font, lines) {\n      return 0;\n    }\n  }, Base.each(['rotate', 'scale', 'shear', 'skew'], function (key) {\n    var rotate = key === 'rotate';\n\n    this[key] = function () {\n      var args = arguments,\n          value = (rotate ? Base : Point).read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      });\n      return this.transform(new Matrix()[key](value, center || this.getCenter(true)));\n    };\n  }, {\n    _decompose: function () {\n      return this._decomposed || (this._decomposed = this._matrix.decompose());\n    },\n    translate: function () {\n      var mx = new Matrix();\n      return this.transform(mx.translate.apply(mx, arguments));\n    },\n    getCenter: function () {\n      return this.getBounds().getCenter();\n    },\n    setCenter: function () {\n      var center = Point.read(arguments);\n      this.translate(this.getCenter().subtract(center));\n    },\n    getZoom: function () {\n      var scaling = this._decompose().scaling;\n\n      return (scaling.x + scaling.y) / 2;\n    },\n    setZoom: function (zoom) {\n      this.transform(new Matrix().scale(zoom / this.getZoom(), this.getCenter()));\n    },\n    getRotation: function () {\n      return this._decompose().rotation;\n    },\n    setRotation: function (rotation) {\n      var current = this.getRotation();\n\n      if (current != null && rotation != null) {\n        this.rotate(rotation - current);\n      }\n    },\n    getScaling: function () {\n      var scaling = this._decompose().scaling;\n\n      return new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n    },\n    setScaling: function () {\n      var current = this.getScaling(),\n          scaling = Point.read(arguments, 0, {\n        clone: true,\n        readNull: true\n      });\n\n      if (current && scaling) {\n        this.scale(scaling.x / current.x, scaling.y / current.y);\n      }\n    },\n    getMatrix: function () {\n      return this._matrix;\n    },\n    setMatrix: function () {\n      var matrix = this._matrix;\n      matrix.set.apply(matrix, arguments);\n    },\n    transform: function (matrix) {\n      this._matrix.append(matrix);\n    },\n    scrollBy: function () {\n      this.translate(Point.read(arguments).negate());\n    }\n  }), {\n    projectToView: function () {\n      return this._matrix._transformPoint(Point.read(arguments));\n    },\n    viewToProject: function () {\n      return this._matrix._inverseTransform(Point.read(arguments));\n    },\n    getEventPoint: function (event) {\n      return this.viewToProject(DomEvent.getOffset(event, this._element));\n    }\n  }, {\n    statics: {\n      _views: [],\n      _viewsById: {},\n      _id: 0,\n      create: function (project, element) {\n        if (document && typeof element === 'string') element = document.getElementById(element);\n        var ctor = window ? CanvasView : View;\n        return new ctor(project, element);\n      }\n    }\n  }, new function () {\n    if (!window) return;\n    var prevFocus,\n        tempFocus,\n        dragging = false,\n        mouseDown = false;\n\n    function getView(event) {\n      var target = DomEvent.getTarget(event);\n      return target.getAttribute && View._viewsById[target.getAttribute('id')];\n    }\n\n    function updateFocus() {\n      var view = View._focused;\n\n      if (!view || !view.isVisible()) {\n        for (var i = 0, l = View._views.length; i < l; i++) {\n          if ((view = View._views[i]).isVisible()) {\n            View._focused = tempFocus = view;\n            break;\n          }\n        }\n      }\n    }\n\n    function handleMouseMove(view, event, point) {\n      view._handleMouseEvent('mousemove', event, point);\n    }\n\n    var navigator = window.navigator,\n        mousedown,\n        mousemove,\n        mouseup;\n\n    if (navigator.pointerEnabled || navigator.msPointerEnabled) {\n      mousedown = 'pointerdown MSPointerDown';\n      mousemove = 'pointermove MSPointerMove';\n      mouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n    } else {\n      mousedown = 'touchstart';\n      mousemove = 'touchmove';\n      mouseup = 'touchend touchcancel';\n\n      if (!('ontouchstart' in window && navigator.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n        mousedown += ' mousedown';\n        mousemove += ' mousemove';\n        mouseup += ' mouseup';\n      }\n    }\n\n    var viewEvents = {},\n        docEvents = {\n      mouseout: function (event) {\n        var view = View._focused,\n            target = DomEvent.getRelatedTarget(event);\n\n        if (view && (!target || target.nodeName === 'HTML')) {\n          var offset = DomEvent.getOffset(event, view._element),\n              x = offset.x,\n              abs = Math.abs,\n              ax = abs(x),\n              max = 1 << 25,\n              diff = ax - max;\n          offset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n          handleMouseMove(view, event, view.viewToProject(offset));\n        }\n      },\n      scroll: updateFocus\n    };\n\n    viewEvents[mousedown] = function (event) {\n      var view = View._focused = getView(event);\n\n      if (!dragging) {\n        dragging = true;\n\n        view._handleMouseEvent('mousedown', event);\n      }\n    };\n\n    docEvents[mousemove] = function (event) {\n      var view = View._focused;\n\n      if (!mouseDown) {\n        var target = getView(event);\n\n        if (target) {\n          if (view !== target) {\n            if (view) handleMouseMove(view, event);\n            if (!prevFocus) prevFocus = view;\n            view = View._focused = tempFocus = target;\n          }\n        } else if (tempFocus && tempFocus === view) {\n          if (prevFocus && !prevFocus.isInserted()) prevFocus = null;\n          view = View._focused = prevFocus;\n          prevFocus = null;\n          updateFocus();\n        }\n      }\n\n      if (view) handleMouseMove(view, event);\n    };\n\n    docEvents[mousedown] = function () {\n      mouseDown = true;\n    };\n\n    docEvents[mouseup] = function (event) {\n      var view = View._focused;\n      if (view && dragging) view._handleMouseEvent('mouseup', event);\n      mouseDown = dragging = false;\n    };\n\n    DomEvent.add(document, docEvents);\n    DomEvent.add(window, {\n      load: updateFocus\n    });\n    var called = false,\n        prevented = false,\n        fallbacks = {\n      doubleclick: 'click',\n      mousedrag: 'mousemove'\n    },\n        wasInView = false,\n        overView,\n        downPoint,\n        lastPoint,\n        downItem,\n        overItem,\n        dragItem,\n        clickItem,\n        clickTime,\n        dblClick;\n\n    function emitMouseEvent(obj, target, type, event, point, prevPoint, stopItem) {\n      var stopped = false,\n          mouseEvent;\n\n      function emit(obj, type) {\n        if (obj.responds(type)) {\n          if (!mouseEvent) {\n            mouseEvent = new MouseEvent(type, event, point, target || obj, prevPoint ? point.subtract(prevPoint) : null);\n          }\n\n          if (obj.emit(type, mouseEvent)) {\n            called = true;\n            if (mouseEvent.prevented) prevented = true;\n            if (mouseEvent.stopped) return stopped = true;\n          }\n        } else {\n          var fallback = fallbacks[type];\n          if (fallback) return emit(obj, fallback);\n        }\n      }\n\n      while (obj && obj !== stopItem) {\n        if (emit(obj, type)) break;\n        obj = obj._parent;\n      }\n\n      return stopped;\n    }\n\n    function emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n      view._project.removeOn(type);\n\n      prevented = called = false;\n      return dragItem && emitMouseEvent(dragItem, null, type, event, point, prevPoint) || hitItem && hitItem !== dragItem && !hitItem.isDescendant(dragItem) && emitMouseEvent(hitItem, null, type === 'mousedrag' ? 'mousemove' : type, event, point, prevPoint, dragItem) || emitMouseEvent(view, dragItem || hitItem || view, type, event, point, prevPoint);\n    }\n\n    var itemEventsMap = {\n      mousedown: {\n        mousedown: 1,\n        mousedrag: 1,\n        click: 1,\n        doubleclick: 1\n      },\n      mouseup: {\n        mouseup: 1,\n        mousedrag: 1,\n        click: 1,\n        doubleclick: 1\n      },\n      mousemove: {\n        mousedrag: 1,\n        mousemove: 1,\n        mouseenter: 1,\n        mouseleave: 1\n      }\n    };\n    return {\n      _viewEvents: viewEvents,\n      _handleMouseEvent: function (type, event, point) {\n        var itemEvents = this._itemEvents,\n            hitItems = itemEvents.native[type],\n            nativeMove = type === 'mousemove',\n            tool = this._scope.tool,\n            view = this;\n\n        function responds(type) {\n          return itemEvents.virtual[type] || view.responds(type) || tool && tool.responds(type);\n        }\n\n        if (nativeMove && dragging && responds('mousedrag')) type = 'mousedrag';\n        if (!point) point = this.getEventPoint(event);\n\n        var inView = this.getBounds().contains(point),\n            hit = hitItems && inView && view._project.hitTest(point, {\n          tolerance: 0,\n          fill: true,\n          stroke: true\n        }),\n            hitItem = hit && hit.item || null,\n            handle = false,\n            mouse = {};\n\n        mouse[type.substr(5)] = true;\n\n        if (hitItems && hitItem !== overItem) {\n          if (overItem) {\n            emitMouseEvent(overItem, null, 'mouseleave', event, point);\n          }\n\n          if (hitItem) {\n            emitMouseEvent(hitItem, null, 'mouseenter', event, point);\n          }\n\n          overItem = hitItem;\n        }\n\n        if (wasInView ^ inView) {\n          emitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave', event, point);\n          overView = inView ? this : null;\n          handle = true;\n        }\n\n        if ((inView || mouse.drag) && !point.equals(lastPoint)) {\n          emitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove', event, point, lastPoint);\n          handle = true;\n        }\n\n        wasInView = inView;\n\n        if (mouse.down && inView || mouse.up && downPoint) {\n          emitMouseEvents(this, hitItem, type, event, point, downPoint);\n\n          if (mouse.down) {\n            dblClick = hitItem === clickItem && Date.now() - clickTime < 300;\n            downItem = clickItem = hitItem;\n\n            if (!prevented && hitItem) {\n              var item = hitItem;\n\n              while (item && !item.responds('mousedrag')) item = item._parent;\n\n              if (item) dragItem = hitItem;\n            }\n\n            downPoint = point;\n          } else if (mouse.up) {\n            if (!prevented && hitItem === downItem) {\n              clickTime = Date.now();\n              emitMouseEvents(this, hitItem, dblClick ? 'doubleclick' : 'click', event, point, downPoint);\n              dblClick = false;\n            }\n\n            downItem = dragItem = null;\n          }\n\n          wasInView = false;\n          handle = true;\n        }\n\n        lastPoint = point;\n\n        if (handle && tool) {\n          called = tool._handleMouseEvent(type, event, point, mouse) || called;\n        }\n\n        if (event.cancelable !== false && (called && !mouse.move || mouse.down && responds('mouseup'))) {\n          event.preventDefault();\n        }\n      },\n      _handleKeyEvent: function (type, event, key, character) {\n        var scope = this._scope,\n            tool = scope.tool,\n            keyEvent;\n\n        function emit(obj) {\n          if (obj.responds(type)) {\n            paper = scope;\n            obj.emit(type, keyEvent = keyEvent || new KeyEvent(type, event, key, character));\n          }\n        }\n\n        if (this.isVisible()) {\n          emit(this);\n          if (tool && tool.responds(type)) emit(tool);\n        }\n      },\n      _countItemEvent: function (type, sign) {\n        var itemEvents = this._itemEvents,\n            native = itemEvents.native,\n            virtual = itemEvents.virtual;\n\n        for (var key in itemEventsMap) {\n          native[key] = (native[key] || 0) + (itemEventsMap[key][type] || 0) * sign;\n        }\n\n        virtual[type] = (virtual[type] || 0) + sign;\n      },\n      statics: {\n        updateFocus: updateFocus,\n        _resetState: function () {\n          dragging = mouseDown = called = wasInView = false;\n          prevFocus = tempFocus = overView = downPoint = lastPoint = downItem = overItem = dragItem = clickItem = clickTime = dblClick = null;\n        }\n      }\n    };\n  }());\n  var CanvasView = View.extend({\n    _class: 'CanvasView',\n    initialize: function CanvasView(project, canvas) {\n      if (!(canvas instanceof window.HTMLCanvasElement)) {\n        var size = Size.read(arguments, 1);\n        if (size.isZero()) throw new Error('Cannot create CanvasView with the provided argument: ' + Base.slice(arguments, 1));\n        canvas = CanvasProvider.getCanvas(size);\n      }\n\n      var ctx = this._context = canvas.getContext('2d');\n      ctx.save();\n      this._pixelRatio = 1;\n\n      if (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n        var deviceRatio = window.devicePixelRatio || 1,\n            backingStoreRatio = DomElement.getPrefixed(ctx, 'backingStorePixelRatio') || 1;\n        this._pixelRatio = deviceRatio / backingStoreRatio;\n      }\n\n      View.call(this, project, canvas);\n      this._needsUpdate = true;\n    },\n    remove: function remove() {\n      this._context.restore();\n\n      return remove.base.call(this);\n    },\n    _setElementSize: function _setElementSize(width, height) {\n      var pixelRatio = this._pixelRatio;\n\n      _setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\n      if (pixelRatio !== 1) {\n        var element = this._element,\n            ctx = this._context;\n\n        if (!PaperScope.hasAttribute(element, 'resize')) {\n          var style = element.style;\n          style.width = width + 'px';\n          style.height = height + 'px';\n        }\n\n        ctx.restore();\n        ctx.save();\n        ctx.scale(pixelRatio, pixelRatio);\n      }\n    },\n    getContext: function () {\n      return this._context;\n    },\n    getPixelSize: function getPixelSize(size) {\n      var agent = paper.agent,\n          pixels;\n\n      if (agent && agent.firefox) {\n        pixels = getPixelSize.base.call(this, size);\n      } else {\n        var ctx = this._context,\n            prevFont = ctx.font;\n        ctx.font = size + ' serif';\n        pixels = parseFloat(ctx.font);\n        ctx.font = prevFont;\n      }\n\n      return pixels;\n    },\n    getTextWidth: function (font, lines) {\n      var ctx = this._context,\n          prevFont = ctx.font,\n          width = 0;\n      ctx.font = font;\n\n      for (var i = 0, l = lines.length; i < l; i++) width = Math.max(width, ctx.measureText(lines[i]).width);\n\n      ctx.font = prevFont;\n      return width;\n    },\n    update: function () {\n      if (!this._needsUpdate) return false;\n      var project = this._project,\n          ctx = this._context,\n          size = this._viewSize;\n      ctx.clearRect(0, 0, size.width + 1, size.height + 1);\n      if (project) project.draw(ctx, this._matrix, this._pixelRatio);\n      this._needsUpdate = false;\n      return true;\n    }\n  });\n  var Event = Base.extend({\n    _class: 'Event',\n    initialize: function Event(event) {\n      this.event = event;\n      this.type = event && event.type;\n    },\n    prevented: false,\n    stopped: false,\n    preventDefault: function () {\n      this.prevented = true;\n      this.event.preventDefault();\n    },\n    stopPropagation: function () {\n      this.stopped = true;\n      this.event.stopPropagation();\n    },\n    stop: function () {\n      this.stopPropagation();\n      this.preventDefault();\n    },\n    getTimeStamp: function () {\n      return this.event.timeStamp;\n    },\n    getModifiers: function () {\n      return Key.modifiers;\n    }\n  });\n  var KeyEvent = Event.extend({\n    _class: 'KeyEvent',\n    initialize: function KeyEvent(type, event, key, character) {\n      this.type = type;\n      this.event = event;\n      this.key = key;\n      this.character = character;\n    },\n    toString: function () {\n      return \"{ type: '\" + this.type + \"', key: '\" + this.key + \"', character: '\" + this.character + \"', modifiers: \" + this.getModifiers() + \" }\";\n    }\n  });\n  var Key = new function () {\n    var keyLookup = {\n      '\\t': 'tab',\n      ' ': 'space',\n      '\\b': 'backspace',\n      '\\x7f': 'delete',\n      'Spacebar': 'space',\n      'Del': 'delete',\n      'Win': 'meta',\n      'Esc': 'escape'\n    },\n        charLookup = {\n      'tab': '\\t',\n      'space': ' ',\n      'enter': '\\r'\n    },\n        keyMap = {},\n        charMap = {},\n        metaFixMap,\n        downKey,\n        modifiers = new Base({\n      shift: false,\n      control: false,\n      alt: false,\n      meta: false,\n      capsLock: false,\n      space: false\n    }).inject({\n      option: {\n        get: function () {\n          return this.alt;\n        }\n      },\n      command: {\n        get: function () {\n          var agent = paper && paper.agent;\n          return agent && agent.mac ? this.meta : this.control;\n        }\n      }\n    });\n\n    function getKey(event) {\n      var key = event.key || event.keyIdentifier;\n      key = /^U\\+/.test(key) ? String.fromCharCode(parseInt(key.substr(2), 16)) : /^Arrow[A-Z]/.test(key) ? key.substr(5) : key === 'Unidentified' || key === undefined ? String.fromCharCode(event.keyCode) : key;\n      return keyLookup[key] || (key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n    }\n\n    function handleKey(down, key, character, event) {\n      var type = down ? 'keydown' : 'keyup',\n          view = View._focused,\n          name;\n      keyMap[key] = down;\n\n      if (down) {\n        charMap[key] = character;\n      } else {\n        delete charMap[key];\n      }\n\n      if (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n        modifiers[name] = down;\n        var agent = paper && paper.agent;\n\n        if (name === 'meta' && agent && agent.mac) {\n          if (down) {\n            metaFixMap = {};\n          } else {\n            for (var k in metaFixMap) {\n              if (k in charMap) handleKey(false, k, metaFixMap[k], event);\n            }\n\n            metaFixMap = null;\n          }\n        }\n      } else if (down && metaFixMap) {\n        metaFixMap[key] = character;\n      }\n\n      if (view) {\n        view._handleKeyEvent(down ? 'keydown' : 'keyup', event, key, character);\n      }\n    }\n\n    DomEvent.add(document, {\n      keydown: function (event) {\n        var key = getKey(event),\n            agent = paper && paper.agent;\n\n        if (key.length > 1 || agent && agent.chrome && (event.altKey || agent.mac && event.metaKey || !agent.mac && event.ctrlKey)) {\n          handleKey(true, key, charLookup[key] || (key.length > 1 ? '' : key), event);\n        } else {\n          downKey = key;\n        }\n      },\n      keypress: function (event) {\n        if (downKey) {\n          var key = getKey(event),\n              code = event.charCode,\n              character = code >= 32 ? String.fromCharCode(code) : key.length > 1 ? '' : key;\n\n          if (key !== downKey) {\n            key = character.toLowerCase();\n          }\n\n          handleKey(true, key, character, event);\n          downKey = null;\n        }\n      },\n      keyup: function (event) {\n        var key = getKey(event);\n        if (key in charMap) handleKey(false, key, charMap[key], event);\n      }\n    });\n    DomEvent.add(window, {\n      blur: function (event) {\n        for (var key in charMap) handleKey(false, key, charMap[key], event);\n      }\n    });\n    return {\n      modifiers: modifiers,\n      isDown: function (key) {\n        return !!keyMap[key];\n      }\n    };\n  }();\n  var MouseEvent = Event.extend({\n    _class: 'MouseEvent',\n    initialize: function MouseEvent(type, event, point, target, delta) {\n      this.type = type;\n      this.event = event;\n      this.point = point;\n      this.target = target;\n      this.delta = delta;\n    },\n    toString: function () {\n      return \"{ type: '\" + this.type + \"', point: \" + this.point + ', target: ' + this.target + (this.delta ? ', delta: ' + this.delta : '') + ', modifiers: ' + this.getModifiers() + ' }';\n    }\n  });\n  var ToolEvent = Event.extend({\n    _class: 'ToolEvent',\n    _item: null,\n    initialize: function ToolEvent(tool, type, event) {\n      this.tool = tool;\n      this.type = type;\n      this.event = event;\n    },\n    _choosePoint: function (point, toolPoint) {\n      return point ? point : toolPoint ? toolPoint.clone() : null;\n    },\n    getPoint: function () {\n      return this._choosePoint(this._point, this.tool._point);\n    },\n    setPoint: function (point) {\n      this._point = point;\n    },\n    getLastPoint: function () {\n      return this._choosePoint(this._lastPoint, this.tool._lastPoint);\n    },\n    setLastPoint: function (lastPoint) {\n      this._lastPoint = lastPoint;\n    },\n    getDownPoint: function () {\n      return this._choosePoint(this._downPoint, this.tool._downPoint);\n    },\n    setDownPoint: function (downPoint) {\n      this._downPoint = downPoint;\n    },\n    getMiddlePoint: function () {\n      if (!this._middlePoint && this.tool._lastPoint) {\n        return this.tool._point.add(this.tool._lastPoint).divide(2);\n      }\n\n      return this._middlePoint;\n    },\n    setMiddlePoint: function (middlePoint) {\n      this._middlePoint = middlePoint;\n    },\n    getDelta: function () {\n      return !this._delta && this.tool._lastPoint ? this.tool._point.subtract(this.tool._lastPoint) : this._delta;\n    },\n    setDelta: function (delta) {\n      this._delta = delta;\n    },\n    getCount: function () {\n      return this.tool[/^mouse(down|up)$/.test(this.type) ? '_downCount' : '_moveCount'];\n    },\n    setCount: function (count) {\n      this.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count'] = count;\n    },\n    getItem: function () {\n      if (!this._item) {\n        var result = this.tool._scope.project.hitTest(this.getPoint());\n\n        if (result) {\n          var item = result.item,\n              parent = item._parent;\n\n          while (/^(Group|CompoundPath)$/.test(parent._class)) {\n            item = parent;\n            parent = parent._parent;\n          }\n\n          this._item = item;\n        }\n      }\n\n      return this._item;\n    },\n    setItem: function (item) {\n      this._item = item;\n    },\n    toString: function () {\n      return '{ type: ' + this.type + ', point: ' + this.getPoint() + ', count: ' + this.getCount() + ', modifiers: ' + this.getModifiers() + ' }';\n    }\n  });\n  var Tool = PaperScopeItem.extend({\n    _class: 'Tool',\n    _list: 'tools',\n    _reference: 'tool',\n    _events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove', 'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown', 'onKeyUp'],\n    initialize: function Tool(props) {\n      PaperScopeItem.call(this);\n      this._moveCount = -1;\n      this._downCount = -1;\n      this.set(props);\n    },\n    getMinDistance: function () {\n      return this._minDistance;\n    },\n    setMinDistance: function (minDistance) {\n      this._minDistance = minDistance;\n\n      if (minDistance != null && this._maxDistance != null && minDistance > this._maxDistance) {\n        this._maxDistance = minDistance;\n      }\n    },\n    getMaxDistance: function () {\n      return this._maxDistance;\n    },\n    setMaxDistance: function (maxDistance) {\n      this._maxDistance = maxDistance;\n\n      if (this._minDistance != null && maxDistance != null && maxDistance < this._minDistance) {\n        this._minDistance = maxDistance;\n      }\n    },\n    getFixedDistance: function () {\n      return this._minDistance == this._maxDistance ? this._minDistance : null;\n    },\n    setFixedDistance: function (distance) {\n      this._minDistance = this._maxDistance = distance;\n    },\n    _handleMouseEvent: function (type, event, point, mouse) {\n      paper = this._scope;\n      if (mouse.drag && !this.responds(type)) type = 'mousemove';\n      var move = mouse.move || mouse.drag,\n          responds = this.responds(type),\n          minDistance = this.minDistance,\n          maxDistance = this.maxDistance,\n          called = false,\n          tool = this;\n\n      function update(minDistance, maxDistance) {\n        var pt = point,\n            toolPoint = move ? tool._point : tool._downPoint || pt;\n\n        if (move) {\n          if (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n            return false;\n          }\n\n          if (toolPoint && (minDistance != null || maxDistance != null)) {\n            var vector = pt.subtract(toolPoint),\n                distance = vector.getLength();\n            if (distance < (minDistance || 0)) return false;\n\n            if (maxDistance) {\n              pt = toolPoint.add(vector.normalize(Math.min(distance, maxDistance)));\n            }\n          }\n\n          tool._moveCount++;\n        }\n\n        tool._point = pt;\n        tool._lastPoint = toolPoint || pt;\n\n        if (mouse.down) {\n          tool._moveCount = -1;\n          tool._downPoint = pt;\n          tool._downCount++;\n        }\n\n        return true;\n      }\n\n      function emit() {\n        if (responds) {\n          called = tool.emit(type, new ToolEvent(tool, type, event)) || called;\n        }\n      }\n\n      if (mouse.down) {\n        update();\n        emit();\n      } else if (mouse.up) {\n        update(null, maxDistance);\n        emit();\n      } else if (responds) {\n        while (update(minDistance, maxDistance)) emit();\n      }\n\n      return called;\n    }\n  });\n  var Tween = Base.extend(Emitter, {\n    _class: 'Tween',\n    statics: {\n      easings: {\n        linear: function (t) {\n          return t;\n        },\n        easeInQuad: function (t) {\n          return t * t;\n        },\n        easeOutQuad: function (t) {\n          return t * (2 - t);\n        },\n        easeInOutQuad: function (t) {\n          return t < 0.5 ? 2 * t * t : -1 + 2 * (2 - t) * t;\n        },\n        easeInCubic: function (t) {\n          return t * t * t;\n        },\n        easeOutCubic: function (t) {\n          return --t * t * t + 1;\n        },\n        easeInOutCubic: function (t) {\n          return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n        },\n        easeInQuart: function (t) {\n          return t * t * t * t;\n        },\n        easeOutQuart: function (t) {\n          return 1 - --t * t * t * t;\n        },\n        easeInOutQuart: function (t) {\n          return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n        },\n        easeInQuint: function (t) {\n          return t * t * t * t * t;\n        },\n        easeOutQuint: function (t) {\n          return 1 + --t * t * t * t * t;\n        },\n        easeInOutQuint: function (t) {\n          return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n        }\n      }\n    },\n    initialize: function Tween(object, from, to, duration, easing, start) {\n      this.object = object;\n      var type = typeof easing;\n      var isFunction = type === 'function';\n      this.type = isFunction ? type : type === 'string' ? easing : 'linear';\n      this.easing = isFunction ? easing : Tween.easings[this.type];\n      this.duration = duration;\n      this.running = false;\n      this._then = null;\n      this._startTime = null;\n      var state = from || to;\n      this._keys = state ? Object.keys(state) : [];\n      this._parsedKeys = this._parseKeys(this._keys);\n      this._from = state && this._getState(from);\n      this._to = state && this._getState(to);\n\n      if (start !== false) {\n        this.start();\n      }\n    },\n    then: function (then) {\n      this._then = then;\n      return this;\n    },\n    start: function () {\n      this._startTime = null;\n      this.running = true;\n      return this;\n    },\n    stop: function () {\n      this.running = false;\n      return this;\n    },\n    update: function (progress) {\n      if (this.running) {\n        if (progress >= 1) {\n          progress = 1;\n          this.running = false;\n        }\n\n        var factor = this.easing(progress),\n            keys = this._keys,\n            getValue = function (value) {\n          return typeof value === 'function' ? value(factor, progress) : value;\n        };\n\n        for (var i = 0, l = keys && keys.length; i < l; i++) {\n          var key = keys[i],\n              from = getValue(this._from[key]),\n              to = getValue(this._to[key]),\n              value = from && to && from.__add && to.__add ? to.__subtract(from).__multiply(factor).__add(from) : (to - from) * factor + from;\n\n          this._setProperty(this._parsedKeys[key], value);\n        }\n\n        if (this.responds('update')) {\n          this.emit('update', new Base({\n            progress: progress,\n            factor: factor\n          }));\n        }\n\n        if (!this.running && this._then) {\n          this._then(this.object);\n        }\n      }\n\n      return this;\n    },\n    _events: {\n      onUpdate: {}\n    },\n    _handleFrame: function (time) {\n      var startTime = this._startTime,\n          progress = startTime ? (time - startTime) / this.duration : 0;\n\n      if (!startTime) {\n        this._startTime = time;\n      }\n\n      this.update(progress);\n    },\n    _getState: function (state) {\n      var keys = this._keys,\n          result = {};\n\n      for (var i = 0, l = keys.length; i < l; i++) {\n        var key = keys[i],\n            path = this._parsedKeys[key],\n            current = this._getProperty(path),\n            value;\n\n        if (state) {\n          var resolved = this._resolveValue(current, state[key]);\n\n          this._setProperty(path, resolved);\n\n          value = this._getProperty(path);\n          value = value && value.clone ? value.clone() : value;\n\n          this._setProperty(path, current);\n        } else {\n          value = current && current.clone ? current.clone() : current;\n        }\n\n        result[key] = value;\n      }\n\n      return result;\n    },\n    _resolveValue: function (current, value) {\n      if (value) {\n        if (Array.isArray(value) && value.length === 2) {\n          var operator = value[0];\n          return operator && operator.match && operator.match(/^[+\\-\\*\\/]=/) ? this._calculate(current, operator[0], value[1]) : value;\n        } else if (typeof value === 'string') {\n          var match = value.match(/^[+\\-*/]=(.*)/);\n\n          if (match) {\n            var parsed = JSON.parse(match[1].replace(/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g, '\"$2\": '));\n            return this._calculate(current, value[0], parsed);\n          }\n        }\n      }\n\n      return value;\n    },\n    _calculate: function (left, operator, right) {\n      return paper.PaperScript.calculateBinary(left, operator, right);\n    },\n    _parseKeys: function (keys) {\n      var parsed = {};\n\n      for (var i = 0, l = keys.length; i < l; i++) {\n        var key = keys[i],\n            path = key.replace(/\\.([^.]*)/g, '/$1').replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n        parsed[key] = path.split('/');\n      }\n\n      return parsed;\n    },\n    _getProperty: function (path, offset) {\n      var obj = this.object;\n\n      for (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n        obj = obj[path[i]];\n      }\n\n      return obj;\n    },\n    _setProperty: function (path, value) {\n      var dest = this._getProperty(path, 1);\n\n      if (dest) {\n        dest[path[path.length - 1]] = value;\n      }\n    }\n  });\n  var Http = {\n    request: function (options) {\n      var xhr = new self.XMLHttpRequest();\n      xhr.open((options.method || 'get').toUpperCase(), options.url, Base.pick(options.async, true));\n      if (options.mimeType) xhr.overrideMimeType(options.mimeType);\n\n      xhr.onload = function () {\n        var status = xhr.status;\n\n        if (status === 0 || status === 200) {\n          if (options.onLoad) {\n            options.onLoad.call(xhr, xhr.responseText);\n          }\n        } else {\n          xhr.onerror();\n        }\n      };\n\n      xhr.onerror = function () {\n        var status = xhr.status,\n            message = 'Could not load \"' + options.url + '\" (Status: ' + status + ')';\n\n        if (options.onError) {\n          options.onError(message, status);\n        } else {\n          throw new Error(message);\n        }\n      };\n\n      return xhr.send(null);\n    }\n  };\n  var CanvasProvider = Base.exports.CanvasProvider = {\n    canvases: [],\n    getCanvas: function (width, height) {\n      if (!window) return null;\n      var canvas,\n          clear = true;\n\n      if (typeof width === 'object') {\n        height = width.height;\n        width = width.width;\n      }\n\n      if (this.canvases.length) {\n        canvas = this.canvases.pop();\n      } else {\n        canvas = document.createElement('canvas');\n        clear = false;\n      }\n\n      var ctx = canvas.getContext('2d');\n\n      if (!ctx) {\n        throw new Error('Canvas ' + canvas + ' is unable to provide a 2D context.');\n      }\n\n      if (canvas.width === width && canvas.height === height) {\n        if (clear) ctx.clearRect(0, 0, width + 1, height + 1);\n      } else {\n        canvas.width = width;\n        canvas.height = height;\n      }\n\n      ctx.save();\n      return canvas;\n    },\n    getContext: function (width, height) {\n      var canvas = this.getCanvas(width, height);\n      return canvas ? canvas.getContext('2d') : null;\n    },\n    release: function (obj) {\n      var canvas = obj && obj.canvas ? obj.canvas : obj;\n\n      if (canvas && canvas.getContext) {\n        canvas.getContext('2d').restore();\n        this.canvases.push(canvas);\n      }\n    }\n  };\n  var BlendMode = new function () {\n    var min = Math.min,\n        max = Math.max,\n        abs = Math.abs,\n        sr,\n        sg,\n        sb,\n        sa,\n        br,\n        bg,\n        bb,\n        ba,\n        dr,\n        dg,\n        db;\n\n    function getLum(r, g, b) {\n      return 0.2989 * r + 0.587 * g + 0.114 * b;\n    }\n\n    function setLum(r, g, b, l) {\n      var d = l - getLum(r, g, b);\n      dr = r + d;\n      dg = g + d;\n      db = b + d;\n      var l = getLum(dr, dg, db),\n          mn = min(dr, dg, db),\n          mx = max(dr, dg, db);\n\n      if (mn < 0) {\n        var lmn = l - mn;\n        dr = l + (dr - l) * l / lmn;\n        dg = l + (dg - l) * l / lmn;\n        db = l + (db - l) * l / lmn;\n      }\n\n      if (mx > 255) {\n        var ln = 255 - l,\n            mxl = mx - l;\n        dr = l + (dr - l) * ln / mxl;\n        dg = l + (dg - l) * ln / mxl;\n        db = l + (db - l) * ln / mxl;\n      }\n    }\n\n    function getSat(r, g, b) {\n      return max(r, g, b) - min(r, g, b);\n    }\n\n    function setSat(r, g, b, s) {\n      var col = [r, g, b],\n          mx = max(r, g, b),\n          mn = min(r, g, b),\n          md;\n      mn = mn === r ? 0 : mn === g ? 1 : 2;\n      mx = mx === r ? 0 : mx === g ? 1 : 2;\n      md = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\n      if (col[mx] > col[mn]) {\n        col[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n        col[mx] = s;\n      } else {\n        col[md] = col[mx] = 0;\n      }\n\n      col[mn] = 0;\n      dr = col[0];\n      dg = col[1];\n      db = col[2];\n    }\n\n    var modes = {\n      multiply: function () {\n        dr = br * sr / 255;\n        dg = bg * sg / 255;\n        db = bb * sb / 255;\n      },\n      screen: function () {\n        dr = br + sr - br * sr / 255;\n        dg = bg + sg - bg * sg / 255;\n        db = bb + sb - bb * sb / 255;\n      },\n      overlay: function () {\n        dr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n        dg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n        db = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n      },\n      'soft-light': function () {\n        var t = sr * br / 255;\n        dr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n        t = sg * bg / 255;\n        dg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n        t = sb * bb / 255;\n        db = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n      },\n      'hard-light': function () {\n        dr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n        dg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n        db = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n      },\n      'color-dodge': function () {\n        dr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n        dg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n        db = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n      },\n      'color-burn': function () {\n        dr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n        dg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n        db = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n      },\n      darken: function () {\n        dr = br < sr ? br : sr;\n        dg = bg < sg ? bg : sg;\n        db = bb < sb ? bb : sb;\n      },\n      lighten: function () {\n        dr = br > sr ? br : sr;\n        dg = bg > sg ? bg : sg;\n        db = bb > sb ? bb : sb;\n      },\n      difference: function () {\n        dr = br - sr;\n        if (dr < 0) dr = -dr;\n        dg = bg - sg;\n        if (dg < 0) dg = -dg;\n        db = bb - sb;\n        if (db < 0) db = -db;\n      },\n      exclusion: function () {\n        dr = br + sr * (255 - br - br) / 255;\n        dg = bg + sg * (255 - bg - bg) / 255;\n        db = bb + sb * (255 - bb - bb) / 255;\n      },\n      hue: function () {\n        setSat(sr, sg, sb, getSat(br, bg, bb));\n        setLum(dr, dg, db, getLum(br, bg, bb));\n      },\n      saturation: function () {\n        setSat(br, bg, bb, getSat(sr, sg, sb));\n        setLum(dr, dg, db, getLum(br, bg, bb));\n      },\n      luminosity: function () {\n        setLum(br, bg, bb, getLum(sr, sg, sb));\n      },\n      color: function () {\n        setLum(sr, sg, sb, getLum(br, bg, bb));\n      },\n      add: function () {\n        dr = min(br + sr, 255);\n        dg = min(bg + sg, 255);\n        db = min(bb + sb, 255);\n      },\n      subtract: function () {\n        dr = max(br - sr, 0);\n        dg = max(bg - sg, 0);\n        db = max(bb - sb, 0);\n      },\n      average: function () {\n        dr = (br + sr) / 2;\n        dg = (bg + sg) / 2;\n        db = (bb + sb) / 2;\n      },\n      negation: function () {\n        dr = 255 - abs(255 - sr - br);\n        dg = 255 - abs(255 - sg - bg);\n        db = 255 - abs(255 - sb - bb);\n      }\n    };\n    var nativeModes = this.nativeModes = Base.each(['source-over', 'source-in', 'source-out', 'source-atop', 'destination-over', 'destination-in', 'destination-out', 'destination-atop', 'lighter', 'darker', 'copy', 'xor'], function (mode) {\n      this[mode] = true;\n    }, {});\n    var ctx = CanvasProvider.getContext(1, 1);\n\n    if (ctx) {\n      Base.each(modes, function (func, mode) {\n        var darken = mode === 'darken',\n            ok = false;\n        ctx.save();\n\n        try {\n          ctx.fillStyle = darken ? '#300' : '#a00';\n          ctx.fillRect(0, 0, 1, 1);\n          ctx.globalCompositeOperation = mode;\n\n          if (ctx.globalCompositeOperation === mode) {\n            ctx.fillStyle = darken ? '#a00' : '#300';\n            ctx.fillRect(0, 0, 1, 1);\n            ok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken ? 170 : 51;\n          }\n        } catch (e) {}\n\n        ctx.restore();\n        nativeModes[mode] = ok;\n      });\n      CanvasProvider.release(ctx);\n    }\n\n    this.process = function (mode, srcContext, dstContext, alpha, offset) {\n      var srcCanvas = srcContext.canvas,\n          normal = mode === 'normal';\n\n      if (normal || nativeModes[mode]) {\n        dstContext.save();\n        dstContext.setTransform(1, 0, 0, 1, 0, 0);\n        dstContext.globalAlpha = alpha;\n        if (!normal) dstContext.globalCompositeOperation = mode;\n        dstContext.drawImage(srcCanvas, offset.x, offset.y);\n        dstContext.restore();\n      } else {\n        var process = modes[mode];\n        if (!process) return;\n        var dstData = dstContext.getImageData(offset.x, offset.y, srcCanvas.width, srcCanvas.height),\n            dst = dstData.data,\n            src = srcContext.getImageData(0, 0, srcCanvas.width, srcCanvas.height).data;\n\n        for (var i = 0, l = dst.length; i < l; i += 4) {\n          sr = src[i];\n          br = dst[i];\n          sg = src[i + 1];\n          bg = dst[i + 1];\n          sb = src[i + 2];\n          bb = dst[i + 2];\n          sa = src[i + 3];\n          ba = dst[i + 3];\n          process();\n          var a1 = sa * alpha / 255,\n              a2 = 1 - a1;\n          dst[i] = a1 * dr + a2 * br;\n          dst[i + 1] = a1 * dg + a2 * bg;\n          dst[i + 2] = a1 * db + a2 * bb;\n          dst[i + 3] = sa * alpha + a2 * ba;\n        }\n\n        dstContext.putImageData(dstData, offset.x, offset.y);\n      }\n    };\n  }();\n  var SvgElement = new function () {\n    var svg = 'http://www.w3.org/2000/svg',\n        xmlns = 'http://www.w3.org/2000/xmlns',\n        xlink = 'http://www.w3.org/1999/xlink',\n        attributeNamespace = {\n      href: xlink,\n      xlink: xmlns,\n      xmlns: xmlns + '/',\n      'xmlns:xlink': xmlns + '/'\n    };\n\n    function create(tag, attributes, formatter) {\n      return set(document.createElementNS(svg, tag), attributes, formatter);\n    }\n\n    function get(node, name) {\n      var namespace = attributeNamespace[name],\n          value = namespace ? node.getAttributeNS(namespace, name) : node.getAttribute(name);\n      return value === 'null' ? null : value;\n    }\n\n    function set(node, attributes, formatter) {\n      for (var name in attributes) {\n        var value = attributes[name],\n            namespace = attributeNamespace[name];\n        if (typeof value === 'number' && formatter) value = formatter.number(value);\n\n        if (namespace) {\n          node.setAttributeNS(namespace, name, value);\n        } else {\n          node.setAttribute(name, value);\n        }\n      }\n\n      return node;\n    }\n\n    return {\n      svg: svg,\n      xmlns: xmlns,\n      xlink: xlink,\n      create: create,\n      get: get,\n      set: set\n    };\n  }();\n  var SvgStyles = Base.each({\n    fillColor: ['fill', 'color'],\n    fillRule: ['fill-rule', 'string'],\n    strokeColor: ['stroke', 'color'],\n    strokeWidth: ['stroke-width', 'number'],\n    strokeCap: ['stroke-linecap', 'string'],\n    strokeJoin: ['stroke-linejoin', 'string'],\n    strokeScaling: ['vector-effect', 'lookup', {\n      true: 'none',\n      false: 'non-scaling-stroke'\n    }, function (item, value) {\n      return !value && (item instanceof PathItem || item instanceof Shape || item instanceof TextItem);\n    }],\n    miterLimit: ['stroke-miterlimit', 'number'],\n    dashArray: ['stroke-dasharray', 'array'],\n    dashOffset: ['stroke-dashoffset', 'number'],\n    fontFamily: ['font-family', 'string'],\n    fontWeight: ['font-weight', 'string'],\n    fontSize: ['font-size', 'number'],\n    justification: ['text-anchor', 'lookup', {\n      left: 'start',\n      center: 'middle',\n      right: 'end'\n    }],\n    opacity: ['opacity', 'number'],\n    blendMode: ['mix-blend-mode', 'style']\n  }, function (entry, key) {\n    var part = Base.capitalize(key),\n        lookup = entry[2];\n    this[key] = {\n      type: entry[1],\n      property: key,\n      attribute: entry[0],\n      toSVG: lookup,\n      fromSVG: lookup && Base.each(lookup, function (value, name) {\n        this[value] = name;\n      }, {}),\n      exportFilter: entry[3],\n      get: 'get' + part,\n      set: 'set' + part\n    };\n  }, {});\n  new function () {\n    var formatter;\n\n    function getTransform(matrix, coordinates, center) {\n      var attrs = new Base(),\n          trans = matrix.getTranslation();\n\n      if (coordinates) {\n        var point;\n\n        if (matrix.isInvertible()) {\n          matrix = matrix._shiftless();\n          point = matrix._inverseTransform(trans);\n          trans = null;\n        } else {\n          point = new Point();\n        }\n\n        attrs[center ? 'cx' : 'x'] = point.x;\n        attrs[center ? 'cy' : 'y'] = point.y;\n      }\n\n      if (!matrix.isIdentity()) {\n        var decomposed = matrix.decompose();\n\n        if (decomposed) {\n          var parts = [],\n              angle = decomposed.rotation,\n              scale = decomposed.scaling,\n              skew = decomposed.skewing;\n          if (trans && !trans.isZero()) parts.push('translate(' + formatter.point(trans) + ')');\n          if (angle) parts.push('rotate(' + formatter.number(angle) + ')');\n          if (!Numerical.isZero(scale.x - 1) || !Numerical.isZero(scale.y - 1)) parts.push('scale(' + formatter.point(scale) + ')');\n          if (skew.x) parts.push('skewX(' + formatter.number(skew.x) + ')');\n          if (skew.y) parts.push('skewY(' + formatter.number(skew.y) + ')');\n          attrs.transform = parts.join(' ');\n        } else {\n          attrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n        }\n      }\n\n      return attrs;\n    }\n\n    function exportGroup(item, options) {\n      var attrs = getTransform(item._matrix),\n          children = item._children;\n      var node = SvgElement.create('g', attrs, formatter);\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        var child = children[i];\n        var childNode = exportSVG(child, options);\n\n        if (childNode) {\n          if (child.isClipMask()) {\n            var clip = SvgElement.create('clipPath');\n            clip.appendChild(childNode);\n            setDefinition(child, clip, 'clip');\n            SvgElement.set(node, {\n              'clip-path': 'url(#' + clip.id + ')'\n            });\n          } else {\n            node.appendChild(childNode);\n          }\n        }\n      }\n\n      return node;\n    }\n\n    function exportRaster(item, options) {\n      var attrs = getTransform(item._matrix, true),\n          size = item.getSize(),\n          image = item.getImage();\n      attrs.x -= size.width / 2;\n      attrs.y -= size.height / 2;\n      attrs.width = size.width;\n      attrs.height = size.height;\n      attrs.href = options.embedImages == false && image && image.src || item.toDataURL();\n      return SvgElement.create('image', attrs, formatter);\n    }\n\n    function exportPath(item, options) {\n      var matchShapes = options.matchShapes;\n\n      if (matchShapes) {\n        var shape = item.toShape(false);\n        if (shape) return exportShape(shape, options);\n      }\n\n      var segments = item._segments,\n          length = segments.length,\n          type,\n          attrs = getTransform(item._matrix);\n\n      if (matchShapes && length >= 2 && !item.hasHandles()) {\n        if (length > 2) {\n          type = item._closed ? 'polygon' : 'polyline';\n          var parts = [];\n\n          for (var i = 0; i < length; i++) {\n            parts.push(formatter.point(segments[i]._point));\n          }\n\n          attrs.points = parts.join(' ');\n        } else {\n          type = 'line';\n          var start = segments[0]._point,\n              end = segments[1]._point;\n          attrs.set({\n            x1: start.x,\n            y1: start.y,\n            x2: end.x,\n            y2: end.y\n          });\n        }\n      } else {\n        type = 'path';\n        attrs.d = item.getPathData(null, options.precision);\n      }\n\n      return SvgElement.create(type, attrs, formatter);\n    }\n\n    function exportShape(item) {\n      var type = item._type,\n          radius = item._radius,\n          attrs = getTransform(item._matrix, true, type !== 'rectangle');\n\n      if (type === 'rectangle') {\n        type = 'rect';\n        var size = item._size,\n            width = size.width,\n            height = size.height;\n        attrs.x -= width / 2;\n        attrs.y -= height / 2;\n        attrs.width = width;\n        attrs.height = height;\n        if (radius.isZero()) radius = null;\n      }\n\n      if (radius) {\n        if (type === 'circle') {\n          attrs.r = radius;\n        } else {\n          attrs.rx = radius.width;\n          attrs.ry = radius.height;\n        }\n      }\n\n      return SvgElement.create(type, attrs, formatter);\n    }\n\n    function exportCompoundPath(item, options) {\n      var attrs = getTransform(item._matrix);\n      var data = item.getPathData(null, options.precision);\n      if (data) attrs.d = data;\n      return SvgElement.create('path', attrs, formatter);\n    }\n\n    function exportSymbolItem(item, options) {\n      var attrs = getTransform(item._matrix, true),\n          definition = item._definition,\n          node = getDefinition(definition, 'symbol'),\n          definitionItem = definition._item,\n          bounds = definitionItem.getStrokeBounds();\n\n      if (!node) {\n        node = SvgElement.create('symbol', {\n          viewBox: formatter.rectangle(bounds)\n        });\n        node.appendChild(exportSVG(definitionItem, options));\n        setDefinition(definition, node, 'symbol');\n      }\n\n      attrs.href = '#' + node.id;\n      attrs.x += bounds.x;\n      attrs.y += bounds.y;\n      attrs.width = bounds.width;\n      attrs.height = bounds.height;\n      attrs.overflow = 'visible';\n      return SvgElement.create('use', attrs, formatter);\n    }\n\n    function exportGradient(color) {\n      var gradientNode = getDefinition(color, 'color');\n\n      if (!gradientNode) {\n        var gradient = color.getGradient(),\n            radial = gradient._radial,\n            origin = color.getOrigin(),\n            destination = color.getDestination(),\n            attrs;\n\n        if (radial) {\n          attrs = {\n            cx: origin.x,\n            cy: origin.y,\n            r: origin.getDistance(destination)\n          };\n          var highlight = color.getHighlight();\n\n          if (highlight) {\n            attrs.fx = highlight.x;\n            attrs.fy = highlight.y;\n          }\n        } else {\n          attrs = {\n            x1: origin.x,\n            y1: origin.y,\n            x2: destination.x,\n            y2: destination.y\n          };\n        }\n\n        attrs.gradientUnits = 'userSpaceOnUse';\n        gradientNode = SvgElement.create((radial ? 'radial' : 'linear') + 'Gradient', attrs, formatter);\n        var stops = gradient._stops;\n\n        for (var i = 0, l = stops.length; i < l; i++) {\n          var stop = stops[i],\n              stopColor = stop._color,\n              alpha = stopColor.getAlpha(),\n              offset = stop._offset;\n          attrs = {\n            offset: offset == null ? i / (l - 1) : offset\n          };\n          if (stopColor) attrs['stop-color'] = stopColor.toCSS(true);\n          if (alpha < 1) attrs['stop-opacity'] = alpha;\n          gradientNode.appendChild(SvgElement.create('stop', attrs, formatter));\n        }\n\n        setDefinition(color, gradientNode, 'color');\n      }\n\n      return 'url(#' + gradientNode.id + ')';\n    }\n\n    function exportText(item) {\n      var node = SvgElement.create('text', getTransform(item._matrix, true), formatter);\n      node.textContent = item._content;\n      return node;\n    }\n\n    var exporters = {\n      Group: exportGroup,\n      Layer: exportGroup,\n      Raster: exportRaster,\n      Path: exportPath,\n      Shape: exportShape,\n      CompoundPath: exportCompoundPath,\n      SymbolItem: exportSymbolItem,\n      PointText: exportText\n    };\n\n    function applyStyle(item, node, isRoot) {\n      var attrs = {},\n          parent = !isRoot && item.getParent(),\n          style = [];\n      if (item._name != null) attrs.id = item._name;\n      Base.each(SvgStyles, function (entry) {\n        var get = entry.get,\n            type = entry.type,\n            value = item[get]();\n\n        if (entry.exportFilter ? entry.exportFilter(item, value) : !parent || !Base.equals(parent[get](), value)) {\n          if (type === 'color' && value != null) {\n            var alpha = value.getAlpha();\n            if (alpha < 1) attrs[entry.attribute + '-opacity'] = alpha;\n          }\n\n          if (type === 'style') {\n            style.push(entry.attribute + ': ' + value);\n          } else {\n            attrs[entry.attribute] = value == null ? 'none' : type === 'color' ? value.gradient ? exportGradient(value, item) : value.toCSS(true) : type === 'array' ? value.join(',') : type === 'lookup' ? entry.toSVG[value] : value;\n          }\n        }\n      });\n      if (style.length) attrs.style = style.join(';');\n      if (attrs.opacity === 1) delete attrs.opacity;\n      if (!item._visible) attrs.visibility = 'hidden';\n      return SvgElement.set(node, attrs, formatter);\n    }\n\n    var definitions;\n\n    function getDefinition(item, type) {\n      if (!definitions) definitions = {\n        ids: {},\n        svgs: {}\n      };\n      return item && definitions.svgs[type + '-' + (item._id || item.__id || (item.__id = UID.get('svg')))];\n    }\n\n    function setDefinition(item, node, type) {\n      if (!definitions) getDefinition();\n      var typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n      node.id = type + '-' + typeId;\n      definitions.svgs[type + '-' + (item._id || item.__id)] = node;\n    }\n\n    function exportDefinitions(node, options) {\n      var svg = node,\n          defs = null;\n\n      if (definitions) {\n        svg = node.nodeName.toLowerCase() === 'svg' && node;\n\n        for (var i in definitions.svgs) {\n          if (!defs) {\n            if (!svg) {\n              svg = SvgElement.create('svg');\n              svg.appendChild(node);\n            }\n\n            defs = svg.insertBefore(SvgElement.create('defs'), svg.firstChild);\n          }\n\n          defs.appendChild(definitions.svgs[i]);\n        }\n\n        definitions = null;\n      }\n\n      return options.asString ? new self.XMLSerializer().serializeToString(svg) : svg;\n    }\n\n    function exportSVG(item, options, isRoot) {\n      var exporter = exporters[item._class],\n          node = exporter && exporter(item, options);\n\n      if (node) {\n        var onExport = options.onExport;\n        if (onExport) node = onExport(item, node, options) || node;\n        var data = JSON.stringify(item._data);\n        if (data && data !== '{}' && data !== 'null') node.setAttribute('data-paper-data', data);\n      }\n\n      return node && applyStyle(item, node, isRoot);\n    }\n\n    function setOptions(options) {\n      if (!options) options = {};\n      formatter = new Formatter(options.precision);\n      return options;\n    }\n\n    Item.inject({\n      exportSVG: function (options) {\n        options = setOptions(options);\n        return exportDefinitions(exportSVG(this, options, true), options);\n      }\n    });\n    Project.inject({\n      exportSVG: function (options) {\n        options = setOptions(options);\n        var children = this._children,\n            view = this.getView(),\n            bounds = Base.pick(options.bounds, 'view'),\n            mx = options.matrix || bounds === 'view' && view._matrix,\n            matrix = mx && Matrix.read([mx]),\n            rect = bounds === 'view' ? new Rectangle([0, 0], view.getViewSize()) : bounds === 'content' ? Item._getBounds(children, matrix, {\n          stroke: true\n        }).rect : Rectangle.read([bounds], 0, {\n          readNull: true\n        }),\n            attrs = {\n          version: '1.1',\n          xmlns: SvgElement.svg,\n          'xmlns:xlink': SvgElement.xlink\n        };\n\n        if (rect) {\n          attrs.width = rect.width;\n          attrs.height = rect.height;\n          if (rect.x || rect.x === 0 || rect.y || rect.y === 0) attrs.viewBox = formatter.rectangle(rect);\n        }\n\n        var node = SvgElement.create('svg', attrs, formatter),\n            parent = node;\n\n        if (matrix && !matrix.isIdentity()) {\n          parent = node.appendChild(SvgElement.create('g', getTransform(matrix), formatter));\n        }\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          parent.appendChild(exportSVG(children[i], options, true));\n        }\n\n        return exportDefinitions(node, options);\n      }\n    });\n  }();\n  new function () {\n    var definitions = {},\n        rootSize;\n\n    function getValue(node, name, isString, allowNull, allowPercent, defaultValue) {\n      var value = SvgElement.get(node, name) || defaultValue,\n          res = value == null ? allowNull ? null : isString ? '' : 0 : isString ? value : parseFloat(value);\n      return /%\\s*$/.test(value) ? res / 100 * (allowPercent ? 1 : rootSize[/x|^width/.test(name) ? 'width' : 'height']) : res;\n    }\n\n    function getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n      x = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n      y = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n      return allowNull && (x == null || y == null) ? null : new Point(x, y);\n    }\n\n    function getSize(node, w, h, allowNull, allowPercent) {\n      w = getValue(node, w || 'width', false, allowNull, allowPercent);\n      h = getValue(node, h || 'height', false, allowNull, allowPercent);\n      return allowNull && (w == null || h == null) ? null : new Size(w, h);\n    }\n\n    function convertValue(value, type, lookup) {\n      return value === 'none' ? null : type === 'number' ? parseFloat(value) : type === 'array' ? value ? value.split(/[\\s,]+/g).map(parseFloat) : [] : type === 'color' ? getDefinition(value) || value : type === 'lookup' ? lookup[value] : value;\n    }\n\n    function importGroup(node, type, options, isRoot) {\n      var nodes = node.childNodes,\n          isClip = type === 'clippath',\n          isDefs = type === 'defs',\n          item = new Group(),\n          project = item._project,\n          currentStyle = project._currentStyle,\n          children = [];\n\n      if (!isClip && !isDefs) {\n        item = applyAttributes(item, node, isRoot);\n        project._currentStyle = item._style.clone();\n      }\n\n      if (isRoot) {\n        var defs = node.querySelectorAll('defs');\n\n        for (var i = 0, l = defs.length; i < l; i++) {\n          importNode(defs[i], options, false);\n        }\n      }\n\n      for (var i = 0, l = nodes.length; i < l; i++) {\n        var childNode = nodes[i],\n            child;\n        if (childNode.nodeType === 1 && !/^defs$/i.test(childNode.nodeName) && (child = importNode(childNode, options, false)) && !(child instanceof SymbolDefinition)) children.push(child);\n      }\n\n      item.addChildren(children);\n      if (isClip) item = applyAttributes(item.reduce(), node, isRoot);\n      project._currentStyle = currentStyle;\n\n      if (isClip || isDefs) {\n        item.remove();\n        item = null;\n      }\n\n      return item;\n    }\n\n    function importPoly(node, type) {\n      var coords = node.getAttribute('points').match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n          points = [];\n\n      for (var i = 0, l = coords.length; i < l; i += 2) points.push(new Point(parseFloat(coords[i]), parseFloat(coords[i + 1])));\n\n      var path = new Path(points);\n      if (type === 'polygon') path.closePath();\n      return path;\n    }\n\n    function importPath(node) {\n      return PathItem.create(node.getAttribute('d'));\n    }\n\n    function importGradient(node, type) {\n      var id = (getValue(node, 'href', true) || '').substring(1),\n          radial = type === 'radialgradient',\n          gradient;\n\n      if (id) {\n        gradient = definitions[id].getGradient();\n\n        if (gradient._radial ^ radial) {\n          gradient = gradient.clone();\n          gradient._radial = radial;\n        }\n      } else {\n        var nodes = node.childNodes,\n            stops = [];\n\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          var child = nodes[i];\n          if (child.nodeType === 1) stops.push(applyAttributes(new GradientStop(), child));\n        }\n\n        gradient = new Gradient(stops, radial);\n      }\n\n      var origin,\n          destination,\n          highlight,\n          scaleToBounds = getValue(node, 'gradientUnits', true) !== 'userSpaceOnUse';\n\n      if (radial) {\n        origin = getPoint(node, 'cx', 'cy', false, scaleToBounds, '50%', '50%');\n        destination = origin.add(getValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n        highlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n      } else {\n        origin = getPoint(node, 'x1', 'y1', false, scaleToBounds, '0%', '0%');\n        destination = getPoint(node, 'x2', 'y2', false, scaleToBounds, '100%', '0%');\n      }\n\n      var color = applyAttributes(new Color(gradient, origin, destination, highlight), node);\n      color._scaleToBounds = scaleToBounds;\n      return null;\n    }\n\n    var importers = {\n      '#document': function (node, type, options, isRoot) {\n        var nodes = node.childNodes;\n\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          var child = nodes[i];\n          if (child.nodeType === 1) return importNode(child, options, isRoot);\n        }\n      },\n      g: importGroup,\n      svg: importGroup,\n      clippath: importGroup,\n      polygon: importPoly,\n      polyline: importPoly,\n      path: importPath,\n      lineargradient: importGradient,\n      radialgradient: importGradient,\n      image: function (node) {\n        var raster = new Raster(getValue(node, 'href', true));\n        raster.on('load', function () {\n          var size = getSize(node);\n          this.setSize(size);\n          var center = getPoint(node).add(size.divide(2));\n\n          this._matrix.append(new Matrix().translate(center));\n        });\n        return raster;\n      },\n      symbol: function (node, type, options, isRoot) {\n        return new SymbolDefinition(importGroup(node, type, options, isRoot), true);\n      },\n      defs: importGroup,\n      use: function (node) {\n        var id = (getValue(node, 'href', true) || '').substring(1),\n            definition = definitions[id],\n            point = getPoint(node);\n        return definition ? definition instanceof SymbolDefinition ? definition.place(point) : definition.clone().translate(point) : null;\n      },\n      circle: function (node) {\n        return new Shape.Circle(getPoint(node, 'cx', 'cy'), getValue(node, 'r'));\n      },\n      ellipse: function (node) {\n        return new Shape.Ellipse({\n          center: getPoint(node, 'cx', 'cy'),\n          radius: getSize(node, 'rx', 'ry')\n        });\n      },\n      rect: function (node) {\n        return new Shape.Rectangle(new Rectangle(getPoint(node), getSize(node)), getSize(node, 'rx', 'ry'));\n      },\n      line: function (node) {\n        return new Path.Line(getPoint(node, 'x1', 'y1'), getPoint(node, 'x2', 'y2'));\n      },\n      text: function (node) {\n        var text = new PointText(getPoint(node).add(getPoint(node, 'dx', 'dy')));\n        text.setContent(node.textContent.trim() || '');\n        return text;\n      },\n      switch: importGroup\n    };\n\n    function applyTransform(item, value, name, node) {\n      if (item.transform) {\n        var transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n            matrix = new Matrix();\n\n        for (var i = 0, l = transforms.length; i < l; i++) {\n          var transform = transforms[i];\n          if (!transform) break;\n          var parts = transform.split(/\\(\\s*/),\n              command = parts[0],\n              v = parts[1].split(/[\\s,]+/g);\n\n          for (var j = 0, m = v.length; j < m; j++) v[j] = parseFloat(v[j]);\n\n          switch (command) {\n            case 'matrix':\n              matrix.append(new Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n              break;\n\n            case 'rotate':\n              matrix.rotate(v[0], v[1] || 0, v[2] || 0);\n              break;\n\n            case 'translate':\n              matrix.translate(v[0], v[1] || 0);\n              break;\n\n            case 'scale':\n              matrix.scale(v);\n              break;\n\n            case 'skewX':\n              matrix.skew(v[0], 0);\n              break;\n\n            case 'skewY':\n              matrix.skew(0, v[0]);\n              break;\n          }\n        }\n\n        item.transform(matrix);\n      }\n    }\n\n    function applyOpacity(item, value, name) {\n      var key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n          color = item[key] && item[key]();\n      if (color) color.setAlpha(parseFloat(value));\n    }\n\n    var attributes = Base.set(Base.each(SvgStyles, function (entry) {\n      this[entry.attribute] = function (item, value) {\n        if (item[entry.set]) {\n          item[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\n          if (entry.type === 'color') {\n            var color = item[entry.get]();\n\n            if (color) {\n              if (color._scaleToBounds) {\n                var bounds = item.getBounds();\n                color.transform(new Matrix().translate(bounds.getPoint()).scale(bounds.getSize()));\n              }\n            }\n          }\n        }\n      };\n    }, {}), {\n      id: function (item, value) {\n        definitions[value] = item;\n        if (item.setName) item.setName(value);\n      },\n      'clip-path': function (item, value) {\n        var clip = getDefinition(value);\n\n        if (clip) {\n          clip = clip.clone();\n          clip.setClipMask(true);\n\n          if (item instanceof Group) {\n            item.insertChild(0, clip);\n          } else {\n            return new Group(clip, item);\n          }\n        }\n      },\n      gradientTransform: applyTransform,\n      transform: applyTransform,\n      'fill-opacity': applyOpacity,\n      'stroke-opacity': applyOpacity,\n      visibility: function (item, value) {\n        if (item.setVisible) item.setVisible(value === 'visible');\n      },\n      display: function (item, value) {\n        if (item.setVisible) item.setVisible(value !== null);\n      },\n      'stop-color': function (item, value) {\n        if (item.setColor) item.setColor(value);\n      },\n      'stop-opacity': function (item, value) {\n        if (item._color) item._color.setAlpha(parseFloat(value));\n      },\n      offset: function (item, value) {\n        if (item.setOffset) {\n          var percent = value.match(/(.*)%$/);\n          item.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n        }\n      },\n      viewBox: function (item, value, name, node, styles) {\n        var rect = new Rectangle(convertValue(value, 'array')),\n            size = getSize(node, null, null, true),\n            group,\n            matrix;\n\n        if (item instanceof Group) {\n          var scale = size ? size.divide(rect.getSize()) : 1,\n              matrix = new Matrix().scale(scale).translate(rect.getPoint().negate());\n          group = item;\n        } else if (item instanceof SymbolDefinition) {\n          if (size) rect.setSize(size);\n          group = item._item;\n        }\n\n        if (group) {\n          if (getAttribute(node, 'overflow', styles) !== 'visible') {\n            var clip = new Shape.Rectangle(rect);\n            clip.setClipMask(true);\n            group.addChild(clip);\n          }\n\n          if (matrix) group.transform(matrix);\n        }\n      }\n    });\n\n    function getAttribute(node, name, styles) {\n      var attr = node.attributes[name],\n          value = attr && attr.value;\n\n      if (!value && node.style) {\n        var style = Base.camelize(name);\n        value = node.style[style];\n        if (!value && styles.node[style] !== styles.parent[style]) value = styles.node[style];\n      }\n\n      return !value ? undefined : value === 'none' ? null : value;\n    }\n\n    function applyAttributes(item, node, isRoot) {\n      var parent = node.parentNode,\n          styles = {\n        node: DomElement.getStyles(node) || {},\n        parent: !isRoot && !/^defs$/i.test(parent.tagName) && DomElement.getStyles(parent) || {}\n      };\n      Base.each(attributes, function (apply, name) {\n        var value = getAttribute(node, name, styles);\n        item = value !== undefined && apply(item, value, name, node, styles) || item;\n      });\n      return item;\n    }\n\n    function getDefinition(value) {\n      var match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n          name = match && match[1],\n          res = name && definitions[window ? name.replace(window.location.href.split('#')[0] + '#', '') : name];\n\n      if (res && res._scaleToBounds) {\n        res = res.clone();\n        res._scaleToBounds = true;\n      }\n\n      return res;\n    }\n\n    function importNode(node, options, isRoot) {\n      var type = node.nodeName.toLowerCase(),\n          isElement = type !== '#document',\n          body = document.body,\n          container,\n          parent,\n          next;\n\n      if (isRoot && isElement) {\n        rootSize = paper.getView().getSize();\n        rootSize = getSize(node, null, null, true) || rootSize;\n        container = SvgElement.create('svg', {\n          style: 'stroke-width: 1px; stroke-miterlimit: 10'\n        });\n        parent = node.parentNode;\n        next = node.nextSibling;\n        container.appendChild(node);\n        body.appendChild(container);\n      }\n\n      var settings = paper.settings,\n          applyMatrix = settings.applyMatrix,\n          insertItems = settings.insertItems;\n      settings.applyMatrix = false;\n      settings.insertItems = false;\n      var importer = importers[type],\n          item = importer && importer(node, type, options, isRoot) || null;\n      settings.insertItems = insertItems;\n      settings.applyMatrix = applyMatrix;\n\n      if (item) {\n        if (isElement && !(item instanceof Group)) item = applyAttributes(item, node, isRoot);\n        var onImport = options.onImport,\n            data = isElement && node.getAttribute('data-paper-data');\n        if (onImport) item = onImport(node, item, options) || item;\n\n        if (options.expandShapes && item instanceof Shape) {\n          item.remove();\n          item = item.toPath();\n        }\n\n        if (data) item._data = JSON.parse(data);\n      }\n\n      if (container) {\n        body.removeChild(container);\n\n        if (parent) {\n          if (next) {\n            parent.insertBefore(node, next);\n          } else {\n            parent.appendChild(node);\n          }\n        }\n      }\n\n      if (isRoot) {\n        definitions = {};\n        if (item && Base.pick(options.applyMatrix, applyMatrix)) item.matrix.apply(true, true);\n      }\n\n      return item;\n    }\n\n    function importSVG(source, options, owner) {\n      if (!source) return null;\n      options = typeof options === 'function' ? {\n        onLoad: options\n      } : options || {};\n      var scope = paper,\n          item = null;\n\n      function onLoad(svg) {\n        try {\n          var node = typeof svg === 'object' ? svg : new self.DOMParser().parseFromString(svg.trim(), 'image/svg+xml');\n\n          if (!node.nodeName) {\n            node = null;\n            throw new Error('Unsupported SVG source: ' + source);\n          }\n\n          paper = scope;\n          item = importNode(node, options, true);\n\n          if (!options || options.insert !== false) {\n            owner._insertItem(undefined, item);\n          }\n\n          var onLoad = options.onLoad;\n          if (onLoad) onLoad(item, svg);\n        } catch (e) {\n          onError(e);\n        }\n      }\n\n      function onError(message, status) {\n        var onError = options.onError;\n\n        if (onError) {\n          onError(message, status);\n        } else {\n          throw new Error(message);\n        }\n      }\n\n      if (typeof source === 'string' && !/^[\\s\\S]*</.test(source)) {\n        var node = document.getElementById(source);\n\n        if (node) {\n          onLoad(node);\n        } else {\n          Http.request({\n            url: source,\n            async: true,\n            onLoad: onLoad,\n            onError: onError\n          });\n        }\n      } else if (typeof File !== 'undefined' && source instanceof File) {\n        var reader = new FileReader();\n\n        reader.onload = function () {\n          onLoad(reader.result);\n        };\n\n        reader.onerror = function () {\n          onError(reader.error);\n        };\n\n        return reader.readAsText(source);\n      } else {\n        onLoad(source);\n      }\n\n      return item;\n    }\n\n    Item.inject({\n      importSVG: function (node, options) {\n        return importSVG(node, options, this);\n      }\n    });\n    Project.inject({\n      importSVG: function (node, options) {\n        this.activate();\n        return importSVG(node, options, this);\n      }\n    });\n  }();\n\n  Base.exports.PaperScript = function () {\n    var global = this,\n        acorn = global.acorn;\n\n    if (!acorn && typeof require !== 'undefined') {\n      try {\n        acorn = require('acorn');\n      } catch (e) {}\n    }\n\n    if (!acorn) {\n      var exports, module;\n      acorn = exports = module = {};\n\n      (function (root, mod) {\n        if (typeof exports == \"object\" && typeof module == \"object\") return mod(exports);\n        if (typeof define == \"function\" && define.amd) return define([\"exports\"], mod);\n        mod(root.acorn || (root.acorn = {}));\n      })(this, function (exports) {\n        \"use strict\";\n\n        exports.version = \"0.5.0\";\n        var options, input, inputLen, sourceFile;\n\n        exports.parse = function (inpt, opts) {\n          input = String(inpt);\n          inputLen = input.length;\n          setOptions(opts);\n          initTokenState();\n          return parseTopLevel(options.program);\n        };\n\n        var defaultOptions = exports.defaultOptions = {\n          ecmaVersion: 5,\n          strictSemicolons: false,\n          allowTrailingCommas: true,\n          forbidReserved: false,\n          allowReturnOutsideFunction: false,\n          locations: false,\n          onComment: null,\n          ranges: false,\n          program: null,\n          sourceFile: null,\n          directSourceFile: null\n        };\n\n        function setOptions(opts) {\n          options = opts || {};\n\n          for (var opt in defaultOptions) if (!Object.prototype.hasOwnProperty.call(options, opt)) options[opt] = defaultOptions[opt];\n\n          sourceFile = options.sourceFile || null;\n        }\n\n        var getLineInfo = exports.getLineInfo = function (input, offset) {\n          for (var line = 1, cur = 0;;) {\n            lineBreak.lastIndex = cur;\n            var match = lineBreak.exec(input);\n\n            if (match && match.index < offset) {\n              ++line;\n              cur = match.index + match[0].length;\n            } else break;\n          }\n\n          return {\n            line: line,\n            column: offset - cur\n          };\n        };\n\n        exports.tokenize = function (inpt, opts) {\n          input = String(inpt);\n          inputLen = input.length;\n          setOptions(opts);\n          initTokenState();\n          var t = {};\n\n          function getToken(forceRegexp) {\n            lastEnd = tokEnd;\n            readToken(forceRegexp);\n            t.start = tokStart;\n            t.end = tokEnd;\n            t.startLoc = tokStartLoc;\n            t.endLoc = tokEndLoc;\n            t.type = tokType;\n            t.value = tokVal;\n            return t;\n          }\n\n          getToken.jumpTo = function (pos, reAllowed) {\n            tokPos = pos;\n\n            if (options.locations) {\n              tokCurLine = 1;\n              tokLineStart = lineBreak.lastIndex = 0;\n              var match;\n\n              while ((match = lineBreak.exec(input)) && match.index < pos) {\n                ++tokCurLine;\n                tokLineStart = match.index + match[0].length;\n              }\n            }\n\n            tokRegexpAllowed = reAllowed;\n            skipSpace();\n          };\n\n          return getToken;\n        };\n\n        var tokPos;\n        var tokStart, tokEnd;\n        var tokStartLoc, tokEndLoc;\n        var tokType, tokVal;\n        var tokRegexpAllowed;\n        var tokCurLine, tokLineStart;\n        var lastStart, lastEnd, lastEndLoc;\n        var inFunction, labels, strict;\n\n        function raise(pos, message) {\n          var loc = getLineInfo(input, pos);\n          message += \" (\" + loc.line + \":\" + loc.column + \")\";\n          var err = new SyntaxError(message);\n          err.pos = pos;\n          err.loc = loc;\n          err.raisedAt = tokPos;\n          throw err;\n        }\n\n        var empty = [];\n        var _num = {\n          type: \"num\"\n        },\n            _regexp = {\n          type: \"regexp\"\n        },\n            _string = {\n          type: \"string\"\n        };\n        var _name = {\n          type: \"name\"\n        },\n            _eof = {\n          type: \"eof\"\n        };\n        var _break = {\n          keyword: \"break\"\n        },\n            _case = {\n          keyword: \"case\",\n          beforeExpr: true\n        },\n            _catch = {\n          keyword: \"catch\"\n        };\n        var _continue = {\n          keyword: \"continue\"\n        },\n            _debugger = {\n          keyword: \"debugger\"\n        },\n            _default = {\n          keyword: \"default\"\n        };\n        var _do = {\n          keyword: \"do\",\n          isLoop: true\n        },\n            _else = {\n          keyword: \"else\",\n          beforeExpr: true\n        };\n        var _finally = {\n          keyword: \"finally\"\n        },\n            _for = {\n          keyword: \"for\",\n          isLoop: true\n        },\n            _function = {\n          keyword: \"function\"\n        };\n        var _if = {\n          keyword: \"if\"\n        },\n            _return = {\n          keyword: \"return\",\n          beforeExpr: true\n        },\n            _switch = {\n          keyword: \"switch\"\n        };\n        var _throw = {\n          keyword: \"throw\",\n          beforeExpr: true\n        },\n            _try = {\n          keyword: \"try\"\n        },\n            _var = {\n          keyword: \"var\"\n        };\n        var _while = {\n          keyword: \"while\",\n          isLoop: true\n        },\n            _with = {\n          keyword: \"with\"\n        },\n            _new = {\n          keyword: \"new\",\n          beforeExpr: true\n        };\n        var _this = {\n          keyword: \"this\"\n        };\n        var _null = {\n          keyword: \"null\",\n          atomValue: null\n        },\n            _true = {\n          keyword: \"true\",\n          atomValue: true\n        };\n        var _false = {\n          keyword: \"false\",\n          atomValue: false\n        };\n        var _in = {\n          keyword: \"in\",\n          binop: 7,\n          beforeExpr: true\n        };\n        var keywordTypes = {\n          \"break\": _break,\n          \"case\": _case,\n          \"catch\": _catch,\n          \"continue\": _continue,\n          \"debugger\": _debugger,\n          \"default\": _default,\n          \"do\": _do,\n          \"else\": _else,\n          \"finally\": _finally,\n          \"for\": _for,\n          \"function\": _function,\n          \"if\": _if,\n          \"return\": _return,\n          \"switch\": _switch,\n          \"throw\": _throw,\n          \"try\": _try,\n          \"var\": _var,\n          \"while\": _while,\n          \"with\": _with,\n          \"null\": _null,\n          \"true\": _true,\n          \"false\": _false,\n          \"new\": _new,\n          \"in\": _in,\n          \"instanceof\": {\n            keyword: \"instanceof\",\n            binop: 7,\n            beforeExpr: true\n          },\n          \"this\": _this,\n          \"typeof\": {\n            keyword: \"typeof\",\n            prefix: true,\n            beforeExpr: true\n          },\n          \"void\": {\n            keyword: \"void\",\n            prefix: true,\n            beforeExpr: true\n          },\n          \"delete\": {\n            keyword: \"delete\",\n            prefix: true,\n            beforeExpr: true\n          }\n        };\n        var _bracketL = {\n          type: \"[\",\n          beforeExpr: true\n        },\n            _bracketR = {\n          type: \"]\"\n        },\n            _braceL = {\n          type: \"{\",\n          beforeExpr: true\n        };\n        var _braceR = {\n          type: \"}\"\n        },\n            _parenL = {\n          type: \"(\",\n          beforeExpr: true\n        },\n            _parenR = {\n          type: \")\"\n        };\n        var _comma = {\n          type: \",\",\n          beforeExpr: true\n        },\n            _semi = {\n          type: \";\",\n          beforeExpr: true\n        };\n        var _colon = {\n          type: \":\",\n          beforeExpr: true\n        },\n            _dot = {\n          type: \".\"\n        },\n            _question = {\n          type: \"?\",\n          beforeExpr: true\n        };\n        var _slash = {\n          binop: 10,\n          beforeExpr: true\n        },\n            _eq = {\n          isAssign: true,\n          beforeExpr: true\n        };\n        var _assign = {\n          isAssign: true,\n          beforeExpr: true\n        };\n        var _incDec = {\n          postfix: true,\n          prefix: true,\n          isUpdate: true\n        },\n            _prefix = {\n          prefix: true,\n          beforeExpr: true\n        };\n        var _logicalOR = {\n          binop: 1,\n          beforeExpr: true\n        };\n        var _logicalAND = {\n          binop: 2,\n          beforeExpr: true\n        };\n        var _bitwiseOR = {\n          binop: 3,\n          beforeExpr: true\n        };\n        var _bitwiseXOR = {\n          binop: 4,\n          beforeExpr: true\n        };\n        var _bitwiseAND = {\n          binop: 5,\n          beforeExpr: true\n        };\n        var _equality = {\n          binop: 6,\n          beforeExpr: true\n        };\n        var _relational = {\n          binop: 7,\n          beforeExpr: true\n        };\n        var _bitShift = {\n          binop: 8,\n          beforeExpr: true\n        };\n        var _plusMin = {\n          binop: 9,\n          prefix: true,\n          beforeExpr: true\n        };\n        var _multiplyModulo = {\n          binop: 10,\n          beforeExpr: true\n        };\n        exports.tokTypes = {\n          bracketL: _bracketL,\n          bracketR: _bracketR,\n          braceL: _braceL,\n          braceR: _braceR,\n          parenL: _parenL,\n          parenR: _parenR,\n          comma: _comma,\n          semi: _semi,\n          colon: _colon,\n          dot: _dot,\n          question: _question,\n          slash: _slash,\n          eq: _eq,\n          name: _name,\n          eof: _eof,\n          num: _num,\n          regexp: _regexp,\n          string: _string\n        };\n\n        for (var kw in keywordTypes) exports.tokTypes[\"_\" + kw] = keywordTypes[kw];\n\n        function makePredicate(words) {\n          words = words.split(\" \");\n          var f = \"\",\n              cats = [];\n\n          out: for (var i = 0; i < words.length; ++i) {\n            for (var j = 0; j < cats.length; ++j) if (cats[j][0].length == words[i].length) {\n              cats[j].push(words[i]);\n              continue out;\n            }\n\n            cats.push([words[i]]);\n          }\n\n          function compareTo(arr) {\n            if (arr.length == 1) return f += \"return str === \" + JSON.stringify(arr[0]) + \";\";\n            f += \"switch(str){\";\n\n            for (var i = 0; i < arr.length; ++i) f += \"case \" + JSON.stringify(arr[i]) + \":\";\n\n            f += \"return true}return false;\";\n          }\n\n          if (cats.length > 3) {\n            cats.sort(function (a, b) {\n              return b.length - a.length;\n            });\n            f += \"switch(str.length){\";\n\n            for (var i = 0; i < cats.length; ++i) {\n              var cat = cats[i];\n              f += \"case \" + cat[0].length + \":\";\n              compareTo(cat);\n            }\n\n            f += \"}\";\n          } else {\n            compareTo(words);\n          }\n\n          return new Function(\"str\", f);\n        }\n\n        var isReservedWord3 = makePredicate(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\");\n        var isReservedWord5 = makePredicate(\"class enum extends super const export import\");\n        var isStrictReservedWord = makePredicate(\"implements interface let package private protected public static yield\");\n        var isStrictBadIdWord = makePredicate(\"eval arguments\");\n        var isKeyword = makePredicate(\"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\");\n        var nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n        var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n        var nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n        var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n        var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n        var newline = /[\\n\\r\\u2028\\u2029]/;\n        var lineBreak = /\\r\\n|[\\n\\r\\u2028\\u2029]/g;\n\n        var isIdentifierStart = exports.isIdentifierStart = function (code) {\n          if (code < 65) return code === 36;\n          if (code < 91) return true;\n          if (code < 97) return code === 95;\n          if (code < 123) return true;\n          return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n        };\n\n        var isIdentifierChar = exports.isIdentifierChar = function (code) {\n          if (code < 48) return code === 36;\n          if (code < 58) return true;\n          if (code < 65) return false;\n          if (code < 91) return true;\n          if (code < 97) return code === 95;\n          if (code < 123) return true;\n          return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n        };\n\n        function line_loc_t() {\n          this.line = tokCurLine;\n          this.column = tokPos - tokLineStart;\n        }\n\n        function initTokenState() {\n          tokCurLine = 1;\n          tokPos = tokLineStart = 0;\n          tokRegexpAllowed = true;\n          skipSpace();\n        }\n\n        function finishToken(type, val) {\n          tokEnd = tokPos;\n          if (options.locations) tokEndLoc = new line_loc_t();\n          tokType = type;\n          skipSpace();\n          tokVal = val;\n          tokRegexpAllowed = type.beforeExpr;\n        }\n\n        function skipBlockComment() {\n          var startLoc = options.onComment && options.locations && new line_loc_t();\n          var start = tokPos,\n              end = input.indexOf(\"*/\", tokPos += 2);\n          if (end === -1) raise(tokPos - 2, \"Unterminated comment\");\n          tokPos = end + 2;\n\n          if (options.locations) {\n            lineBreak.lastIndex = start;\n            var match;\n\n            while ((match = lineBreak.exec(input)) && match.index < tokPos) {\n              ++tokCurLine;\n              tokLineStart = match.index + match[0].length;\n            }\n          }\n\n          if (options.onComment) options.onComment(true, input.slice(start + 2, end), start, tokPos, startLoc, options.locations && new line_loc_t());\n        }\n\n        function skipLineComment() {\n          var start = tokPos;\n          var startLoc = options.onComment && options.locations && new line_loc_t();\n          var ch = input.charCodeAt(tokPos += 2);\n\n          while (tokPos < inputLen && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n            ++tokPos;\n            ch = input.charCodeAt(tokPos);\n          }\n\n          if (options.onComment) options.onComment(false, input.slice(start + 2, tokPos), start, tokPos, startLoc, options.locations && new line_loc_t());\n        }\n\n        function skipSpace() {\n          while (tokPos < inputLen) {\n            var ch = input.charCodeAt(tokPos);\n\n            if (ch === 32) {\n              ++tokPos;\n            } else if (ch === 13) {\n              ++tokPos;\n              var next = input.charCodeAt(tokPos);\n\n              if (next === 10) {\n                ++tokPos;\n              }\n\n              if (options.locations) {\n                ++tokCurLine;\n                tokLineStart = tokPos;\n              }\n            } else if (ch === 10 || ch === 8232 || ch === 8233) {\n              ++tokPos;\n\n              if (options.locations) {\n                ++tokCurLine;\n                tokLineStart = tokPos;\n              }\n            } else if (ch > 8 && ch < 14) {\n              ++tokPos;\n            } else if (ch === 47) {\n              var next = input.charCodeAt(tokPos + 1);\n\n              if (next === 42) {\n                skipBlockComment();\n              } else if (next === 47) {\n                skipLineComment();\n              } else break;\n            } else if (ch === 160) {\n              ++tokPos;\n            } else if (ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n              ++tokPos;\n            } else {\n              break;\n            }\n          }\n        }\n\n        function readToken_dot() {\n          var next = input.charCodeAt(tokPos + 1);\n          if (next >= 48 && next <= 57) return readNumber(true);\n          ++tokPos;\n          return finishToken(_dot);\n        }\n\n        function readToken_slash() {\n          var next = input.charCodeAt(tokPos + 1);\n\n          if (tokRegexpAllowed) {\n            ++tokPos;\n            return readRegexp();\n          }\n\n          if (next === 61) return finishOp(_assign, 2);\n          return finishOp(_slash, 1);\n        }\n\n        function readToken_mult_modulo() {\n          var next = input.charCodeAt(tokPos + 1);\n          if (next === 61) return finishOp(_assign, 2);\n          return finishOp(_multiplyModulo, 1);\n        }\n\n        function readToken_pipe_amp(code) {\n          var next = input.charCodeAt(tokPos + 1);\n          if (next === code) return finishOp(code === 124 ? _logicalOR : _logicalAND, 2);\n          if (next === 61) return finishOp(_assign, 2);\n          return finishOp(code === 124 ? _bitwiseOR : _bitwiseAND, 1);\n        }\n\n        function readToken_caret() {\n          var next = input.charCodeAt(tokPos + 1);\n          if (next === 61) return finishOp(_assign, 2);\n          return finishOp(_bitwiseXOR, 1);\n        }\n\n        function readToken_plus_min(code) {\n          var next = input.charCodeAt(tokPos + 1);\n\n          if (next === code) {\n            if (next == 45 && input.charCodeAt(tokPos + 2) == 62 && newline.test(input.slice(lastEnd, tokPos))) {\n              tokPos += 3;\n              skipLineComment();\n              skipSpace();\n              return readToken();\n            }\n\n            return finishOp(_incDec, 2);\n          }\n\n          if (next === 61) return finishOp(_assign, 2);\n          return finishOp(_plusMin, 1);\n        }\n\n        function readToken_lt_gt(code) {\n          var next = input.charCodeAt(tokPos + 1);\n          var size = 1;\n\n          if (next === code) {\n            size = code === 62 && input.charCodeAt(tokPos + 2) === 62 ? 3 : 2;\n            if (input.charCodeAt(tokPos + size) === 61) return finishOp(_assign, size + 1);\n            return finishOp(_bitShift, size);\n          }\n\n          if (next == 33 && code == 60 && input.charCodeAt(tokPos + 2) == 45 && input.charCodeAt(tokPos + 3) == 45) {\n            tokPos += 4;\n            skipLineComment();\n            skipSpace();\n            return readToken();\n          }\n\n          if (next === 61) size = input.charCodeAt(tokPos + 2) === 61 ? 3 : 2;\n          return finishOp(_relational, size);\n        }\n\n        function readToken_eq_excl(code) {\n          var next = input.charCodeAt(tokPos + 1);\n          if (next === 61) return finishOp(_equality, input.charCodeAt(tokPos + 2) === 61 ? 3 : 2);\n          return finishOp(code === 61 ? _eq : _prefix, 1);\n        }\n\n        function getTokenFromCode(code) {\n          switch (code) {\n            case 46:\n              return readToken_dot();\n\n            case 40:\n              ++tokPos;\n              return finishToken(_parenL);\n\n            case 41:\n              ++tokPos;\n              return finishToken(_parenR);\n\n            case 59:\n              ++tokPos;\n              return finishToken(_semi);\n\n            case 44:\n              ++tokPos;\n              return finishToken(_comma);\n\n            case 91:\n              ++tokPos;\n              return finishToken(_bracketL);\n\n            case 93:\n              ++tokPos;\n              return finishToken(_bracketR);\n\n            case 123:\n              ++tokPos;\n              return finishToken(_braceL);\n\n            case 125:\n              ++tokPos;\n              return finishToken(_braceR);\n\n            case 58:\n              ++tokPos;\n              return finishToken(_colon);\n\n            case 63:\n              ++tokPos;\n              return finishToken(_question);\n\n            case 48:\n              var next = input.charCodeAt(tokPos + 1);\n              if (next === 120 || next === 88) return readHexNumber();\n\n            case 49:\n            case 50:\n            case 51:\n            case 52:\n            case 53:\n            case 54:\n            case 55:\n            case 56:\n            case 57:\n              return readNumber(false);\n\n            case 34:\n            case 39:\n              return readString(code);\n\n            case 47:\n              return readToken_slash(code);\n\n            case 37:\n            case 42:\n              return readToken_mult_modulo();\n\n            case 124:\n            case 38:\n              return readToken_pipe_amp(code);\n\n            case 94:\n              return readToken_caret();\n\n            case 43:\n            case 45:\n              return readToken_plus_min(code);\n\n            case 60:\n            case 62:\n              return readToken_lt_gt(code);\n\n            case 61:\n            case 33:\n              return readToken_eq_excl(code);\n\n            case 126:\n              return finishOp(_prefix, 1);\n          }\n\n          return false;\n        }\n\n        function readToken(forceRegexp) {\n          if (!forceRegexp) tokStart = tokPos;else tokPos = tokStart + 1;\n          if (options.locations) tokStartLoc = new line_loc_t();\n          if (forceRegexp) return readRegexp();\n          if (tokPos >= inputLen) return finishToken(_eof);\n          var code = input.charCodeAt(tokPos);\n          if (isIdentifierStart(code) || code === 92) return readWord();\n          var tok = getTokenFromCode(code);\n\n          if (tok === false) {\n            var ch = String.fromCharCode(code);\n            if (ch === \"\\\\\" || nonASCIIidentifierStart.test(ch)) return readWord();\n            raise(tokPos, \"Unexpected character '\" + ch + \"'\");\n          }\n\n          return tok;\n        }\n\n        function finishOp(type, size) {\n          var str = input.slice(tokPos, tokPos + size);\n          tokPos += size;\n          finishToken(type, str);\n        }\n\n        function readRegexp() {\n          var content = \"\",\n              escaped,\n              inClass,\n              start = tokPos;\n\n          for (;;) {\n            if (tokPos >= inputLen) raise(start, \"Unterminated regular expression\");\n            var ch = input.charAt(tokPos);\n            if (newline.test(ch)) raise(start, \"Unterminated regular expression\");\n\n            if (!escaped) {\n              if (ch === \"[\") inClass = true;else if (ch === \"]\" && inClass) inClass = false;else if (ch === \"/\" && !inClass) break;\n              escaped = ch === \"\\\\\";\n            } else escaped = false;\n\n            ++tokPos;\n          }\n\n          var content = input.slice(start, tokPos);\n          ++tokPos;\n          var mods = readWord1();\n          if (mods && !/^[gmsiy]*$/.test(mods)) raise(start, \"Invalid regexp flag\");\n\n          try {\n            var value = new RegExp(content, mods);\n          } catch (e) {\n            if (e instanceof SyntaxError) raise(start, e.message);\n            raise(e);\n          }\n\n          return finishToken(_regexp, value);\n        }\n\n        function readInt(radix, len) {\n          var start = tokPos,\n              total = 0;\n\n          for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n            var code = input.charCodeAt(tokPos),\n                val;\n            if (code >= 97) val = code - 97 + 10;else if (code >= 65) val = code - 65 + 10;else if (code >= 48 && code <= 57) val = code - 48;else val = Infinity;\n            if (val >= radix) break;\n            ++tokPos;\n            total = total * radix + val;\n          }\n\n          if (tokPos === start || len != null && tokPos - start !== len) return null;\n          return total;\n        }\n\n        function readHexNumber() {\n          tokPos += 2;\n          var val = readInt(16);\n          if (val == null) raise(tokStart + 2, \"Expected hexadecimal number\");\n          if (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n          return finishToken(_num, val);\n        }\n\n        function readNumber(startsWithDot) {\n          var start = tokPos,\n              isFloat = false,\n              octal = input.charCodeAt(tokPos) === 48;\n          if (!startsWithDot && readInt(10) === null) raise(start, \"Invalid number\");\n\n          if (input.charCodeAt(tokPos) === 46) {\n            ++tokPos;\n            readInt(10);\n            isFloat = true;\n          }\n\n          var next = input.charCodeAt(tokPos);\n\n          if (next === 69 || next === 101) {\n            next = input.charCodeAt(++tokPos);\n            if (next === 43 || next === 45) ++tokPos;\n            if (readInt(10) === null) raise(start, \"Invalid number\");\n            isFloat = true;\n          }\n\n          if (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n          var str = input.slice(start, tokPos),\n              val;\n          if (isFloat) val = parseFloat(str);else if (!octal || str.length === 1) val = parseInt(str, 10);else if (/[89]/.test(str) || strict) raise(start, \"Invalid number\");else val = parseInt(str, 8);\n          return finishToken(_num, val);\n        }\n\n        function readString(quote) {\n          tokPos++;\n          var out = \"\";\n\n          for (;;) {\n            if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n            var ch = input.charCodeAt(tokPos);\n\n            if (ch === quote) {\n              ++tokPos;\n              return finishToken(_string, out);\n            }\n\n            if (ch === 92) {\n              ch = input.charCodeAt(++tokPos);\n              var octal = /^[0-7]+/.exec(input.slice(tokPos, tokPos + 3));\n              if (octal) octal = octal[0];\n\n              while (octal && parseInt(octal, 8) > 255) octal = octal.slice(0, -1);\n\n              if (octal === \"0\") octal = null;\n              ++tokPos;\n\n              if (octal) {\n                if (strict) raise(tokPos - 2, \"Octal literal in strict mode\");\n                out += String.fromCharCode(parseInt(octal, 8));\n                tokPos += octal.length - 1;\n              } else {\n                switch (ch) {\n                  case 110:\n                    out += \"\\n\";\n                    break;\n\n                  case 114:\n                    out += \"\\r\";\n                    break;\n\n                  case 120:\n                    out += String.fromCharCode(readHexChar(2));\n                    break;\n\n                  case 117:\n                    out += String.fromCharCode(readHexChar(4));\n                    break;\n\n                  case 85:\n                    out += String.fromCharCode(readHexChar(8));\n                    break;\n\n                  case 116:\n                    out += \"\\t\";\n                    break;\n\n                  case 98:\n                    out += \"\\b\";\n                    break;\n\n                  case 118:\n                    out += \"\\u000b\";\n                    break;\n\n                  case 102:\n                    out += \"\\f\";\n                    break;\n\n                  case 48:\n                    out += \"\\0\";\n                    break;\n\n                  case 13:\n                    if (input.charCodeAt(tokPos) === 10) ++tokPos;\n\n                  case 10:\n                    if (options.locations) {\n                      tokLineStart = tokPos;\n                      ++tokCurLine;\n                    }\n\n                    break;\n\n                  default:\n                    out += String.fromCharCode(ch);\n                    break;\n                }\n              }\n            } else {\n              if (ch === 13 || ch === 10 || ch === 8232 || ch === 8233) raise(tokStart, \"Unterminated string constant\");\n              out += String.fromCharCode(ch);\n              ++tokPos;\n            }\n          }\n        }\n\n        function readHexChar(len) {\n          var n = readInt(16, len);\n          if (n === null) raise(tokStart, \"Bad character escape sequence\");\n          return n;\n        }\n\n        var containsEsc;\n\n        function readWord1() {\n          containsEsc = false;\n          var word,\n              first = true,\n              start = tokPos;\n\n          for (;;) {\n            var ch = input.charCodeAt(tokPos);\n\n            if (isIdentifierChar(ch)) {\n              if (containsEsc) word += input.charAt(tokPos);\n              ++tokPos;\n            } else if (ch === 92) {\n              if (!containsEsc) word = input.slice(start, tokPos);\n              containsEsc = true;\n              if (input.charCodeAt(++tokPos) != 117) raise(tokPos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n              ++tokPos;\n              var esc = readHexChar(4);\n              var escStr = String.fromCharCode(esc);\n              if (!escStr) raise(tokPos - 1, \"Invalid Unicode escape\");\n              if (!(first ? isIdentifierStart(esc) : isIdentifierChar(esc))) raise(tokPos - 4, \"Invalid Unicode escape\");\n              word += escStr;\n            } else {\n              break;\n            }\n\n            first = false;\n          }\n\n          return containsEsc ? word : input.slice(start, tokPos);\n        }\n\n        function readWord() {\n          var word = readWord1();\n          var type = _name;\n          if (!containsEsc && isKeyword(word)) type = keywordTypes[word];\n          return finishToken(type, word);\n        }\n\n        function next() {\n          lastStart = tokStart;\n          lastEnd = tokEnd;\n          lastEndLoc = tokEndLoc;\n          readToken();\n        }\n\n        function setStrict(strct) {\n          strict = strct;\n          tokPos = tokStart;\n\n          if (options.locations) {\n            while (tokPos < tokLineStart) {\n              tokLineStart = input.lastIndexOf(\"\\n\", tokLineStart - 2) + 1;\n              --tokCurLine;\n            }\n          }\n\n          skipSpace();\n          readToken();\n        }\n\n        function node_t() {\n          this.type = null;\n          this.start = tokStart;\n          this.end = null;\n        }\n\n        function node_loc_t() {\n          this.start = tokStartLoc;\n          this.end = null;\n          if (sourceFile !== null) this.source = sourceFile;\n        }\n\n        function startNode() {\n          var node = new node_t();\n          if (options.locations) node.loc = new node_loc_t();\n          if (options.directSourceFile) node.sourceFile = options.directSourceFile;\n          if (options.ranges) node.range = [tokStart, 0];\n          return node;\n        }\n\n        function startNodeFrom(other) {\n          var node = new node_t();\n          node.start = other.start;\n\n          if (options.locations) {\n            node.loc = new node_loc_t();\n            node.loc.start = other.loc.start;\n          }\n\n          if (options.ranges) node.range = [other.range[0], 0];\n          return node;\n        }\n\n        function finishNode(node, type) {\n          node.type = type;\n          node.end = lastEnd;\n          if (options.locations) node.loc.end = lastEndLoc;\n          if (options.ranges) node.range[1] = lastEnd;\n          return node;\n        }\n\n        function isUseStrict(stmt) {\n          return options.ecmaVersion >= 5 && stmt.type === \"ExpressionStatement\" && stmt.expression.type === \"Literal\" && stmt.expression.value === \"use strict\";\n        }\n\n        function eat(type) {\n          if (tokType === type) {\n            next();\n            return true;\n          }\n        }\n\n        function canInsertSemicolon() {\n          return !options.strictSemicolons && (tokType === _eof || tokType === _braceR || newline.test(input.slice(lastEnd, tokStart)));\n        }\n\n        function semicolon() {\n          if (!eat(_semi) && !canInsertSemicolon()) unexpected();\n        }\n\n        function expect(type) {\n          if (tokType === type) next();else unexpected();\n        }\n\n        function unexpected() {\n          raise(tokStart, \"Unexpected token\");\n        }\n\n        function checkLVal(expr) {\n          if (expr.type !== \"Identifier\" && expr.type !== \"MemberExpression\") raise(expr.start, \"Assigning to rvalue\");\n          if (strict && expr.type === \"Identifier\" && isStrictBadIdWord(expr.name)) raise(expr.start, \"Assigning to \" + expr.name + \" in strict mode\");\n        }\n\n        function parseTopLevel(program) {\n          lastStart = lastEnd = tokPos;\n          if (options.locations) lastEndLoc = new line_loc_t();\n          inFunction = strict = null;\n          labels = [];\n          readToken();\n          var node = program || startNode(),\n              first = true;\n          if (!program) node.body = [];\n\n          while (tokType !== _eof) {\n            var stmt = parseStatement();\n            node.body.push(stmt);\n            if (first && isUseStrict(stmt)) setStrict(true);\n            first = false;\n          }\n\n          return finishNode(node, \"Program\");\n        }\n\n        var loopLabel = {\n          kind: \"loop\"\n        },\n            switchLabel = {\n          kind: \"switch\"\n        };\n\n        function parseStatement() {\n          if (tokType === _slash || tokType === _assign && tokVal == \"/=\") readToken(true);\n          var starttype = tokType,\n              node = startNode();\n\n          switch (starttype) {\n            case _break:\n            case _continue:\n              next();\n              var isBreak = starttype === _break;\n              if (eat(_semi) || canInsertSemicolon()) node.label = null;else if (tokType !== _name) unexpected();else {\n                node.label = parseIdent();\n                semicolon();\n              }\n\n              for (var i = 0; i < labels.length; ++i) {\n                var lab = labels[i];\n\n                if (node.label == null || lab.name === node.label.name) {\n                  if (lab.kind != null && (isBreak || lab.kind === \"loop\")) break;\n                  if (node.label && isBreak) break;\n                }\n              }\n\n              if (i === labels.length) raise(node.start, \"Unsyntactic \" + starttype.keyword);\n              return finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n\n            case _debugger:\n              next();\n              semicolon();\n              return finishNode(node, \"DebuggerStatement\");\n\n            case _do:\n              next();\n              labels.push(loopLabel);\n              node.body = parseStatement();\n              labels.pop();\n              expect(_while);\n              node.test = parseParenExpression();\n              semicolon();\n              return finishNode(node, \"DoWhileStatement\");\n\n            case _for:\n              next();\n              labels.push(loopLabel);\n              expect(_parenL);\n              if (tokType === _semi) return parseFor(node, null);\n\n              if (tokType === _var) {\n                var init = startNode();\n                next();\n                parseVar(init, true);\n                finishNode(init, \"VariableDeclaration\");\n                if (init.declarations.length === 1 && eat(_in)) return parseForIn(node, init);\n                return parseFor(node, init);\n              }\n\n              var init = parseExpression(false, true);\n\n              if (eat(_in)) {\n                checkLVal(init);\n                return parseForIn(node, init);\n              }\n\n              return parseFor(node, init);\n\n            case _function:\n              next();\n              return parseFunction(node, true);\n\n            case _if:\n              next();\n              node.test = parseParenExpression();\n              node.consequent = parseStatement();\n              node.alternate = eat(_else) ? parseStatement() : null;\n              return finishNode(node, \"IfStatement\");\n\n            case _return:\n              if (!inFunction && !options.allowReturnOutsideFunction) raise(tokStart, \"'return' outside of function\");\n              next();\n              if (eat(_semi) || canInsertSemicolon()) node.argument = null;else {\n                node.argument = parseExpression();\n                semicolon();\n              }\n              return finishNode(node, \"ReturnStatement\");\n\n            case _switch:\n              next();\n              node.discriminant = parseParenExpression();\n              node.cases = [];\n              expect(_braceL);\n              labels.push(switchLabel);\n\n              for (var cur, sawDefault; tokType != _braceR;) {\n                if (tokType === _case || tokType === _default) {\n                  var isCase = tokType === _case;\n                  if (cur) finishNode(cur, \"SwitchCase\");\n                  node.cases.push(cur = startNode());\n                  cur.consequent = [];\n                  next();\n                  if (isCase) cur.test = parseExpression();else {\n                    if (sawDefault) raise(lastStart, \"Multiple default clauses\");\n                    sawDefault = true;\n                    cur.test = null;\n                  }\n                  expect(_colon);\n                } else {\n                  if (!cur) unexpected();\n                  cur.consequent.push(parseStatement());\n                }\n              }\n\n              if (cur) finishNode(cur, \"SwitchCase\");\n              next();\n              labels.pop();\n              return finishNode(node, \"SwitchStatement\");\n\n            case _throw:\n              next();\n              if (newline.test(input.slice(lastEnd, tokStart))) raise(lastEnd, \"Illegal newline after throw\");\n              node.argument = parseExpression();\n              semicolon();\n              return finishNode(node, \"ThrowStatement\");\n\n            case _try:\n              next();\n              node.block = parseBlock();\n              node.handler = null;\n\n              if (tokType === _catch) {\n                var clause = startNode();\n                next();\n                expect(_parenL);\n                clause.param = parseIdent();\n                if (strict && isStrictBadIdWord(clause.param.name)) raise(clause.param.start, \"Binding \" + clause.param.name + \" in strict mode\");\n                expect(_parenR);\n                clause.guard = null;\n                clause.body = parseBlock();\n                node.handler = finishNode(clause, \"CatchClause\");\n              }\n\n              node.guardedHandlers = empty;\n              node.finalizer = eat(_finally) ? parseBlock() : null;\n              if (!node.handler && !node.finalizer) raise(node.start, \"Missing catch or finally clause\");\n              return finishNode(node, \"TryStatement\");\n\n            case _var:\n              next();\n              parseVar(node);\n              semicolon();\n              return finishNode(node, \"VariableDeclaration\");\n\n            case _while:\n              next();\n              node.test = parseParenExpression();\n              labels.push(loopLabel);\n              node.body = parseStatement();\n              labels.pop();\n              return finishNode(node, \"WhileStatement\");\n\n            case _with:\n              if (strict) raise(tokStart, \"'with' in strict mode\");\n              next();\n              node.object = parseParenExpression();\n              node.body = parseStatement();\n              return finishNode(node, \"WithStatement\");\n\n            case _braceL:\n              return parseBlock();\n\n            case _semi:\n              next();\n              return finishNode(node, \"EmptyStatement\");\n\n            default:\n              var maybeName = tokVal,\n                  expr = parseExpression();\n\n              if (starttype === _name && expr.type === \"Identifier\" && eat(_colon)) {\n                for (var i = 0; i < labels.length; ++i) if (labels[i].name === maybeName) raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n\n                var kind = tokType.isLoop ? \"loop\" : tokType === _switch ? \"switch\" : null;\n                labels.push({\n                  name: maybeName,\n                  kind: kind\n                });\n                node.body = parseStatement();\n                labels.pop();\n                node.label = expr;\n                return finishNode(node, \"LabeledStatement\");\n              } else {\n                node.expression = expr;\n                semicolon();\n                return finishNode(node, \"ExpressionStatement\");\n              }\n\n          }\n        }\n\n        function parseParenExpression() {\n          expect(_parenL);\n          var val = parseExpression();\n          expect(_parenR);\n          return val;\n        }\n\n        function parseBlock(allowStrict) {\n          var node = startNode(),\n              first = true,\n              strict = false,\n              oldStrict;\n          node.body = [];\n          expect(_braceL);\n\n          while (!eat(_braceR)) {\n            var stmt = parseStatement();\n            node.body.push(stmt);\n\n            if (first && allowStrict && isUseStrict(stmt)) {\n              oldStrict = strict;\n              setStrict(strict = true);\n            }\n\n            first = false;\n          }\n\n          if (strict && !oldStrict) setStrict(false);\n          return finishNode(node, \"BlockStatement\");\n        }\n\n        function parseFor(node, init) {\n          node.init = init;\n          expect(_semi);\n          node.test = tokType === _semi ? null : parseExpression();\n          expect(_semi);\n          node.update = tokType === _parenR ? null : parseExpression();\n          expect(_parenR);\n          node.body = parseStatement();\n          labels.pop();\n          return finishNode(node, \"ForStatement\");\n        }\n\n        function parseForIn(node, init) {\n          node.left = init;\n          node.right = parseExpression();\n          expect(_parenR);\n          node.body = parseStatement();\n          labels.pop();\n          return finishNode(node, \"ForInStatement\");\n        }\n\n        function parseVar(node, noIn) {\n          node.declarations = [];\n          node.kind = \"var\";\n\n          for (;;) {\n            var decl = startNode();\n            decl.id = parseIdent();\n            if (strict && isStrictBadIdWord(decl.id.name)) raise(decl.id.start, \"Binding \" + decl.id.name + \" in strict mode\");\n            decl.init = eat(_eq) ? parseExpression(true, noIn) : null;\n            node.declarations.push(finishNode(decl, \"VariableDeclarator\"));\n            if (!eat(_comma)) break;\n          }\n\n          return node;\n        }\n\n        function parseExpression(noComma, noIn) {\n          var expr = parseMaybeAssign(noIn);\n\n          if (!noComma && tokType === _comma) {\n            var node = startNodeFrom(expr);\n            node.expressions = [expr];\n\n            while (eat(_comma)) node.expressions.push(parseMaybeAssign(noIn));\n\n            return finishNode(node, \"SequenceExpression\");\n          }\n\n          return expr;\n        }\n\n        function parseMaybeAssign(noIn) {\n          var left = parseMaybeConditional(noIn);\n\n          if (tokType.isAssign) {\n            var node = startNodeFrom(left);\n            node.operator = tokVal;\n            node.left = left;\n            next();\n            node.right = parseMaybeAssign(noIn);\n            checkLVal(left);\n            return finishNode(node, \"AssignmentExpression\");\n          }\n\n          return left;\n        }\n\n        function parseMaybeConditional(noIn) {\n          var expr = parseExprOps(noIn);\n\n          if (eat(_question)) {\n            var node = startNodeFrom(expr);\n            node.test = expr;\n            node.consequent = parseExpression(true);\n            expect(_colon);\n            node.alternate = parseExpression(true, noIn);\n            return finishNode(node, \"ConditionalExpression\");\n          }\n\n          return expr;\n        }\n\n        function parseExprOps(noIn) {\n          return parseExprOp(parseMaybeUnary(), -1, noIn);\n        }\n\n        function parseExprOp(left, minPrec, noIn) {\n          var prec = tokType.binop;\n\n          if (prec != null && (!noIn || tokType !== _in)) {\n            if (prec > minPrec) {\n              var node = startNodeFrom(left);\n              node.left = left;\n              node.operator = tokVal;\n              var op = tokType;\n              next();\n              node.right = parseExprOp(parseMaybeUnary(), prec, noIn);\n              var exprNode = finishNode(node, op === _logicalOR || op === _logicalAND ? \"LogicalExpression\" : \"BinaryExpression\");\n              return parseExprOp(exprNode, minPrec, noIn);\n            }\n          }\n\n          return left;\n        }\n\n        function parseMaybeUnary() {\n          if (tokType.prefix) {\n            var node = startNode(),\n                update = tokType.isUpdate;\n            node.operator = tokVal;\n            node.prefix = true;\n            tokRegexpAllowed = true;\n            next();\n            node.argument = parseMaybeUnary();\n            if (update) checkLVal(node.argument);else if (strict && node.operator === \"delete\" && node.argument.type === \"Identifier\") raise(node.start, \"Deleting local variable in strict mode\");\n            return finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n          }\n\n          var expr = parseExprSubscripts();\n\n          while (tokType.postfix && !canInsertSemicolon()) {\n            var node = startNodeFrom(expr);\n            node.operator = tokVal;\n            node.prefix = false;\n            node.argument = expr;\n            checkLVal(expr);\n            next();\n            expr = finishNode(node, \"UpdateExpression\");\n          }\n\n          return expr;\n        }\n\n        function parseExprSubscripts() {\n          return parseSubscripts(parseExprAtom());\n        }\n\n        function parseSubscripts(base, noCalls) {\n          if (eat(_dot)) {\n            var node = startNodeFrom(base);\n            node.object = base;\n            node.property = parseIdent(true);\n            node.computed = false;\n            return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n          } else if (eat(_bracketL)) {\n            var node = startNodeFrom(base);\n            node.object = base;\n            node.property = parseExpression();\n            node.computed = true;\n            expect(_bracketR);\n            return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n          } else if (!noCalls && eat(_parenL)) {\n            var node = startNodeFrom(base);\n            node.callee = base;\n            node.arguments = parseExprList(_parenR, false);\n            return parseSubscripts(finishNode(node, \"CallExpression\"), noCalls);\n          } else return base;\n        }\n\n        function parseExprAtom() {\n          switch (tokType) {\n            case _this:\n              var node = startNode();\n              next();\n              return finishNode(node, \"ThisExpression\");\n\n            case _name:\n              return parseIdent();\n\n            case _num:\n            case _string:\n            case _regexp:\n              var node = startNode();\n              node.value = tokVal;\n              node.raw = input.slice(tokStart, tokEnd);\n              next();\n              return finishNode(node, \"Literal\");\n\n            case _null:\n            case _true:\n            case _false:\n              var node = startNode();\n              node.value = tokType.atomValue;\n              node.raw = tokType.keyword;\n              next();\n              return finishNode(node, \"Literal\");\n\n            case _parenL:\n              var tokStartLoc1 = tokStartLoc,\n                  tokStart1 = tokStart;\n              next();\n              var val = parseExpression();\n              val.start = tokStart1;\n              val.end = tokEnd;\n\n              if (options.locations) {\n                val.loc.start = tokStartLoc1;\n                val.loc.end = tokEndLoc;\n              }\n\n              if (options.ranges) val.range = [tokStart1, tokEnd];\n              expect(_parenR);\n              return val;\n\n            case _bracketL:\n              var node = startNode();\n              next();\n              node.elements = parseExprList(_bracketR, true, true);\n              return finishNode(node, \"ArrayExpression\");\n\n            case _braceL:\n              return parseObj();\n\n            case _function:\n              var node = startNode();\n              next();\n              return parseFunction(node, false);\n\n            case _new:\n              return parseNew();\n\n            default:\n              unexpected();\n          }\n        }\n\n        function parseNew() {\n          var node = startNode();\n          next();\n          node.callee = parseSubscripts(parseExprAtom(), true);\n          if (eat(_parenL)) node.arguments = parseExprList(_parenR, false);else node.arguments = empty;\n          return finishNode(node, \"NewExpression\");\n        }\n\n        function parseObj() {\n          var node = startNode(),\n              first = true,\n              sawGetSet = false;\n          node.properties = [];\n          next();\n\n          while (!eat(_braceR)) {\n            if (!first) {\n              expect(_comma);\n              if (options.allowTrailingCommas && eat(_braceR)) break;\n            } else first = false;\n\n            var prop = {\n              key: parsePropertyName()\n            },\n                isGetSet = false,\n                kind;\n\n            if (eat(_colon)) {\n              prop.value = parseExpression(true);\n              kind = prop.kind = \"init\";\n            } else if (options.ecmaVersion >= 5 && prop.key.type === \"Identifier\" && (prop.key.name === \"get\" || prop.key.name === \"set\")) {\n              isGetSet = sawGetSet = true;\n              kind = prop.kind = prop.key.name;\n              prop.key = parsePropertyName();\n              if (tokType !== _parenL) unexpected();\n              prop.value = parseFunction(startNode(), false);\n            } else unexpected();\n\n            if (prop.key.type === \"Identifier\" && (strict || sawGetSet)) {\n              for (var i = 0; i < node.properties.length; ++i) {\n                var other = node.properties[i];\n\n                if (other.key.name === prop.key.name) {\n                  var conflict = kind == other.kind || isGetSet && other.kind === \"init\" || kind === \"init\" && (other.kind === \"get\" || other.kind === \"set\");\n                  if (conflict && !strict && kind === \"init\" && other.kind === \"init\") conflict = false;\n                  if (conflict) raise(prop.key.start, \"Redefinition of property\");\n                }\n              }\n            }\n\n            node.properties.push(prop);\n          }\n\n          return finishNode(node, \"ObjectExpression\");\n        }\n\n        function parsePropertyName() {\n          if (tokType === _num || tokType === _string) return parseExprAtom();\n          return parseIdent(true);\n        }\n\n        function parseFunction(node, isStatement) {\n          if (tokType === _name) node.id = parseIdent();else if (isStatement) unexpected();else node.id = null;\n          node.params = [];\n          var first = true;\n          expect(_parenL);\n\n          while (!eat(_parenR)) {\n            if (!first) expect(_comma);else first = false;\n            node.params.push(parseIdent());\n          }\n\n          var oldInFunc = inFunction,\n              oldLabels = labels;\n          inFunction = true;\n          labels = [];\n          node.body = parseBlock(true);\n          inFunction = oldInFunc;\n          labels = oldLabels;\n\n          if (strict || node.body.body.length && isUseStrict(node.body.body[0])) {\n            for (var i = node.id ? -1 : 0; i < node.params.length; ++i) {\n              var id = i < 0 ? node.id : node.params[i];\n              if (isStrictReservedWord(id.name) || isStrictBadIdWord(id.name)) raise(id.start, \"Defining '\" + id.name + \"' in strict mode\");\n              if (i >= 0) for (var j = 0; j < i; ++j) if (id.name === node.params[j].name) raise(id.start, \"Argument name clash in strict mode\");\n            }\n          }\n\n          return finishNode(node, isStatement ? \"FunctionDeclaration\" : \"FunctionExpression\");\n        }\n\n        function parseExprList(close, allowTrailingComma, allowEmpty) {\n          var elts = [],\n              first = true;\n\n          while (!eat(close)) {\n            if (!first) {\n              expect(_comma);\n              if (allowTrailingComma && options.allowTrailingCommas && eat(close)) break;\n            } else first = false;\n\n            if (allowEmpty && tokType === _comma) elts.push(null);else elts.push(parseExpression(true));\n          }\n\n          return elts;\n        }\n\n        function parseIdent(liberal) {\n          var node = startNode();\n          if (liberal && options.forbidReserved == \"everywhere\") liberal = false;\n\n          if (tokType === _name) {\n            if (!liberal && (options.forbidReserved && (options.ecmaVersion === 3 ? isReservedWord3 : isReservedWord5)(tokVal) || strict && isStrictReservedWord(tokVal)) && input.slice(tokStart, tokEnd).indexOf(\"\\\\\") == -1) raise(tokStart, \"The keyword '\" + tokVal + \"' is reserved\");\n            node.name = tokVal;\n          } else if (liberal && tokType.keyword) {\n            node.name = tokType.keyword;\n          } else {\n            unexpected();\n          }\n\n          tokRegexpAllowed = false;\n          next();\n          return finishNode(node, \"Identifier\");\n        }\n      });\n\n      if (!acorn.version) acorn = null;\n    }\n\n    function parse(code, options) {\n      return (global.acorn || acorn).parse(code, options);\n    }\n\n    var binaryOperators = {\n      '+': '__add',\n      '-': '__subtract',\n      '*': '__multiply',\n      '/': '__divide',\n      '%': '__modulo',\n      '==': '__equals',\n      '!=': '__equals'\n    };\n    var unaryOperators = {\n      '-': '__negate',\n      '+': '__self'\n    };\n    var fields = Base.each(['add', 'subtract', 'multiply', 'divide', 'modulo', 'equals', 'negate'], function (name) {\n      this['__' + name] = '#' + name;\n    }, {\n      __self: function () {\n        return this;\n      }\n    });\n    Point.inject(fields);\n    Size.inject(fields);\n    Color.inject(fields);\n\n    function __$__(left, operator, right) {\n      var handler = binaryOperators[operator];\n\n      if (left && left[handler]) {\n        var res = left[handler](right);\n        return operator === '!=' ? !res : res;\n      }\n\n      switch (operator) {\n        case '+':\n          return left + right;\n\n        case '-':\n          return left - right;\n\n        case '*':\n          return left * right;\n\n        case '/':\n          return left / right;\n\n        case '%':\n          return left % right;\n\n        case '==':\n          return left == right;\n\n        case '!=':\n          return left != right;\n      }\n    }\n\n    function $__(operator, value) {\n      var handler = unaryOperators[operator];\n      if (value && value[handler]) return value[handler]();\n\n      switch (operator) {\n        case '+':\n          return +value;\n\n        case '-':\n          return -value;\n      }\n    }\n\n    function compile(code, options) {\n      if (!code) return '';\n      options = options || {};\n      var insertions = [];\n\n      function getOffset(offset) {\n        for (var i = 0, l = insertions.length; i < l; i++) {\n          var insertion = insertions[i];\n          if (insertion[0] >= offset) break;\n          offset += insertion[1];\n        }\n\n        return offset;\n      }\n\n      function getCode(node) {\n        return code.substring(getOffset(node.range[0]), getOffset(node.range[1]));\n      }\n\n      function getBetween(left, right) {\n        return code.substring(getOffset(left.range[1]), getOffset(right.range[0]));\n      }\n\n      function replaceCode(node, str) {\n        var start = getOffset(node.range[0]),\n            end = getOffset(node.range[1]),\n            insert = 0;\n\n        for (var i = insertions.length - 1; i >= 0; i--) {\n          if (start > insertions[i][0]) {\n            insert = i + 1;\n            break;\n          }\n        }\n\n        insertions.splice(insert, 0, [start, str.length - end + start]);\n        code = code.substring(0, start) + str + code.substring(end);\n      }\n\n      function handleOverloading(node, parent) {\n        switch (node.type) {\n          case 'UnaryExpression':\n            if (node.operator in unaryOperators && node.argument.type !== 'Literal') {\n              var arg = getCode(node.argument);\n              replaceCode(node, '$__(\"' + node.operator + '\", ' + arg + ')');\n            }\n\n            break;\n\n          case 'BinaryExpression':\n            if (node.operator in binaryOperators && node.left.type !== 'Literal') {\n              var left = getCode(node.left),\n                  right = getCode(node.right),\n                  between = getBetween(node.left, node.right),\n                  operator = node.operator;\n              replaceCode(node, '__$__(' + left + ',' + between.replace(new RegExp('\\\\' + operator), '\"' + operator + '\"') + ', ' + right + ')');\n            }\n\n            break;\n\n          case 'UpdateExpression':\n          case 'AssignmentExpression':\n            var parentType = parent && parent.type;\n\n            if (!(parentType === 'ForStatement' || parentType === 'BinaryExpression' && /^[=!<>]/.test(parent.operator) || parentType === 'MemberExpression' && parent.computed)) {\n              if (node.type === 'UpdateExpression') {\n                var arg = getCode(node.argument),\n                    exp = '__$__(' + arg + ', \"' + node.operator[0] + '\", 1)',\n                    str = arg + ' = ' + exp;\n\n                if (node.prefix) {\n                  str = '(' + str + ')';\n                } else if (parentType === 'AssignmentExpression' || parentType === 'VariableDeclarator' || parentType === 'BinaryExpression') {\n                  if (getCode(parent.left || parent.id) === arg) str = exp;\n                  str = arg + '; ' + str;\n                }\n\n                replaceCode(node, str);\n              } else {\n                if (/^.=$/.test(node.operator) && node.left.type !== 'Literal') {\n                  var left = getCode(node.left),\n                      right = getCode(node.right),\n                      exp = left + ' = __$__(' + left + ', \"' + node.operator[0] + '\", ' + right + ')';\n                  replaceCode(node, /^\\(.*\\)$/.test(getCode(node)) ? '(' + exp + ')' : exp);\n                }\n              }\n            }\n\n            break;\n        }\n      }\n\n      function handleExports(node) {\n        switch (node.type) {\n          case 'ExportDefaultDeclaration':\n            replaceCode({\n              range: [node.start, node.declaration.start]\n            }, 'module.exports = ');\n            break;\n\n          case 'ExportNamedDeclaration':\n            var declaration = node.declaration;\n            var specifiers = node.specifiers;\n\n            if (declaration) {\n              var declarations = declaration.declarations;\n\n              if (declarations) {\n                declarations.forEach(function (dec) {\n                  replaceCode(dec, 'module.exports.' + getCode(dec));\n                });\n                replaceCode({\n                  range: [node.start, declaration.start + declaration.kind.length]\n                }, '');\n              }\n            } else if (specifiers) {\n              var exports = specifiers.map(function (specifier) {\n                var name = getCode(specifier);\n                return 'module.exports.' + name + ' = ' + name + '; ';\n              }).join('');\n\n              if (exports) {\n                replaceCode(node, exports);\n              }\n            }\n\n            break;\n        }\n      }\n\n      function walkAST(node, parent, paperFeatures) {\n        if (node) {\n          for (var key in node) {\n            if (key !== 'range' && key !== 'loc') {\n              var value = node[key];\n\n              if (Array.isArray(value)) {\n                for (var i = 0, l = value.length; i < l; i++) {\n                  walkAST(value[i], node, paperFeatures);\n                }\n              } else if (value && typeof value === 'object') {\n                walkAST(value, node, paperFeatures);\n              }\n            }\n          }\n\n          if (paperFeatures.operatorOverloading !== false) {\n            handleOverloading(node, parent);\n          }\n\n          if (paperFeatures.moduleExports !== false) {\n            handleExports(node);\n          }\n        }\n      }\n\n      function encodeVLQ(value) {\n        var res = '',\n            base64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n        value = (Math.abs(value) << 1) + (value < 0 ? 1 : 0);\n\n        while (value || !res) {\n          var next = value & 32 - 1;\n          value >>= 5;\n          if (value) next |= 32;\n          res += base64[next];\n        }\n\n        return res;\n      }\n\n      var url = options.url || '',\n          sourceMaps = options.sourceMaps,\n          paperFeatures = options.paperFeatures || {},\n          source = options.source || code,\n          offset = options.offset || 0,\n          agent = paper.agent,\n          version = agent.versionNumber,\n          offsetCode = false,\n          lineBreaks = /\\r\\n|\\n|\\r/mg,\n          map;\n\n      if (sourceMaps && (agent.chrome && version >= 30 || agent.webkit && version >= 537.76 || agent.firefox && version >= 23 || agent.node)) {\n        if (agent.node) {\n          offset -= 2;\n        } else if (window && url && !window.location.href.indexOf(url)) {\n          var html = document.getElementsByTagName('html')[0].innerHTML;\n          offset = html.substr(0, html.indexOf(code) + 1).match(lineBreaks).length + 1;\n        }\n\n        offsetCode = offset > 0 && !(agent.chrome && version >= 36 || agent.safari && version >= 600 || agent.firefox && version >= 40 || agent.node);\n        var mappings = ['AA' + encodeVLQ(offsetCode ? 0 : offset) + 'A'];\n        mappings.length = (code.match(lineBreaks) || []).length + 1 + (offsetCode ? offset : 0);\n        map = {\n          version: 3,\n          file: url,\n          names: [],\n          mappings: mappings.join(';AACA'),\n          sourceRoot: '',\n          sources: [url],\n          sourcesContent: [source]\n        };\n      }\n\n      if (paperFeatures.operatorOverloading !== false || paperFeatures.moduleExports !== false) {\n        walkAST(parse(code, {\n          ranges: true,\n          preserveParens: true,\n          sourceType: 'module'\n        }), null, paperFeatures);\n      }\n\n      if (map) {\n        if (offsetCode) {\n          code = new Array(offset + 1).join('\\n') + code;\n        }\n\n        if (/^(inline|both)$/.test(sourceMaps)) {\n          code += \"\\n//# sourceMappingURL=data:application/json;base64,\" + self.btoa(unescape(encodeURIComponent(JSON.stringify(map))));\n        }\n\n        code += \"\\n//# sourceURL=\" + (url || 'paperscript');\n      }\n\n      return {\n        url: url,\n        source: source,\n        code: code,\n        map: map\n      };\n    }\n\n    function execute(code, scope, options) {\n      paper = scope;\n      var view = scope.getView(),\n          tool = /\\btool\\.\\w+|\\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\\b/.test(code) && !/\\bnew\\s+Tool\\b/.test(code) ? new Tool() : null,\n          toolHandlers = tool ? tool._events : [],\n          handlers = ['onFrame', 'onResize'].concat(toolHandlers),\n          params = [],\n          args = [],\n          func,\n          compiled = typeof code === 'object' ? code : compile(code, options);\n      code = compiled.code;\n\n      function expose(scope, hidden) {\n        for (var key in scope) {\n          if ((hidden || !/^_/.test(key)) && new RegExp('([\\\\b\\\\s\\\\W]|^)' + key.replace(/\\$/g, '\\\\$') + '\\\\b').test(code)) {\n            params.push(key);\n            args.push(scope[key]);\n          }\n        }\n      }\n\n      expose({\n        __$__: __$__,\n        $__: $__,\n        paper: scope,\n        tool: tool\n      }, true);\n      expose(scope);\n      code = 'var module = { exports: {} }; ' + code;\n      var exports = Base.each(handlers, function (key) {\n        if (new RegExp('\\\\s+' + key + '\\\\b').test(code)) {\n          params.push(key);\n          this.push('module.exports.' + key + ' = ' + key + ';');\n        }\n      }, []).join('\\n');\n\n      if (exports) {\n        code += '\\n' + exports;\n      }\n\n      code += '\\nreturn module.exports;';\n      var agent = paper.agent;\n\n      if (document && (agent.chrome || agent.firefox && agent.versionNumber < 40)) {\n        var script = document.createElement('script'),\n            head = document.head || document.getElementsByTagName('head')[0];\n        if (agent.firefox) code = '\\n' + code;\n        script.appendChild(document.createTextNode('document.__paperscript__ = function(' + params + ') {' + code + '\\n}'));\n        head.appendChild(script);\n        func = document.__paperscript__;\n        delete document.__paperscript__;\n        head.removeChild(script);\n      } else {\n        func = Function(params, code);\n      }\n\n      var exports = func && func.apply(scope, args);\n      var obj = exports || {};\n      Base.each(toolHandlers, function (key) {\n        var value = obj[key];\n        if (value) tool[key] = value;\n      });\n\n      if (view) {\n        if (obj.onResize) view.setOnResize(obj.onResize);\n        view.emit('resize', {\n          size: view.size,\n          delta: new Point()\n        });\n        if (obj.onFrame) view.setOnFrame(obj.onFrame);\n        view.requestUpdate();\n      }\n\n      return exports;\n    }\n\n    function loadScript(script) {\n      if (/^text\\/(?:x-|)paperscript$/.test(script.type) && PaperScope.getAttribute(script, 'ignore') !== 'true') {\n        var canvasId = PaperScope.getAttribute(script, 'canvas'),\n            canvas = document.getElementById(canvasId),\n            src = script.src || script.getAttribute('data-src'),\n            async = PaperScope.hasAttribute(script, 'async'),\n            scopeAttribute = 'data-paper-scope';\n        if (!canvas) throw new Error('Unable to find canvas with id \"' + canvasId + '\"');\n        var scope = PaperScope.get(canvas.getAttribute(scopeAttribute)) || new PaperScope().setup(canvas);\n        canvas.setAttribute(scopeAttribute, scope._id);\n\n        if (src) {\n          Http.request({\n            url: src,\n            async: async,\n            mimeType: 'text/plain',\n            onLoad: function (code) {\n              execute(code, scope, src);\n            }\n          });\n        } else {\n          execute(script.innerHTML, scope, script.baseURI);\n        }\n\n        script.setAttribute('data-paper-ignore', 'true');\n        return scope;\n      }\n    }\n\n    function loadAll() {\n      Base.each(document && document.getElementsByTagName('script'), loadScript);\n    }\n\n    function load(script) {\n      return script ? loadScript(script) : loadAll();\n    }\n\n    if (window) {\n      if (document.readyState === 'complete') {\n        setTimeout(loadAll);\n      } else {\n        DomEvent.add(window, {\n          load: loadAll\n        });\n      }\n    }\n\n    return {\n      compile: compile,\n      execute: execute,\n      load: load,\n      parse: parse,\n      calculateBinary: __$__,\n      calculateUnary: $__\n    };\n  }.call(this);\n\n  var paper = new (PaperScope.inject(Base.exports, {\n    Base: Base,\n    Numerical: Numerical,\n    Key: Key,\n    DomEvent: DomEvent,\n    DomElement: DomElement,\n    document: document,\n    window: window,\n    Symbol: SymbolDefinition,\n    PlacedSymbol: SymbolItem\n  }))();\n\n  if (paper.agent.node) {\n    require('./node/extend.js')(paper);\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define('paper', paper);\n  } else if (typeof module === 'object' && module) {\n    module.exports = paper;\n  }\n\n  return paper;\n}.call(this, typeof self === 'object' ? self : null);","// Reserved word lists for various dialects of the language\n\nvar reservedWords = {\n  3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n  5: \"class enum extends super const export import\",\n  6: \"enum\",\n  strict: \"implements interface let package private protected public static yield\",\n  strictBind: \"eval arguments\"\n};\n\n// And the keywords\n\nvar ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\nvar keywords = {\n  5: ecma5AndLessKeywords,\n  \"5module\": ecma5AndLessKeywords + \" export import\",\n  6: ecma5AndLessKeywords + \" const class extends export import super\"\n};\n\nvar keywordRelationalOperator = /^in(stanceof)?$/;\n\n// ## Character categories\n\n// Big ugly regular expressions that match characters in the\n// whitespace, identifier, and identifier-start categories. These\n// are only applied when a character is found to actually have a\n// code point above 128.\n// Generated by `bin/generate-identifier-regex.js`.\nvar nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u08a0-\\u08b4\\u08b6-\\u08bd\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fef\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7bf\\ua7c2-\\ua7c6\\ua7f7-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab67\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\nvar nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08d3-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1df9\\u1dfb-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\nvar nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\nvar nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\nnonASCIIidentifierStartChars = nonASCIIidentifierChars = null;\n\n// These are a run-length and offset encoded representation of the\n// >0xffff code points that are a valid part of identifiers. The\n// offset starts at 0x10000, and each pair of numbers represents an\n// offset to the next range, and then a size of the range. They were\n// generated by bin/generate-identifier-regex.js\n\n// eslint-disable-next-line comma-spacing\nvar astralIdentifierStartCodes = [0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541];\n\n// eslint-disable-next-line comma-spacing\nvar astralIdentifierCodes = [509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];\n\n// This has a complexity linear to the value of the code. The\n// assumption is that looking up astral identifier characters is\n// rare.\nfunction isInAstralSet(code, set) {\n  var pos = 0x10000;\n  for (var i = 0; i < set.length; i += 2) {\n    pos += set[i];\n    if (pos > code) { return false }\n    pos += set[i + 1];\n    if (pos >= code) { return true }\n  }\n}\n\n// Test whether a given character code starts an identifier.\n\nfunction isIdentifierStart(code, astral) {\n  if (code < 65) { return code === 36 }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes)\n}\n\n// Test whether a given character is part of an identifier.\n\nfunction isIdentifierChar(code, astral) {\n  if (code < 48) { return code === 36 }\n  if (code < 58) { return true }\n  if (code < 65) { return false }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n}\n\n// ## Token types\n\n// The assignment of fine-grained, information-carrying type objects\n// allows the tokenizer to store the information it has about a\n// token in a way that is very cheap for the parser to look up.\n\n// All token type variables start with an underscore, to make them\n// easy to recognize.\n\n// The `beforeExpr` property is used to disambiguate between regular\n// expressions and divisions. It is set on all token types that can\n// be followed by an expression (thus, a slash after them would be a\n// regular expression).\n//\n// The `startsExpr` property is used to check if the token ends a\n// `yield` expression. It is set on all token types that either can\n// directly start an expression (like a quotation mark) or can\n// continue an expression (like the body of a string).\n//\n// `isLoop` marks a keyword as starting a loop, which is important\n// to know when parsing a label, in order to allow or disallow\n// continue jumps to that label.\n\nvar TokenType = function TokenType(label, conf) {\n  if ( conf === void 0 ) conf = {};\n\n  this.label = label;\n  this.keyword = conf.keyword;\n  this.beforeExpr = !!conf.beforeExpr;\n  this.startsExpr = !!conf.startsExpr;\n  this.isLoop = !!conf.isLoop;\n  this.isAssign = !!conf.isAssign;\n  this.prefix = !!conf.prefix;\n  this.postfix = !!conf.postfix;\n  this.binop = conf.binop || null;\n  this.updateContext = null;\n};\n\nfunction binop(name, prec) {\n  return new TokenType(name, {beforeExpr: true, binop: prec})\n}\nvar beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n// Map keyword names to token types.\n\nvar keywords$1 = {};\n\n// Succinct definitions of keyword token types\nfunction kw(name, options) {\n  if ( options === void 0 ) options = {};\n\n  options.keyword = name;\n  return keywords$1[name] = new TokenType(name, options)\n}\n\nvar types = {\n  num: new TokenType(\"num\", startsExpr),\n  regexp: new TokenType(\"regexp\", startsExpr),\n  string: new TokenType(\"string\", startsExpr),\n  name: new TokenType(\"name\", startsExpr),\n  eof: new TokenType(\"eof\"),\n\n  // Punctuation token types.\n  bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n  bracketR: new TokenType(\"]\"),\n  braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n  braceR: new TokenType(\"}\"),\n  parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n  parenR: new TokenType(\")\"),\n  comma: new TokenType(\",\", beforeExpr),\n  semi: new TokenType(\";\", beforeExpr),\n  colon: new TokenType(\":\", beforeExpr),\n  dot: new TokenType(\".\"),\n  question: new TokenType(\"?\", beforeExpr),\n  arrow: new TokenType(\"=>\", beforeExpr),\n  template: new TokenType(\"template\"),\n  invalidTemplate: new TokenType(\"invalidTemplate\"),\n  ellipsis: new TokenType(\"...\", beforeExpr),\n  backQuote: new TokenType(\"`\", startsExpr),\n  dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n  // Operators. These carry several kinds of properties to help the\n  // parser use them properly (the presence of these properties is\n  // what categorizes them as operators).\n  //\n  // `binop`, when present, specifies that this operator is a binary\n  // operator, and will refer to its precedence.\n  //\n  // `prefix` and `postfix` mark the operator as a prefix or postfix\n  // unary operator.\n  //\n  // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n  // binary operators with a very low precedence, that should result\n  // in AssignmentExpression nodes.\n\n  eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n  assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n  incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n  prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  logicalOR: binop(\"||\", 1),\n  logicalAND: binop(\"&&\", 2),\n  bitwiseOR: binop(\"|\", 3),\n  bitwiseXOR: binop(\"^\", 4),\n  bitwiseAND: binop(\"&\", 5),\n  equality: binop(\"==/!=/===/!==\", 6),\n  relational: binop(\"</>/<=/>=\", 7),\n  bitShift: binop(\"<</>>/>>>\", 8),\n  plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n  modulo: binop(\"%\", 10),\n  star: binop(\"*\", 10),\n  slash: binop(\"/\", 10),\n  starstar: new TokenType(\"**\", {beforeExpr: true}),\n\n  // Keyword token types.\n  _break: kw(\"break\"),\n  _case: kw(\"case\", beforeExpr),\n  _catch: kw(\"catch\"),\n  _continue: kw(\"continue\"),\n  _debugger: kw(\"debugger\"),\n  _default: kw(\"default\", beforeExpr),\n  _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n  _else: kw(\"else\", beforeExpr),\n  _finally: kw(\"finally\"),\n  _for: kw(\"for\", {isLoop: true}),\n  _function: kw(\"function\", startsExpr),\n  _if: kw(\"if\"),\n  _return: kw(\"return\", beforeExpr),\n  _switch: kw(\"switch\"),\n  _throw: kw(\"throw\", beforeExpr),\n  _try: kw(\"try\"),\n  _var: kw(\"var\"),\n  _const: kw(\"const\"),\n  _while: kw(\"while\", {isLoop: true}),\n  _with: kw(\"with\"),\n  _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n  _this: kw(\"this\", startsExpr),\n  _super: kw(\"super\", startsExpr),\n  _class: kw(\"class\", startsExpr),\n  _extends: kw(\"extends\", beforeExpr),\n  _export: kw(\"export\"),\n  _import: kw(\"import\", startsExpr),\n  _null: kw(\"null\", startsExpr),\n  _true: kw(\"true\", startsExpr),\n  _false: kw(\"false\", startsExpr),\n  _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n  _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n  _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n};\n\n// Matches a whole line break (where CRLF is considered a single\n// line break). Used to count lines.\n\nvar lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\nvar lineBreakG = new RegExp(lineBreak.source, \"g\");\n\nfunction isNewLine(code, ecma2019String) {\n  return code === 10 || code === 13 || (!ecma2019String && (code === 0x2028 || code === 0x2029))\n}\n\nvar nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\nvar skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\nvar ref = Object.prototype;\nvar hasOwnProperty = ref.hasOwnProperty;\nvar toString = ref.toString;\n\n// Checks if an object has a property.\n\nfunction has(obj, propName) {\n  return hasOwnProperty.call(obj, propName)\n}\n\nvar isArray = Array.isArray || (function (obj) { return (\n  toString.call(obj) === \"[object Array]\"\n); });\n\nfunction wordsRegexp(words) {\n  return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n}\n\n// These are used when `options.locations` is on, for the\n// `startLoc` and `endLoc` properties.\n\nvar Position = function Position(line, col) {\n  this.line = line;\n  this.column = col;\n};\n\nPosition.prototype.offset = function offset (n) {\n  return new Position(this.line, this.column + n)\n};\n\nvar SourceLocation = function SourceLocation(p, start, end) {\n  this.start = start;\n  this.end = end;\n  if (p.sourceFile !== null) { this.source = p.sourceFile; }\n};\n\n// The `getLineInfo` function is mostly useful when the\n// `locations` option is off (for performance reasons) and you\n// want to find the line/column position for a given character\n// offset. `input` should be the code string that the offset refers\n// into.\n\nfunction getLineInfo(input, offset) {\n  for (var line = 1, cur = 0;;) {\n    lineBreakG.lastIndex = cur;\n    var match = lineBreakG.exec(input);\n    if (match && match.index < offset) {\n      ++line;\n      cur = match.index + match[0].length;\n    } else {\n      return new Position(line, offset - cur)\n    }\n  }\n}\n\n// A second optional argument can be given to further configure\n// the parser process. These options are recognized:\n\nvar defaultOptions = {\n  // `ecmaVersion` indicates the ECMAScript version to parse. Must be\n  // either 3, 5, 6 (2015), 7 (2016), 8 (2017), 9 (2018), or 10\n  // (2019). This influences support for strict mode, the set of\n  // reserved words, and support for new syntax features. The default\n  // is 9.\n  ecmaVersion: 9,\n  // `sourceType` indicates the mode the code should be parsed in.\n  // Can be either `\"script\"` or `\"module\"`. This influences global\n  // strict mode and parsing of `import` and `export` declarations.\n  sourceType: \"script\",\n  // `onInsertedSemicolon` can be a callback that will be called\n  // when a semicolon is automatically inserted. It will be passed\n  // the position of the comma as an offset, and if `locations` is\n  // enabled, it is given the location as a `{line, column}` object\n  // as second argument.\n  onInsertedSemicolon: null,\n  // `onTrailingComma` is similar to `onInsertedSemicolon`, but for\n  // trailing commas.\n  onTrailingComma: null,\n  // By default, reserved words are only enforced if ecmaVersion >= 5.\n  // Set `allowReserved` to a boolean value to explicitly turn this on\n  // an off. When this option has the value \"never\", reserved words\n  // and keywords can also not be used as property names.\n  allowReserved: null,\n  // When enabled, a return at the top level is not considered an\n  // error.\n  allowReturnOutsideFunction: false,\n  // When enabled, import/export statements are not constrained to\n  // appearing at the top of the program.\n  allowImportExportEverywhere: false,\n  // When enabled, await identifiers are allowed to appear at the top-level scope,\n  // but they are still not allowed in non-async functions.\n  allowAwaitOutsideFunction: false,\n  // When enabled, hashbang directive in the beginning of file\n  // is allowed and treated as a line comment.\n  allowHashBang: false,\n  // When `locations` is on, `loc` properties holding objects with\n  // `start` and `end` properties in `{line, column}` form (with\n  // line being 1-based and column 0-based) will be attached to the\n  // nodes.\n  locations: false,\n  // A function can be passed as `onToken` option, which will\n  // cause Acorn to call that function with object in the same\n  // format as tokens returned from `tokenizer().getToken()`. Note\n  // that you are not allowed to call the parser from the\n  // callbackthat will corrupt its internal state.\n  onToken: null,\n  // A function can be passed as `onComment` option, which will\n  // cause Acorn to call that function with `(block, text, start,\n  // end)` parameters whenever a comment is skipped. `block` is a\n  // boolean indicating whether this is a block (`/* */`) comment,\n  // `text` is the content of the comment, and `start` and `end` are\n  // character offsets that denote the start and end of the comment.\n  // When the `locations` option is on, two more parameters are\n  // passed, the full `{line, column}` locations of the start and\n  // end of the comments. Note that you are not allowed to call the\n  // parser from the callbackthat will corrupt its internal state.\n  onComment: null,\n  // Nodes have their start and end characters offsets recorded in\n  // `start` and `end` properties (directly on the node, rather than\n  // the `loc` object, which holds line/column data. To also add a\n  // [semi-standardized][range] `range` property holding a `[start,\n  // end]` array with the same numbers, set the `ranges` option to\n  // `true`.\n  //\n  // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n  ranges: false,\n  // It is possible to parse multiple files into a single AST by\n  // passing the tree produced by parsing the first file as\n  // `program` option in subsequent parses. This will add the\n  // toplevel forms of the parsed file to the `Program` (top) node\n  // of an existing parse tree.\n  program: null,\n  // When `locations` is on, you can pass this to record the source\n  // file in every node's `loc` object.\n  sourceFile: null,\n  // This value, if given, is stored in every node, whether\n  // `locations` is on or off.\n  directSourceFile: null,\n  // When enabled, parenthesized expressions are represented by\n  // (non-standard) ParenthesizedExpression nodes\n  preserveParens: false\n};\n\n// Interpret and default an options object\n\nfunction getOptions(opts) {\n  var options = {};\n\n  for (var opt in defaultOptions)\n    { options[opt] = opts && has(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n  if (options.ecmaVersion >= 2015)\n    { options.ecmaVersion -= 2009; }\n\n  if (options.allowReserved == null)\n    { options.allowReserved = options.ecmaVersion < 5; }\n\n  if (isArray(options.onToken)) {\n    var tokens = options.onToken;\n    options.onToken = function (token) { return tokens.push(token); };\n  }\n  if (isArray(options.onComment))\n    { options.onComment = pushComment(options, options.onComment); }\n\n  return options\n}\n\nfunction pushComment(options, array) {\n  return function(block, text, start, end, startLoc, endLoc) {\n    var comment = {\n      type: block ? \"Block\" : \"Line\",\n      value: text,\n      start: start,\n      end: end\n    };\n    if (options.locations)\n      { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n    if (options.ranges)\n      { comment.range = [start, end]; }\n    array.push(comment);\n  }\n}\n\n// Each scope gets a bitset that may contain these flags\nvar\n    SCOPE_TOP = 1,\n    SCOPE_FUNCTION = 2,\n    SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION,\n    SCOPE_ASYNC = 4,\n    SCOPE_GENERATOR = 8,\n    SCOPE_ARROW = 16,\n    SCOPE_SIMPLE_CATCH = 32,\n    SCOPE_SUPER = 64,\n    SCOPE_DIRECT_SUPER = 128;\n\nfunction functionFlags(async, generator) {\n  return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n}\n\n// Used in checkLVal and declareName to determine the type of a binding\nvar\n    BIND_NONE = 0, // Not a binding\n    BIND_VAR = 1, // Var-style binding\n    BIND_LEXICAL = 2, // Let- or const-style binding\n    BIND_FUNCTION = 3, // Function declaration\n    BIND_SIMPLE_CATCH = 4, // Simple (identifier pattern) catch binding\n    BIND_OUTSIDE = 5; // Special case for function names as bound inside the function\n\nvar Parser = function Parser(options, input, startPos) {\n  this.options = options = getOptions(options);\n  this.sourceFile = options.sourceFile;\n  this.keywords = wordsRegexp(keywords[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n  var reserved = \"\";\n  if (options.allowReserved !== true) {\n    for (var v = options.ecmaVersion;; v--)\n      { if (reserved = reservedWords[v]) { break } }\n    if (options.sourceType === \"module\") { reserved += \" await\"; }\n  }\n  this.reservedWords = wordsRegexp(reserved);\n  var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n  this.reservedWordsStrict = wordsRegexp(reservedStrict);\n  this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n  this.input = String(input);\n\n  // Used to signal to callers of `readWord1` whether the word\n  // contained any escape sequences. This is needed because words with\n  // escape sequences must not be interpreted as keywords.\n  this.containsEsc = false;\n\n  // Set up token state\n\n  // The current position of the tokenizer in the input.\n  if (startPos) {\n    this.pos = startPos;\n    this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n    this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n  } else {\n    this.pos = this.lineStart = 0;\n    this.curLine = 1;\n  }\n\n  // Properties of the current token:\n  // Its type\n  this.type = types.eof;\n  // For tokens that include more information than their type, the value\n  this.value = null;\n  // Its start and end offset\n  this.start = this.end = this.pos;\n  // And, if locations are used, the {line, column} object\n  // corresponding to those offsets\n  this.startLoc = this.endLoc = this.curPosition();\n\n  // Position information for the previous token\n  this.lastTokEndLoc = this.lastTokStartLoc = null;\n  this.lastTokStart = this.lastTokEnd = this.pos;\n\n  // The context stack is used to superficially track syntactic\n  // context to predict whether a regular expression is allowed in a\n  // given position.\n  this.context = this.initialContext();\n  this.exprAllowed = true;\n\n  // Figure out if it's a module code.\n  this.inModule = options.sourceType === \"module\";\n  this.strict = this.inModule || this.strictDirective(this.pos);\n\n  // Used to signify the start of a potential arrow function\n  this.potentialArrowAt = -1;\n\n  // Positions to delayed-check that yield/await does not exist in default parameters.\n  this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n  // Labels in scope.\n  this.labels = [];\n  // Thus-far undefined exports.\n  this.undefinedExports = {};\n\n  // If enabled, skip leading hashbang line.\n  if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n    { this.skipLineComment(2); }\n\n  // Scope tracking for duplicate variable names (see scope.js)\n  this.scopeStack = [];\n  this.enterScope(SCOPE_TOP);\n\n  // For RegExp validation\n  this.regexpState = null;\n};\n\nvar prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true } };\n\nParser.prototype.parse = function parse () {\n  var node = this.options.program || this.startNode();\n  this.nextToken();\n  return this.parseTopLevel(node)\n};\n\nprototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\nprototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 };\nprototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 };\nprototypeAccessors.allowSuper.get = function () { return (this.currentThisScope().flags & SCOPE_SUPER) > 0 };\nprototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\nprototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\n// Switch to a getter for 7.0.0.\nParser.prototype.inNonArrowFunction = function inNonArrowFunction () { return (this.currentThisScope().flags & SCOPE_FUNCTION) > 0 };\n\nParser.extend = function extend () {\n    var plugins = [], len = arguments.length;\n    while ( len-- ) plugins[ len ] = arguments[ len ];\n\n  var cls = this;\n  for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n  return cls\n};\n\nParser.parse = function parse (input, options) {\n  return new this(options, input).parse()\n};\n\nParser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n  var parser = new this(options, input, pos);\n  parser.nextToken();\n  return parser.parseExpression()\n};\n\nParser.tokenizer = function tokenizer (input, options) {\n  return new this(options, input)\n};\n\nObject.defineProperties( Parser.prototype, prototypeAccessors );\n\nvar pp = Parser.prototype;\n\n// ## Parser utilities\n\nvar literal = /^(?:'((?:\\\\.|[^'\\\\])*?)'|\"((?:\\\\.|[^\"\\\\])*?)\")/;\npp.strictDirective = function(start) {\n  for (;;) {\n    // Try to find string literal.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    var match = literal.exec(this.input.slice(start));\n    if (!match) { return false }\n    if ((match[1] || match[2]) === \"use strict\") { return true }\n    start += match[0].length;\n\n    // Skip semicolon, if any.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    if (this.input[start] === \";\")\n      { start++; }\n  }\n};\n\n// Predicate that tests whether the next token is of the given\n// type, and if yes, consumes it as a side effect.\n\npp.eat = function(type) {\n  if (this.type === type) {\n    this.next();\n    return true\n  } else {\n    return false\n  }\n};\n\n// Tests whether parsed token is a contextual keyword.\n\npp.isContextual = function(name) {\n  return this.type === types.name && this.value === name && !this.containsEsc\n};\n\n// Consumes contextual keyword if possible.\n\npp.eatContextual = function(name) {\n  if (!this.isContextual(name)) { return false }\n  this.next();\n  return true\n};\n\n// Asserts that following token is given contextual keyword.\n\npp.expectContextual = function(name) {\n  if (!this.eatContextual(name)) { this.unexpected(); }\n};\n\n// Test whether a semicolon can be inserted at the current position.\n\npp.canInsertSemicolon = function() {\n  return this.type === types.eof ||\n    this.type === types.braceR ||\n    lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\npp.insertSemicolon = function() {\n  if (this.canInsertSemicolon()) {\n    if (this.options.onInsertedSemicolon)\n      { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n    return true\n  }\n};\n\n// Consume a semicolon, or, failing that, see if we are allowed to\n// pretend that there is a semicolon at this position.\n\npp.semicolon = function() {\n  if (!this.eat(types.semi) && !this.insertSemicolon()) { this.unexpected(); }\n};\n\npp.afterTrailingComma = function(tokType, notNext) {\n  if (this.type === tokType) {\n    if (this.options.onTrailingComma)\n      { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n    if (!notNext)\n      { this.next(); }\n    return true\n  }\n};\n\n// Expect a token of a given type. If found, consume it, otherwise,\n// raise an unexpected token error.\n\npp.expect = function(type) {\n  this.eat(type) || this.unexpected();\n};\n\n// Raise an unexpected token error.\n\npp.unexpected = function(pos) {\n  this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n};\n\nfunction DestructuringErrors() {\n  this.shorthandAssign =\n  this.trailingComma =\n  this.parenthesizedAssign =\n  this.parenthesizedBind =\n  this.doubleProto =\n    -1;\n}\n\npp.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n  if (!refDestructuringErrors) { return }\n  if (refDestructuringErrors.trailingComma > -1)\n    { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n  var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n  if (parens > -1) { this.raiseRecoverable(parens, \"Parenthesized pattern\"); }\n};\n\npp.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n  if (!refDestructuringErrors) { return false }\n  var shorthandAssign = refDestructuringErrors.shorthandAssign;\n  var doubleProto = refDestructuringErrors.doubleProto;\n  if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n  if (shorthandAssign >= 0)\n    { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n  if (doubleProto >= 0)\n    { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n};\n\npp.checkYieldAwaitInDefaultParams = function() {\n  if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n    { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n  if (this.awaitPos)\n    { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n};\n\npp.isSimpleAssignTarget = function(expr) {\n  if (expr.type === \"ParenthesizedExpression\")\n    { return this.isSimpleAssignTarget(expr.expression) }\n  return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n};\n\nvar pp$1 = Parser.prototype;\n\n// ### Statement parsing\n\n// Parse a program. Initializes the parser, reads any number of\n// statements, and wraps them in a Program node.  Optionally takes a\n// `program` argument.  If present, the statements will be appended\n// to its body instead of creating a new node.\n\npp$1.parseTopLevel = function(node) {\n  var exports = {};\n  if (!node.body) { node.body = []; }\n  while (this.type !== types.eof) {\n    var stmt = this.parseStatement(null, true, exports);\n    node.body.push(stmt);\n  }\n  if (this.inModule)\n    { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n      {\n        var name = list[i];\n\n        this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n      } }\n  this.adaptDirectivePrologue(node.body);\n  this.next();\n  node.sourceType = this.options.sourceType;\n  return this.finishNode(node, \"Program\")\n};\n\nvar loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\npp$1.isLet = function(context) {\n  if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n  // For ambiguous cases, determine if a LexicalDeclaration (or only a\n  // Statement) is allowed here. If context is not empty then only a Statement\n  // is allowed. However, `let [` is an explicit negative lookahead for\n  // ExpressionStatement, so special-case it first.\n  if (nextCh === 91) { return true } // '['\n  if (context) { return false }\n\n  if (nextCh === 123) { return true } // '{'\n  if (isIdentifierStart(nextCh, true)) {\n    var pos = next + 1;\n    while (isIdentifierChar(this.input.charCodeAt(pos), true)) { ++pos; }\n    var ident = this.input.slice(next, pos);\n    if (!keywordRelationalOperator.test(ident)) { return true }\n  }\n  return false\n};\n\n// check 'async [no LineTerminator here] function'\n// - 'async /*foo*/ function' is OK.\n// - 'async /*\\n*/ function' is invalid.\npp$1.isAsyncFunction = function() {\n  if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n    { return false }\n\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length;\n  return !lineBreak.test(this.input.slice(this.pos, next)) &&\n    this.input.slice(next, next + 8) === \"function\" &&\n    (next + 8 === this.input.length || !isIdentifierChar(this.input.charAt(next + 8)))\n};\n\n// Parse a single statement.\n//\n// If expecting a statement and finding a slash operator, parse a\n// regular expression literal. This is to handle cases like\n// `if (foo) /blah/.exec(foo)`, where looking at the previous token\n// does not help.\n\npp$1.parseStatement = function(context, topLevel, exports) {\n  var starttype = this.type, node = this.startNode(), kind;\n\n  if (this.isLet(context)) {\n    starttype = types._var;\n    kind = \"let\";\n  }\n\n  // Most types of statements are recognized by the keyword they\n  // start with. Many are trivial to parse, some require a bit of\n  // complexity.\n\n  switch (starttype) {\n  case types._break: case types._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n  case types._debugger: return this.parseDebuggerStatement(node)\n  case types._do: return this.parseDoStatement(node)\n  case types._for: return this.parseForStatement(node)\n  case types._function:\n    // Function as sole body of either an if statement or a labeled statement\n    // works, but not when it is part of a labeled statement that is the sole\n    // body of an if statement.\n    if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n    return this.parseFunctionStatement(node, false, !context)\n  case types._class:\n    if (context) { this.unexpected(); }\n    return this.parseClass(node, true)\n  case types._if: return this.parseIfStatement(node)\n  case types._return: return this.parseReturnStatement(node)\n  case types._switch: return this.parseSwitchStatement(node)\n  case types._throw: return this.parseThrowStatement(node)\n  case types._try: return this.parseTryStatement(node)\n  case types._const: case types._var:\n    kind = kind || this.value;\n    if (context && kind !== \"var\") { this.unexpected(); }\n    return this.parseVarStatement(node, kind)\n  case types._while: return this.parseWhileStatement(node)\n  case types._with: return this.parseWithStatement(node)\n  case types.braceL: return this.parseBlock(true, node)\n  case types.semi: return this.parseEmptyStatement(node)\n  case types._export:\n  case types._import:\n    if (this.options.ecmaVersion > 10 && starttype === types._import) {\n      skipWhiteSpace.lastIndex = this.pos;\n      var skip = skipWhiteSpace.exec(this.input);\n      var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n      if (nextCh === 40) // '('\n        { return this.parseExpressionStatement(node, this.parseExpression()) }\n    }\n\n    if (!this.options.allowImportExportEverywhere) {\n      if (!topLevel)\n        { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n      if (!this.inModule)\n        { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n    }\n    return starttype === types._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    // If the statement does not start with a statement keyword or a\n    // brace, it's an ExpressionStatement or LabeledStatement. We\n    // simply start parsing an expression, and afterwards, if the\n    // next token is a colon and the expression was a simple\n    // Identifier node, we switch to interpreting it as a label.\n  default:\n    if (this.isAsyncFunction()) {\n      if (context) { this.unexpected(); }\n      this.next();\n      return this.parseFunctionStatement(node, true, !context)\n    }\n\n    var maybeName = this.value, expr = this.parseExpression();\n    if (starttype === types.name && expr.type === \"Identifier\" && this.eat(types.colon))\n      { return this.parseLabeledStatement(node, maybeName, expr, context) }\n    else { return this.parseExpressionStatement(node, expr) }\n  }\n};\n\npp$1.parseBreakContinueStatement = function(node, keyword) {\n  var isBreak = keyword === \"break\";\n  this.next();\n  if (this.eat(types.semi) || this.insertSemicolon()) { node.label = null; }\n  else if (this.type !== types.name) { this.unexpected(); }\n  else {\n    node.label = this.parseIdent();\n    this.semicolon();\n  }\n\n  // Verify that there is an actual destination to break or\n  // continue to.\n  var i = 0;\n  for (; i < this.labels.length; ++i) {\n    var lab = this.labels[i];\n    if (node.label == null || lab.name === node.label.name) {\n      if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n      if (node.label && isBreak) { break }\n    }\n  }\n  if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n  return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n};\n\npp$1.parseDebuggerStatement = function(node) {\n  this.next();\n  this.semicolon();\n  return this.finishNode(node, \"DebuggerStatement\")\n};\n\npp$1.parseDoStatement = function(node) {\n  this.next();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"do\");\n  this.labels.pop();\n  this.expect(types._while);\n  node.test = this.parseParenExpression();\n  if (this.options.ecmaVersion >= 6)\n    { this.eat(types.semi); }\n  else\n    { this.semicolon(); }\n  return this.finishNode(node, \"DoWhileStatement\")\n};\n\n// Disambiguating between a `for` and a `for`/`in` or `for`/`of`\n// loop is non-trivial. Basically, we have to parse the init `var`\n// statement or expression, disallowing the `in` operator (see\n// the second parameter to `parseExpression`), and then check\n// whether the next token is `in` or `of`. When there is no init\n// part (semicolon immediately after the opening parenthesis), it\n// is a regular `for` loop.\n\npp$1.parseForStatement = function(node) {\n  this.next();\n  var awaitAt = (this.options.ecmaVersion >= 9 && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction)) && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n  this.labels.push(loopLabel);\n  this.enterScope(0);\n  this.expect(types.parenL);\n  if (this.type === types.semi) {\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, null)\n  }\n  var isLet = this.isLet();\n  if (this.type === types._var || this.type === types._const || isLet) {\n    var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n    this.next();\n    this.parseVar(init$1, true, kind);\n    this.finishNode(init$1, \"VariableDeclaration\");\n    if ((this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      return this.parseForIn(node, init$1)\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init$1)\n  }\n  var refDestructuringErrors = new DestructuringErrors;\n  var init = this.parseExpression(true, refDestructuringErrors);\n  if (this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n    if (this.options.ecmaVersion >= 9) {\n      if (this.type === types._in) {\n        if (awaitAt > -1) { this.unexpected(awaitAt); }\n      } else { node.await = awaitAt > -1; }\n    }\n    this.toAssignable(init, false, refDestructuringErrors);\n    this.checkLVal(init);\n    return this.parseForIn(node, init)\n  } else {\n    this.checkExpressionErrors(refDestructuringErrors, true);\n  }\n  if (awaitAt > -1) { this.unexpected(awaitAt); }\n  return this.parseFor(node, init)\n};\n\npp$1.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n  this.next();\n  return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n};\n\npp$1.parseIfStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  // allow function declarations in branches, but only in non-strict mode\n  node.consequent = this.parseStatement(\"if\");\n  node.alternate = this.eat(types._else) ? this.parseStatement(\"if\") : null;\n  return this.finishNode(node, \"IfStatement\")\n};\n\npp$1.parseReturnStatement = function(node) {\n  if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n    { this.raise(this.start, \"'return' outside of function\"); }\n  this.next();\n\n  // In `return` (and `break`/`continue`), the keywords with\n  // optional arguments, we eagerly look for a semicolon or the\n  // possibility to insert one.\n\n  if (this.eat(types.semi) || this.insertSemicolon()) { node.argument = null; }\n  else { node.argument = this.parseExpression(); this.semicolon(); }\n  return this.finishNode(node, \"ReturnStatement\")\n};\n\npp$1.parseSwitchStatement = function(node) {\n  this.next();\n  node.discriminant = this.parseParenExpression();\n  node.cases = [];\n  this.expect(types.braceL);\n  this.labels.push(switchLabel);\n  this.enterScope(0);\n\n  // Statements under must be grouped (by label) in SwitchCase\n  // nodes. `cur` is used to keep the node that we are currently\n  // adding statements to.\n\n  var cur;\n  for (var sawDefault = false; this.type !== types.braceR;) {\n    if (this.type === types._case || this.type === types._default) {\n      var isCase = this.type === types._case;\n      if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n      node.cases.push(cur = this.startNode());\n      cur.consequent = [];\n      this.next();\n      if (isCase) {\n        cur.test = this.parseExpression();\n      } else {\n        if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n        sawDefault = true;\n        cur.test = null;\n      }\n      this.expect(types.colon);\n    } else {\n      if (!cur) { this.unexpected(); }\n      cur.consequent.push(this.parseStatement(null));\n    }\n  }\n  this.exitScope();\n  if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n  this.next(); // Closing brace\n  this.labels.pop();\n  return this.finishNode(node, \"SwitchStatement\")\n};\n\npp$1.parseThrowStatement = function(node) {\n  this.next();\n  if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n    { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n  node.argument = this.parseExpression();\n  this.semicolon();\n  return this.finishNode(node, \"ThrowStatement\")\n};\n\n// Reused empty array added for node fields that are always empty.\n\nvar empty = [];\n\npp$1.parseTryStatement = function(node) {\n  this.next();\n  node.block = this.parseBlock();\n  node.handler = null;\n  if (this.type === types._catch) {\n    var clause = this.startNode();\n    this.next();\n    if (this.eat(types.parenL)) {\n      clause.param = this.parseBindingAtom();\n      var simple = clause.param.type === \"Identifier\";\n      this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n      this.checkLVal(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n      this.expect(types.parenR);\n    } else {\n      if (this.options.ecmaVersion < 10) { this.unexpected(); }\n      clause.param = null;\n      this.enterScope(0);\n    }\n    clause.body = this.parseBlock(false);\n    this.exitScope();\n    node.handler = this.finishNode(clause, \"CatchClause\");\n  }\n  node.finalizer = this.eat(types._finally) ? this.parseBlock() : null;\n  if (!node.handler && !node.finalizer)\n    { this.raise(node.start, \"Missing catch or finally clause\"); }\n  return this.finishNode(node, \"TryStatement\")\n};\n\npp$1.parseVarStatement = function(node, kind) {\n  this.next();\n  this.parseVar(node, false, kind);\n  this.semicolon();\n  return this.finishNode(node, \"VariableDeclaration\")\n};\n\npp$1.parseWhileStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"while\");\n  this.labels.pop();\n  return this.finishNode(node, \"WhileStatement\")\n};\n\npp$1.parseWithStatement = function(node) {\n  if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n  this.next();\n  node.object = this.parseParenExpression();\n  node.body = this.parseStatement(\"with\");\n  return this.finishNode(node, \"WithStatement\")\n};\n\npp$1.parseEmptyStatement = function(node) {\n  this.next();\n  return this.finishNode(node, \"EmptyStatement\")\n};\n\npp$1.parseLabeledStatement = function(node, maybeName, expr, context) {\n  for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n    {\n    var label = list[i$1];\n\n    if (label.name === maybeName)\n      { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n  } }\n  var kind = this.type.isLoop ? \"loop\" : this.type === types._switch ? \"switch\" : null;\n  for (var i = this.labels.length - 1; i >= 0; i--) {\n    var label$1 = this.labels[i];\n    if (label$1.statementStart === node.start) {\n      // Update information about previous labels on this node\n      label$1.statementStart = this.start;\n      label$1.kind = kind;\n    } else { break }\n  }\n  this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n  node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n  this.labels.pop();\n  node.label = expr;\n  return this.finishNode(node, \"LabeledStatement\")\n};\n\npp$1.parseExpressionStatement = function(node, expr) {\n  node.expression = expr;\n  this.semicolon();\n  return this.finishNode(node, \"ExpressionStatement\")\n};\n\n// Parse a semicolon-enclosed block of statements, handling `\"use\n// strict\"` declarations when `allowStrict` is true (used for\n// function bodies).\n\npp$1.parseBlock = function(createNewLexicalScope, node) {\n  if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n  if ( node === void 0 ) node = this.startNode();\n\n  node.body = [];\n  this.expect(types.braceL);\n  if (createNewLexicalScope) { this.enterScope(0); }\n  while (!this.eat(types.braceR)) {\n    var stmt = this.parseStatement(null);\n    node.body.push(stmt);\n  }\n  if (createNewLexicalScope) { this.exitScope(); }\n  return this.finishNode(node, \"BlockStatement\")\n};\n\n// Parse a regular `for` loop. The disambiguation code in\n// `parseStatement` will already have parsed the init statement or\n// expression.\n\npp$1.parseFor = function(node, init) {\n  node.init = init;\n  this.expect(types.semi);\n  node.test = this.type === types.semi ? null : this.parseExpression();\n  this.expect(types.semi);\n  node.update = this.type === types.parenR ? null : this.parseExpression();\n  this.expect(types.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, \"ForStatement\")\n};\n\n// Parse a `for`/`in` and `for`/`of` loop, which are almost\n// same from parser's perspective.\n\npp$1.parseForIn = function(node, init) {\n  var isForIn = this.type === types._in;\n  this.next();\n\n  if (\n    init.type === \"VariableDeclaration\" &&\n    init.declarations[0].init != null &&\n    (\n      !isForIn ||\n      this.options.ecmaVersion < 8 ||\n      this.strict ||\n      init.kind !== \"var\" ||\n      init.declarations[0].id.type !== \"Identifier\"\n    )\n  ) {\n    this.raise(\n      init.start,\n      ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n    );\n  } else if (init.type === \"AssignmentPattern\") {\n    this.raise(init.start, \"Invalid left-hand side in for-loop\");\n  }\n  node.left = init;\n  node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n  this.expect(types.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n};\n\n// Parse a list of variable declarations.\n\npp$1.parseVar = function(node, isFor, kind) {\n  node.declarations = [];\n  node.kind = kind;\n  for (;;) {\n    var decl = this.startNode();\n    this.parseVarId(decl, kind);\n    if (this.eat(types.eq)) {\n      decl.init = this.parseMaybeAssign(isFor);\n    } else if (kind === \"const\" && !(this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n      this.unexpected();\n    } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types._in || this.isContextual(\"of\")))) {\n      this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n    } else {\n      decl.init = null;\n    }\n    node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n    if (!this.eat(types.comma)) { break }\n  }\n  return node\n};\n\npp$1.parseVarId = function(decl, kind) {\n  decl.id = this.parseBindingAtom();\n  this.checkLVal(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n};\n\nvar FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n// Parse a function declaration or literal (depending on the\n// `statement & FUNC_STATEMENT`).\n\n// Remove `allowExpressionBody` for 7.0.0, as it is only called with false\npp$1.parseFunction = function(node, statement, allowExpressionBody, isAsync) {\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n    if (this.type === types.star && (statement & FUNC_HANGING_STATEMENT))\n      { this.unexpected(); }\n    node.generator = this.eat(types.star);\n  }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  if (statement & FUNC_STATEMENT) {\n    node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types.name ? null : this.parseIdent();\n    if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n      // If it is a regular function declaration in sloppy mode, then it is\n      // subject to Annex B semantics (BIND_FUNCTION). Otherwise, the binding\n      // mode depends on properties of the current scope (see\n      // treatFunctionsAsVar).\n      { this.checkLVal(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n  }\n\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(node.async, node.generator));\n\n  if (!(statement & FUNC_STATEMENT))\n    { node.id = this.type === types.name ? this.parseIdent() : null; }\n\n  this.parseFunctionParams(node);\n  this.parseFunctionBody(node, allowExpressionBody, false);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n};\n\npp$1.parseFunctionParams = function(node) {\n  this.expect(types.parenL);\n  node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n};\n\n// Parse a class declaration or literal (depending on the\n// `isStatement` parameter).\n\npp$1.parseClass = function(node, isStatement) {\n  this.next();\n\n  // ecma-262 14.6 Class Definitions\n  // A class definition is always strict mode code.\n  var oldStrict = this.strict;\n  this.strict = true;\n\n  this.parseClassId(node, isStatement);\n  this.parseClassSuper(node);\n  var classBody = this.startNode();\n  var hadConstructor = false;\n  classBody.body = [];\n  this.expect(types.braceL);\n  while (!this.eat(types.braceR)) {\n    var element = this.parseClassElement(node.superClass !== null);\n    if (element) {\n      classBody.body.push(element);\n      if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n        if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n        hadConstructor = true;\n      }\n    }\n  }\n  node.body = this.finishNode(classBody, \"ClassBody\");\n  this.strict = oldStrict;\n  return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n};\n\npp$1.parseClassElement = function(constructorAllowsSuper) {\n  var this$1 = this;\n\n  if (this.eat(types.semi)) { return null }\n\n  var method = this.startNode();\n  var tryContextual = function (k, noLineBreak) {\n    if ( noLineBreak === void 0 ) noLineBreak = false;\n\n    var start = this$1.start, startLoc = this$1.startLoc;\n    if (!this$1.eatContextual(k)) { return false }\n    if (this$1.type !== types.parenL && (!noLineBreak || !this$1.canInsertSemicolon())) { return true }\n    if (method.key) { this$1.unexpected(); }\n    method.computed = false;\n    method.key = this$1.startNodeAt(start, startLoc);\n    method.key.name = k;\n    this$1.finishNode(method.key, \"Identifier\");\n    return false\n  };\n\n  method.kind = \"method\";\n  method.static = tryContextual(\"static\");\n  var isGenerator = this.eat(types.star);\n  var isAsync = false;\n  if (!isGenerator) {\n    if (this.options.ecmaVersion >= 8 && tryContextual(\"async\", true)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n    } else if (tryContextual(\"get\")) {\n      method.kind = \"get\";\n    } else if (tryContextual(\"set\")) {\n      method.kind = \"set\";\n    }\n  }\n  if (!method.key) { this.parsePropertyName(method); }\n  var key = method.key;\n  var allowsDirectSuper = false;\n  if (!method.computed && !method.static && (key.type === \"Identifier\" && key.name === \"constructor\" ||\n      key.type === \"Literal\" && key.value === \"constructor\")) {\n    if (method.kind !== \"method\") { this.raise(key.start, \"Constructor can't have get/set modifier\"); }\n    if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n    if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n    method.kind = \"constructor\";\n    allowsDirectSuper = constructorAllowsSuper;\n  } else if (method.static && key.type === \"Identifier\" && key.name === \"prototype\") {\n    this.raise(key.start, \"Classes may not have a static property named prototype\");\n  }\n  this.parseClassMethod(method, isGenerator, isAsync, allowsDirectSuper);\n  if (method.kind === \"get\" && method.value.params.length !== 0)\n    { this.raiseRecoverable(method.value.start, \"getter should have no params\"); }\n  if (method.kind === \"set\" && method.value.params.length !== 1)\n    { this.raiseRecoverable(method.value.start, \"setter should have exactly one param\"); }\n  if (method.kind === \"set\" && method.value.params[0].type === \"RestElement\")\n    { this.raiseRecoverable(method.value.params[0].start, \"Setter cannot use rest params\"); }\n  return method\n};\n\npp$1.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n  method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n  return this.finishNode(method, \"MethodDefinition\")\n};\n\npp$1.parseClassId = function(node, isStatement) {\n  if (this.type === types.name) {\n    node.id = this.parseIdent();\n    if (isStatement)\n      { this.checkLVal(node.id, BIND_LEXICAL, false); }\n  } else {\n    if (isStatement === true)\n      { this.unexpected(); }\n    node.id = null;\n  }\n};\n\npp$1.parseClassSuper = function(node) {\n  node.superClass = this.eat(types._extends) ? this.parseExprSubscripts() : null;\n};\n\n// Parses module export declaration.\n\npp$1.parseExport = function(node, exports) {\n  this.next();\n  // export * from '...'\n  if (this.eat(types.star)) {\n    this.expectContextual(\"from\");\n    if (this.type !== types.string) { this.unexpected(); }\n    node.source = this.parseExprAtom();\n    this.semicolon();\n    return this.finishNode(node, \"ExportAllDeclaration\")\n  }\n  if (this.eat(types._default)) { // export default ...\n    this.checkExport(exports, \"default\", this.lastTokStart);\n    var isAsync;\n    if (this.type === types._function || (isAsync = this.isAsyncFunction())) {\n      var fNode = this.startNode();\n      this.next();\n      if (isAsync) { this.next(); }\n      node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n    } else if (this.type === types._class) {\n      var cNode = this.startNode();\n      node.declaration = this.parseClass(cNode, \"nullableID\");\n    } else {\n      node.declaration = this.parseMaybeAssign();\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportDefaultDeclaration\")\n  }\n  // export var|const|let|function|class ...\n  if (this.shouldParseExportStatement()) {\n    node.declaration = this.parseStatement(null);\n    if (node.declaration.type === \"VariableDeclaration\")\n      { this.checkVariableExport(exports, node.declaration.declarations); }\n    else\n      { this.checkExport(exports, node.declaration.id.name, node.declaration.id.start); }\n    node.specifiers = [];\n    node.source = null;\n  } else { // export { x, y as z } [from '...']\n    node.declaration = null;\n    node.specifiers = this.parseExportSpecifiers(exports);\n    if (this.eatContextual(\"from\")) {\n      if (this.type !== types.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n    } else {\n      for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n        // check for keywords used as local names\n        var spec = list[i];\n\n        this.checkUnreserved(spec.local);\n        // check if export is defined\n        this.checkLocalExport(spec.local);\n      }\n\n      node.source = null;\n    }\n    this.semicolon();\n  }\n  return this.finishNode(node, \"ExportNamedDeclaration\")\n};\n\npp$1.checkExport = function(exports, name, pos) {\n  if (!exports) { return }\n  if (has(exports, name))\n    { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n  exports[name] = true;\n};\n\npp$1.checkPatternExport = function(exports, pat) {\n  var type = pat.type;\n  if (type === \"Identifier\")\n    { this.checkExport(exports, pat.name, pat.start); }\n  else if (type === \"ObjectPattern\")\n    { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n      {\n        var prop = list[i];\n\n        this.checkPatternExport(exports, prop);\n      } }\n  else if (type === \"ArrayPattern\")\n    { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n      var elt = list$1[i$1];\n\n        if (elt) { this.checkPatternExport(exports, elt); }\n    } }\n  else if (type === \"Property\")\n    { this.checkPatternExport(exports, pat.value); }\n  else if (type === \"AssignmentPattern\")\n    { this.checkPatternExport(exports, pat.left); }\n  else if (type === \"RestElement\")\n    { this.checkPatternExport(exports, pat.argument); }\n  else if (type === \"ParenthesizedExpression\")\n    { this.checkPatternExport(exports, pat.expression); }\n};\n\npp$1.checkVariableExport = function(exports, decls) {\n  if (!exports) { return }\n  for (var i = 0, list = decls; i < list.length; i += 1)\n    {\n    var decl = list[i];\n\n    this.checkPatternExport(exports, decl.id);\n  }\n};\n\npp$1.shouldParseExportStatement = function() {\n  return this.type.keyword === \"var\" ||\n    this.type.keyword === \"const\" ||\n    this.type.keyword === \"class\" ||\n    this.type.keyword === \"function\" ||\n    this.isLet() ||\n    this.isAsyncFunction()\n};\n\n// Parses a comma-separated list of module exports.\n\npp$1.parseExportSpecifiers = function(exports) {\n  var nodes = [], first = true;\n  // export { x, y as z } [from '...']\n  this.expect(types.braceL);\n  while (!this.eat(types.braceR)) {\n    if (!first) {\n      this.expect(types.comma);\n      if (this.afterTrailingComma(types.braceR)) { break }\n    } else { first = false; }\n\n    var node = this.startNode();\n    node.local = this.parseIdent(true);\n    node.exported = this.eatContextual(\"as\") ? this.parseIdent(true) : node.local;\n    this.checkExport(exports, node.exported.name, node.exported.start);\n    nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n  }\n  return nodes\n};\n\n// Parses import declaration.\n\npp$1.parseImport = function(node) {\n  this.next();\n  // import '...'\n  if (this.type === types.string) {\n    node.specifiers = empty;\n    node.source = this.parseExprAtom();\n  } else {\n    node.specifiers = this.parseImportSpecifiers();\n    this.expectContextual(\"from\");\n    node.source = this.type === types.string ? this.parseExprAtom() : this.unexpected();\n  }\n  this.semicolon();\n  return this.finishNode(node, \"ImportDeclaration\")\n};\n\n// Parses a comma-separated list of module imports.\n\npp$1.parseImportSpecifiers = function() {\n  var nodes = [], first = true;\n  if (this.type === types.name) {\n    // import defaultObj, { x, y as z } from '...'\n    var node = this.startNode();\n    node.local = this.parseIdent();\n    this.checkLVal(node.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n    if (!this.eat(types.comma)) { return nodes }\n  }\n  if (this.type === types.star) {\n    var node$1 = this.startNode();\n    this.next();\n    this.expectContextual(\"as\");\n    node$1.local = this.parseIdent();\n    this.checkLVal(node$1.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n    return nodes\n  }\n  this.expect(types.braceL);\n  while (!this.eat(types.braceR)) {\n    if (!first) {\n      this.expect(types.comma);\n      if (this.afterTrailingComma(types.braceR)) { break }\n    } else { first = false; }\n\n    var node$2 = this.startNode();\n    node$2.imported = this.parseIdent(true);\n    if (this.eatContextual(\"as\")) {\n      node$2.local = this.parseIdent();\n    } else {\n      this.checkUnreserved(node$2.imported);\n      node$2.local = node$2.imported;\n    }\n    this.checkLVal(node$2.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n  }\n  return nodes\n};\n\n// Set `ExpressionStatement#directive` property for directive prologues.\npp$1.adaptDirectivePrologue = function(statements) {\n  for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n    statements[i].directive = statements[i].expression.raw.slice(1, -1);\n  }\n};\npp$1.isDirectiveCandidate = function(statement) {\n  return (\n    statement.type === \"ExpressionStatement\" &&\n    statement.expression.type === \"Literal\" &&\n    typeof statement.expression.value === \"string\" &&\n    // Reject parenthesized strings.\n    (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n  )\n};\n\nvar pp$2 = Parser.prototype;\n\n// Convert existing expression atom to assignable pattern\n// if possible.\n\npp$2.toAssignable = function(node, isBinding, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 6 && node) {\n    switch (node.type) {\n    case \"Identifier\":\n      if (this.inAsync && node.name === \"await\")\n        { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n      break\n\n    case \"ObjectPattern\":\n    case \"ArrayPattern\":\n    case \"RestElement\":\n      break\n\n    case \"ObjectExpression\":\n      node.type = \"ObjectPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      for (var i = 0, list = node.properties; i < list.length; i += 1) {\n        var prop = list[i];\n\n      this.toAssignable(prop, isBinding);\n        // Early error:\n        //   AssignmentRestProperty[Yield, Await] :\n        //     `...` DestructuringAssignmentTarget[Yield, Await]\n        //\n        //   It is a Syntax Error if |DestructuringAssignmentTarget| is an |ArrayLiteral| or an |ObjectLiteral|.\n        if (\n          prop.type === \"RestElement\" &&\n          (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n        ) {\n          this.raise(prop.argument.start, \"Unexpected token\");\n        }\n      }\n      break\n\n    case \"Property\":\n      // AssignmentProperty has type === \"Property\"\n      if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n      this.toAssignable(node.value, isBinding);\n      break\n\n    case \"ArrayExpression\":\n      node.type = \"ArrayPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      this.toAssignableList(node.elements, isBinding);\n      break\n\n    case \"SpreadElement\":\n      node.type = \"RestElement\";\n      this.toAssignable(node.argument, isBinding);\n      if (node.argument.type === \"AssignmentPattern\")\n        { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n      break\n\n    case \"AssignmentExpression\":\n      if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n      node.type = \"AssignmentPattern\";\n      delete node.operator;\n      this.toAssignable(node.left, isBinding);\n      // falls through to AssignmentPattern\n\n    case \"AssignmentPattern\":\n      break\n\n    case \"ParenthesizedExpression\":\n      this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n      break\n\n    case \"MemberExpression\":\n      if (!isBinding) { break }\n\n    default:\n      this.raise(node.start, \"Assigning to rvalue\");\n    }\n  } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n  return node\n};\n\n// Convert list of expression atoms to binding list.\n\npp$2.toAssignableList = function(exprList, isBinding) {\n  var end = exprList.length;\n  for (var i = 0; i < end; i++) {\n    var elt = exprList[i];\n    if (elt) { this.toAssignable(elt, isBinding); }\n  }\n  if (end) {\n    var last = exprList[end - 1];\n    if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n      { this.unexpected(last.argument.start); }\n  }\n  return exprList\n};\n\n// Parses spread element.\n\npp$2.parseSpread = function(refDestructuringErrors) {\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n  return this.finishNode(node, \"SpreadElement\")\n};\n\npp$2.parseRestBinding = function() {\n  var node = this.startNode();\n  this.next();\n\n  // RestElement inside of a function parameter must be an identifier\n  if (this.options.ecmaVersion === 6 && this.type !== types.name)\n    { this.unexpected(); }\n\n  node.argument = this.parseBindingAtom();\n\n  return this.finishNode(node, \"RestElement\")\n};\n\n// Parses lvalue (assignable) atom.\n\npp$2.parseBindingAtom = function() {\n  if (this.options.ecmaVersion >= 6) {\n    switch (this.type) {\n    case types.bracketL:\n      var node = this.startNode();\n      this.next();\n      node.elements = this.parseBindingList(types.bracketR, true, true);\n      return this.finishNode(node, \"ArrayPattern\")\n\n    case types.braceL:\n      return this.parseObj(true)\n    }\n  }\n  return this.parseIdent()\n};\n\npp$2.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (first) { first = false; }\n    else { this.expect(types.comma); }\n    if (allowEmpty && this.type === types.comma) {\n      elts.push(null);\n    } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n      break\n    } else if (this.type === types.ellipsis) {\n      var rest = this.parseRestBinding();\n      this.parseBindingListItem(rest);\n      elts.push(rest);\n      if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n      this.expect(close);\n      break\n    } else {\n      var elem = this.parseMaybeDefault(this.start, this.startLoc);\n      this.parseBindingListItem(elem);\n      elts.push(elem);\n    }\n  }\n  return elts\n};\n\npp$2.parseBindingListItem = function(param) {\n  return param\n};\n\n// Parses assignment pattern around given atom if possible.\n\npp$2.parseMaybeDefault = function(startPos, startLoc, left) {\n  left = left || this.parseBindingAtom();\n  if (this.options.ecmaVersion < 6 || !this.eat(types.eq)) { return left }\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.right = this.parseMaybeAssign();\n  return this.finishNode(node, \"AssignmentPattern\")\n};\n\n// Verify that a node is an lval  something that can be assigned\n// to.\n// bindingType can be either:\n// 'var' indicating that the lval creates a 'var' binding\n// 'let' indicating that the lval creates a lexical ('let' or 'const') binding\n// 'none' indicating that the binding should be checked for illegal identifiers, but not for duplicate references\n\npp$2.checkLVal = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  switch (expr.type) {\n  case \"Identifier\":\n    if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n      { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n    if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n      { this.raiseRecoverable(expr.start, (bindingType ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n    if (checkClashes) {\n      if (has(checkClashes, expr.name))\n        { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n      checkClashes[expr.name] = true;\n    }\n    if (bindingType !== BIND_NONE && bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n    break\n\n  case \"MemberExpression\":\n    if (bindingType) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n    break\n\n  case \"ObjectPattern\":\n    for (var i = 0, list = expr.properties; i < list.length; i += 1)\n      {\n    var prop = list[i];\n\n    this.checkLVal(prop, bindingType, checkClashes);\n  }\n    break\n\n  case \"Property\":\n    // AssignmentProperty has type === \"Property\"\n    this.checkLVal(expr.value, bindingType, checkClashes);\n    break\n\n  case \"ArrayPattern\":\n    for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n      var elem = list$1[i$1];\n\n    if (elem) { this.checkLVal(elem, bindingType, checkClashes); }\n    }\n    break\n\n  case \"AssignmentPattern\":\n    this.checkLVal(expr.left, bindingType, checkClashes);\n    break\n\n  case \"RestElement\":\n    this.checkLVal(expr.argument, bindingType, checkClashes);\n    break\n\n  case \"ParenthesizedExpression\":\n    this.checkLVal(expr.expression, bindingType, checkClashes);\n    break\n\n  default:\n    this.raise(expr.start, (bindingType ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n  }\n};\n\n// A recursive descent parser operates by defining functions for all\n\nvar pp$3 = Parser.prototype;\n\n// Check if property name clashes with already added.\n// Object/class getters and setters are not allowed to clash \n// either with each other or with an init property  and in\n// strict mode, init properties are also not allowed to be repeated.\n\npp$3.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n    { return }\n  if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n    { return }\n  var key = prop.key;\n  var name;\n  switch (key.type) {\n  case \"Identifier\": name = key.name; break\n  case \"Literal\": name = String(key.value); break\n  default: return\n  }\n  var kind = prop.kind;\n  if (this.options.ecmaVersion >= 6) {\n    if (name === \"__proto__\" && kind === \"init\") {\n      if (propHash.proto) {\n        if (refDestructuringErrors && refDestructuringErrors.doubleProto < 0) { refDestructuringErrors.doubleProto = key.start; }\n        // Backwards-compat kludge. Can be removed in version 6.0\n        else { this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\"); }\n      }\n      propHash.proto = true;\n    }\n    return\n  }\n  name = \"$\" + name;\n  var other = propHash[name];\n  if (other) {\n    var redefinition;\n    if (kind === \"init\") {\n      redefinition = this.strict && other.init || other.get || other.set;\n    } else {\n      redefinition = other.init || other[kind];\n    }\n    if (redefinition)\n      { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n  } else {\n    other = propHash[name] = {\n      init: false,\n      get: false,\n      set: false\n    };\n  }\n  other[kind] = true;\n};\n\n// ### Expression parsing\n\n// These nest, from the most general expression type at the top to\n// 'atomic', nondivisible expression types at the bottom. Most of\n// the functions will simply let the function(s) below them parse,\n// and, *if* the syntactic construct they handle is present, wrap\n// the AST node that the inner parser gave them in another node.\n\n// Parse a full expression. The optional arguments are used to\n// forbid the `in` operator (in for loops initalization expressions)\n// and provide reference for storing '=' operator inside shorthand\n// property assignment in contexts where both object expression\n// and object pattern might appear (so it's possible to raise\n// delayed syntax error at correct position).\n\npp$3.parseExpression = function(noIn, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeAssign(noIn, refDestructuringErrors);\n  if (this.type === types.comma) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.expressions = [expr];\n    while (this.eat(types.comma)) { node.expressions.push(this.parseMaybeAssign(noIn, refDestructuringErrors)); }\n    return this.finishNode(node, \"SequenceExpression\")\n  }\n  return expr\n};\n\n// Parse an assignment expression. This includes applications of\n// operators like `+=`.\n\npp$3.parseMaybeAssign = function(noIn, refDestructuringErrors, afterLeftParse) {\n  if (this.isContextual(\"yield\")) {\n    if (this.inGenerator) { return this.parseYield(noIn) }\n    // The tokenizer will assume an expression is allowed after\n    // `yield`, but this isn't that kind of yield\n    else { this.exprAllowed = false; }\n  }\n\n  var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1, oldShorthandAssign = -1;\n  if (refDestructuringErrors) {\n    oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n    oldTrailingComma = refDestructuringErrors.trailingComma;\n    oldShorthandAssign = refDestructuringErrors.shorthandAssign;\n    refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.shorthandAssign = -1;\n  } else {\n    refDestructuringErrors = new DestructuringErrors;\n    ownDestructuringErrors = true;\n  }\n\n  var startPos = this.start, startLoc = this.startLoc;\n  if (this.type === types.parenL || this.type === types.name)\n    { this.potentialArrowAt = this.start; }\n  var left = this.parseMaybeConditional(noIn, refDestructuringErrors);\n  if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n  if (this.type.isAssign) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.operator = this.value;\n    node.left = this.type === types.eq ? this.toAssignable(left, false, refDestructuringErrors) : left;\n    if (!ownDestructuringErrors) { DestructuringErrors.call(refDestructuringErrors); }\n    refDestructuringErrors.shorthandAssign = -1; // reset because shorthand default was used correctly\n    this.checkLVal(left);\n    this.next();\n    node.right = this.parseMaybeAssign(noIn);\n    return this.finishNode(node, \"AssignmentExpression\")\n  } else {\n    if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n  }\n  if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n  if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n  if (oldShorthandAssign > -1) { refDestructuringErrors.shorthandAssign = oldShorthandAssign; }\n  return left\n};\n\n// Parse a ternary conditional (`?:`) operator.\n\npp$3.parseMaybeConditional = function(noIn, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprOps(noIn, refDestructuringErrors);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  if (this.eat(types.question)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.test = expr;\n    node.consequent = this.parseMaybeAssign();\n    this.expect(types.colon);\n    node.alternate = this.parseMaybeAssign(noIn);\n    return this.finishNode(node, \"ConditionalExpression\")\n  }\n  return expr\n};\n\n// Start the precedence parser.\n\npp$3.parseExprOps = function(noIn, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeUnary(refDestructuringErrors, false);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, noIn)\n};\n\n// Parse binary operators with the operator precedence parsing\n// algorithm. `left` is the left-hand side of the operator.\n// `minPrec` provides context that allows the function to stop and\n// defer further parser to one of its callers when it encounters an\n// operator that has a lower precedence than the set it is parsing.\n\npp$3.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, noIn) {\n  var prec = this.type.binop;\n  if (prec != null && (!noIn || this.type !== types._in)) {\n    if (prec > minPrec) {\n      var logical = this.type === types.logicalOR || this.type === types.logicalAND;\n      var op = this.value;\n      this.next();\n      var startPos = this.start, startLoc = this.startLoc;\n      var right = this.parseExprOp(this.parseMaybeUnary(null, false), startPos, startLoc, prec, noIn);\n      var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical);\n      return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, noIn)\n    }\n  }\n  return left\n};\n\npp$3.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.operator = op;\n  node.right = right;\n  return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n};\n\n// Parse unary operators, both prefix and postfix.\n\npp$3.parseMaybeUnary = function(refDestructuringErrors, sawUnary) {\n  var startPos = this.start, startLoc = this.startLoc, expr;\n  if (this.isContextual(\"await\") && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction))) {\n    expr = this.parseAwait();\n    sawUnary = true;\n  } else if (this.type.prefix) {\n    var node = this.startNode(), update = this.type === types.incDec;\n    node.operator = this.value;\n    node.prefix = true;\n    this.next();\n    node.argument = this.parseMaybeUnary(null, true);\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    if (update) { this.checkLVal(node.argument); }\n    else if (this.strict && node.operator === \"delete\" &&\n             node.argument.type === \"Identifier\")\n      { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n    else { sawUnary = true; }\n    expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n  } else {\n    expr = this.parseExprSubscripts(refDestructuringErrors);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    while (this.type.postfix && !this.canInsertSemicolon()) {\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.operator = this.value;\n      node$1.prefix = false;\n      node$1.argument = expr;\n      this.checkLVal(expr);\n      this.next();\n      expr = this.finishNode(node$1, \"UpdateExpression\");\n    }\n  }\n\n  if (!sawUnary && this.eat(types.starstar))\n    { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false), \"**\", false) }\n  else\n    { return expr }\n};\n\n// Parse call, dot, and `[]`-subscript expressions.\n\npp$3.parseExprSubscripts = function(refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprAtom(refDestructuringErrors);\n  var skipArrowSubscripts = expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\";\n  if (this.checkExpressionErrors(refDestructuringErrors) || skipArrowSubscripts) { return expr }\n  var result = this.parseSubscripts(expr, startPos, startLoc);\n  if (refDestructuringErrors && result.type === \"MemberExpression\") {\n    if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n    if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n  }\n  return result\n};\n\npp$3.parseSubscripts = function(base, startPos, startLoc, noCalls) {\n  var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n      this.lastTokEnd === base.end && !this.canInsertSemicolon() && this.input.slice(base.start, base.end) === \"async\";\n  while (true) {\n    var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow);\n    if (element === base || element.type === \"ArrowFunctionExpression\") { return element }\n    base = element;\n  }\n};\n\npp$3.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow) {\n  var computed = this.eat(types.bracketL);\n  if (computed || this.eat(types.dot)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.object = base;\n    node.property = computed ? this.parseExpression() : this.parseIdent(this.options.allowReserved !== \"never\");\n    node.computed = !!computed;\n    if (computed) { this.expect(types.bracketR); }\n    base = this.finishNode(node, \"MemberExpression\");\n  } else if (!noCalls && this.eat(types.parenL)) {\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    var exprList = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8 && base.type !== \"Import\", false, refDestructuringErrors);\n    if (maybeAsyncArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      if (this.awaitIdentPos > 0)\n        { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos;\n      return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true)\n    }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n    var node$1 = this.startNodeAt(startPos, startLoc);\n    node$1.callee = base;\n    node$1.arguments = exprList;\n    if (node$1.callee.type === \"Import\") {\n      if (node$1.arguments.length !== 1) {\n        this.raise(node$1.start, \"import() requires exactly one argument\");\n      }\n\n      var importArg = node$1.arguments[0];\n      if (importArg && importArg.type === \"SpreadElement\") {\n        this.raise(importArg.start, \"... is not allowed in import()\");\n      }\n    }\n    base = this.finishNode(node$1, \"CallExpression\");\n  } else if (this.type === types.backQuote) {\n    var node$2 = this.startNodeAt(startPos, startLoc);\n    node$2.tag = base;\n    node$2.quasi = this.parseTemplate({isTagged: true});\n    base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n  }\n  return base\n};\n\n// Parse an atomic expression  either a single token that is an\n// expression, an expression started by a keyword like `function` or\n// `new`, or an expression wrapped in punctuation like `()`, `[]`,\n// or `{}`.\n\npp$3.parseExprAtom = function(refDestructuringErrors) {\n  // If a division operator appears in an expression position, the\n  // tokenizer got confused, and we force it to read a regexp instead.\n  if (this.type === types.slash) { this.readRegexp(); }\n\n  var node, canBeArrow = this.potentialArrowAt === this.start;\n  switch (this.type) {\n  case types._super:\n    if (!this.allowSuper)\n      { this.raise(this.start, \"'super' keyword outside a method\"); }\n    node = this.startNode();\n    this.next();\n    if (this.type === types.parenL && !this.allowDirectSuper)\n      { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n    // The `super` keyword can appear at below:\n    // SuperProperty:\n    //     super [ Expression ]\n    //     super . IdentifierName\n    // SuperCall:\n    //     super Arguments\n    if (this.type !== types.dot && this.type !== types.bracketL && this.type !== types.parenL)\n      { this.unexpected(); }\n    return this.finishNode(node, \"Super\")\n\n  case types._this:\n    node = this.startNode();\n    this.next();\n    return this.finishNode(node, \"ThisExpression\")\n\n  case types.name:\n    var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n    var id = this.parseIdent(false);\n    if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types._function))\n      { return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true) }\n    if (canBeArrow && !this.canInsertSemicolon()) {\n      if (this.eat(types.arrow))\n        { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false) }\n      if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types.name && !containsEsc) {\n        id = this.parseIdent(false);\n        if (this.canInsertSemicolon() || !this.eat(types.arrow))\n          { this.unexpected(); }\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true)\n      }\n    }\n    return id\n\n  case types.regexp:\n    var value = this.value;\n    node = this.parseLiteral(value.value);\n    node.regex = {pattern: value.pattern, flags: value.flags};\n    return node\n\n  case types.num: case types.string:\n    return this.parseLiteral(this.value)\n\n  case types._null: case types._true: case types._false:\n    node = this.startNode();\n    node.value = this.type === types._null ? null : this.type === types._true;\n    node.raw = this.type.keyword;\n    this.next();\n    return this.finishNode(node, \"Literal\")\n\n  case types.parenL:\n    var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow);\n    if (refDestructuringErrors) {\n      if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n        { refDestructuringErrors.parenthesizedAssign = start; }\n      if (refDestructuringErrors.parenthesizedBind < 0)\n        { refDestructuringErrors.parenthesizedBind = start; }\n    }\n    return expr\n\n  case types.bracketL:\n    node = this.startNode();\n    this.next();\n    node.elements = this.parseExprList(types.bracketR, true, true, refDestructuringErrors);\n    return this.finishNode(node, \"ArrayExpression\")\n\n  case types.braceL:\n    return this.parseObj(false, refDestructuringErrors)\n\n  case types._function:\n    node = this.startNode();\n    this.next();\n    return this.parseFunction(node, 0)\n\n  case types._class:\n    return this.parseClass(this.startNode(), false)\n\n  case types._new:\n    return this.parseNew()\n\n  case types.backQuote:\n    return this.parseTemplate()\n\n  case types._import:\n    if (this.options.ecmaVersion > 10) {\n      return this.parseDynamicImport()\n    } else {\n      return this.unexpected()\n    }\n\n  default:\n    this.unexpected();\n  }\n};\n\npp$3.parseDynamicImport = function() {\n  var node = this.startNode();\n  this.next();\n  if (this.type !== types.parenL) {\n    this.unexpected();\n  }\n  return this.finishNode(node, \"Import\")\n};\n\npp$3.parseLiteral = function(value) {\n  var node = this.startNode();\n  node.value = value;\n  node.raw = this.input.slice(this.start, this.end);\n  if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1); }\n  this.next();\n  return this.finishNode(node, \"Literal\")\n};\n\npp$3.parseParenExpression = function() {\n  this.expect(types.parenL);\n  var val = this.parseExpression();\n  this.expect(types.parenR);\n  return val\n};\n\npp$3.parseParenAndDistinguishExpression = function(canBeArrow) {\n  var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n  if (this.options.ecmaVersion >= 6) {\n    this.next();\n\n    var innerStartPos = this.start, innerStartLoc = this.startLoc;\n    var exprList = [], first = true, lastIsComma = false;\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    // Do not save awaitIdentPos to allow checking awaits nested in parameters\n    while (this.type !== types.parenR) {\n      first ? first = false : this.expect(types.comma);\n      if (allowTrailingComma && this.afterTrailingComma(types.parenR, true)) {\n        lastIsComma = true;\n        break\n      } else if (this.type === types.ellipsis) {\n        spreadStart = this.start;\n        exprList.push(this.parseParenItem(this.parseRestBinding()));\n        if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        break\n      } else {\n        exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n      }\n    }\n    var innerEndPos = this.start, innerEndLoc = this.startLoc;\n    this.expect(types.parenR);\n\n    if (canBeArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      return this.parseParenArrowList(startPos, startLoc, exprList)\n    }\n\n    if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n    if (spreadStart) { this.unexpected(spreadStart); }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n\n    if (exprList.length > 1) {\n      val = this.startNodeAt(innerStartPos, innerStartLoc);\n      val.expressions = exprList;\n      this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n    } else {\n      val = exprList[0];\n    }\n  } else {\n    val = this.parseParenExpression();\n  }\n\n  if (this.options.preserveParens) {\n    var par = this.startNodeAt(startPos, startLoc);\n    par.expression = val;\n    return this.finishNode(par, \"ParenthesizedExpression\")\n  } else {\n    return val\n  }\n};\n\npp$3.parseParenItem = function(item) {\n  return item\n};\n\npp$3.parseParenArrowList = function(startPos, startLoc, exprList) {\n  return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList)\n};\n\n// New's precedence is slightly tricky. It must allow its argument to\n// be a `[]` or dot subscript expression, but not a call  at least,\n// not without wrapping it in parentheses. Thus, it uses the noCalls\n// argument to parseSubscripts to prevent it from consuming the\n// argument list.\n\nvar empty$1 = [];\n\npp$3.parseNew = function() {\n  var node = this.startNode();\n  var meta = this.parseIdent(true);\n  if (this.options.ecmaVersion >= 6 && this.eat(types.dot)) {\n    node.meta = meta;\n    var containsEsc = this.containsEsc;\n    node.property = this.parseIdent(true);\n    if (node.property.name !== \"target\" || containsEsc)\n      { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is new.target\"); }\n    if (!this.inNonArrowFunction())\n      { this.raiseRecoverable(node.start, \"new.target can only be used in functions\"); }\n    return this.finishNode(node, \"MetaProperty\")\n  }\n  var startPos = this.start, startLoc = this.startLoc;\n  node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true);\n  if (this.options.ecmaVersion > 10 && node.callee.type === \"Import\") {\n    this.raise(node.callee.start, \"Cannot use new with import(...)\");\n  }\n  if (this.eat(types.parenL)) { node.arguments = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8 && node.callee.type !== \"Import\", false); }\n  else { node.arguments = empty$1; }\n  return this.finishNode(node, \"NewExpression\")\n};\n\n// Parse template expression.\n\npp$3.parseTemplateElement = function(ref) {\n  var isTagged = ref.isTagged;\n\n  var elem = this.startNode();\n  if (this.type === types.invalidTemplate) {\n    if (!isTagged) {\n      this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n    }\n    elem.value = {\n      raw: this.value,\n      cooked: null\n    };\n  } else {\n    elem.value = {\n      raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n      cooked: this.value\n    };\n  }\n  this.next();\n  elem.tail = this.type === types.backQuote;\n  return this.finishNode(elem, \"TemplateElement\")\n};\n\npp$3.parseTemplate = function(ref) {\n  if ( ref === void 0 ) ref = {};\n  var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n  var node = this.startNode();\n  this.next();\n  node.expressions = [];\n  var curElt = this.parseTemplateElement({isTagged: isTagged});\n  node.quasis = [curElt];\n  while (!curElt.tail) {\n    if (this.type === types.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n    this.expect(types.dollarBraceL);\n    node.expressions.push(this.parseExpression());\n    this.expect(types.braceR);\n    node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n  }\n  this.next();\n  return this.finishNode(node, \"TemplateLiteral\")\n};\n\npp$3.isAsyncProp = function(prop) {\n  return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n    (this.type === types.name || this.type === types.num || this.type === types.string || this.type === types.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types.star)) &&\n    !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\n// Parse an object literal or binding pattern.\n\npp$3.parseObj = function(isPattern, refDestructuringErrors) {\n  var node = this.startNode(), first = true, propHash = {};\n  node.properties = [];\n  this.next();\n  while (!this.eat(types.braceR)) {\n    if (!first) {\n      this.expect(types.comma);\n      if (this.afterTrailingComma(types.braceR)) { break }\n    } else { first = false; }\n\n    var prop = this.parseProperty(isPattern, refDestructuringErrors);\n    if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n    node.properties.push(prop);\n  }\n  return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n};\n\npp$3.parseProperty = function(isPattern, refDestructuringErrors) {\n  var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n  if (this.options.ecmaVersion >= 9 && this.eat(types.ellipsis)) {\n    if (isPattern) {\n      prop.argument = this.parseIdent(false);\n      if (this.type === types.comma) {\n        this.raise(this.start, \"Comma is not permitted after the rest element\");\n      }\n      return this.finishNode(prop, \"RestElement\")\n    }\n    // To disallow parenthesized identifier via `this.toAssignable()`.\n    if (this.type === types.parenL && refDestructuringErrors) {\n      if (refDestructuringErrors.parenthesizedAssign < 0) {\n        refDestructuringErrors.parenthesizedAssign = this.start;\n      }\n      if (refDestructuringErrors.parenthesizedBind < 0) {\n        refDestructuringErrors.parenthesizedBind = this.start;\n      }\n    }\n    // Parse argument.\n    prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    // To disallow trailing comma via `this.toAssignable()`.\n    if (this.type === types.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n      refDestructuringErrors.trailingComma = this.start;\n    }\n    // Finish\n    return this.finishNode(prop, \"SpreadElement\")\n  }\n  if (this.options.ecmaVersion >= 6) {\n    prop.method = false;\n    prop.shorthand = false;\n    if (isPattern || refDestructuringErrors) {\n      startPos = this.start;\n      startLoc = this.startLoc;\n    }\n    if (!isPattern)\n      { isGenerator = this.eat(types.star); }\n  }\n  var containsEsc = this.containsEsc;\n  this.parsePropertyName(prop);\n  if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n    isAsync = true;\n    isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n    this.parsePropertyName(prop, refDestructuringErrors);\n  } else {\n    isAsync = false;\n  }\n  this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n  return this.finishNode(prop, \"Property\")\n};\n\npp$3.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n  if ((isGenerator || isAsync) && this.type === types.colon)\n    { this.unexpected(); }\n\n  if (this.eat(types.colon)) {\n    prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n    prop.kind = \"init\";\n  } else if (this.options.ecmaVersion >= 6 && this.type === types.parenL) {\n    if (isPattern) { this.unexpected(); }\n    prop.kind = \"init\";\n    prop.method = true;\n    prop.value = this.parseMethod(isGenerator, isAsync);\n  } else if (!isPattern && !containsEsc &&\n             this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n             (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n             (this.type !== types.comma && this.type !== types.braceR)) {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    prop.kind = prop.key.name;\n    this.parsePropertyName(prop);\n    prop.value = this.parseMethod(false);\n    var paramCount = prop.kind === \"get\" ? 0 : 1;\n    if (prop.value.params.length !== paramCount) {\n      var start = prop.value.start;\n      if (prop.kind === \"get\")\n        { this.raiseRecoverable(start, \"getter should have no params\"); }\n      else\n        { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n    } else {\n      if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n        { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n    }\n  } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    this.checkUnreserved(prop.key);\n    if (prop.key.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = startPos; }\n    prop.kind = \"init\";\n    if (isPattern) {\n      prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n    } else if (this.type === types.eq && refDestructuringErrors) {\n      if (refDestructuringErrors.shorthandAssign < 0)\n        { refDestructuringErrors.shorthandAssign = this.start; }\n      prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n    } else {\n      prop.value = prop.key;\n    }\n    prop.shorthand = true;\n  } else { this.unexpected(); }\n};\n\npp$3.parsePropertyName = function(prop) {\n  if (this.options.ecmaVersion >= 6) {\n    if (this.eat(types.bracketL)) {\n      prop.computed = true;\n      prop.key = this.parseMaybeAssign();\n      this.expect(types.bracketR);\n      return prop.key\n    } else {\n      prop.computed = false;\n    }\n  }\n  return prop.key = this.type === types.num || this.type === types.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n};\n\n// Initialize empty function node.\n\npp$3.initFunction = function(node) {\n  node.id = null;\n  if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n  if (this.options.ecmaVersion >= 8) { node.async = false; }\n};\n\n// Parse object or class method.\n\npp$3.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n  var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 6)\n    { node.generator = isGenerator; }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n  this.expect(types.parenL);\n  node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n  this.parseFunctionBody(node, false, true);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"FunctionExpression\")\n};\n\n// Parse arrow function expression with given parameters.\n\npp$3.parseArrowExpression = function(node, params, isAsync) {\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n\n  node.params = this.toAssignableList(params, true);\n  this.parseFunctionBody(node, true, false);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"ArrowFunctionExpression\")\n};\n\n// Parse function body and check parameters.\n\npp$3.parseFunctionBody = function(node, isArrowFunction, isMethod) {\n  var isExpression = isArrowFunction && this.type !== types.braceL;\n  var oldStrict = this.strict, useStrict = false;\n\n  if (isExpression) {\n    node.body = this.parseMaybeAssign();\n    node.expression = true;\n    this.checkParams(node, false);\n  } else {\n    var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n    if (!oldStrict || nonSimple) {\n      useStrict = this.strictDirective(this.end);\n      // If this is a strict mode function, verify that argument names\n      // are not repeated, and it does not try to bind the words `eval`\n      // or `arguments`.\n      if (useStrict && nonSimple)\n        { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n    }\n    // Start a new scope with regard to labels and the `inFunction`\n    // flag (restore them to their old value afterwards).\n    var oldLabels = this.labels;\n    this.labels = [];\n    if (useStrict) { this.strict = true; }\n\n    // Add the params to varDeclaredNames to ensure that an error is thrown\n    // if a let/const declaration in the function clashes with one of the params.\n    this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n    node.body = this.parseBlock(false);\n    node.expression = false;\n    this.adaptDirectivePrologue(node.body.body);\n    this.labels = oldLabels;\n  }\n  this.exitScope();\n\n  // Ensure the function name isn't a forbidden identifier in strict mode, e.g. 'eval'\n  if (this.strict && node.id) { this.checkLVal(node.id, BIND_OUTSIDE); }\n  this.strict = oldStrict;\n};\n\npp$3.isSimpleParamList = function(params) {\n  for (var i = 0, list = params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    if (param.type !== \"Identifier\") { return false\n  } }\n  return true\n};\n\n// Checks function params for various disallowed patterns such as using \"eval\"\n// or \"arguments\" and duplicate parameters.\n\npp$3.checkParams = function(node, allowDuplicates) {\n  var nameHash = {};\n  for (var i = 0, list = node.params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    this.checkLVal(param, BIND_VAR, allowDuplicates ? null : nameHash);\n  }\n};\n\n// Parses a comma-separated list of expressions, and returns them as\n// an array. `close` is the token type that ends the list, and\n// `allowEmpty` can be turned on to allow subsequent commas with\n// nothing in between them to be parsed as `null` (which is needed\n// for array literals).\n\npp$3.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (!first) {\n      this.expect(types.comma);\n      if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n    } else { first = false; }\n\n    var elt = (void 0);\n    if (allowEmpty && this.type === types.comma)\n      { elt = null; }\n    else if (this.type === types.ellipsis) {\n      elt = this.parseSpread(refDestructuringErrors);\n      if (refDestructuringErrors && this.type === types.comma && refDestructuringErrors.trailingComma < 0)\n        { refDestructuringErrors.trailingComma = this.start; }\n    } else {\n      elt = this.parseMaybeAssign(false, refDestructuringErrors);\n    }\n    elts.push(elt);\n  }\n  return elts\n};\n\npp$3.checkUnreserved = function(ref) {\n  var start = ref.start;\n  var end = ref.end;\n  var name = ref.name;\n\n  if (this.inGenerator && name === \"yield\")\n    { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n  if (this.inAsync && name === \"await\")\n    { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n  if (this.keywords.test(name))\n    { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n  if (this.options.ecmaVersion < 6 &&\n    this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n  var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n  if (re.test(name)) {\n    if (!this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n    this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n  }\n};\n\n// Parse the next token as an identifier. If `liberal` is true (used\n// when parsing properties), it will also convert keywords into\n// identifiers.\n\npp$3.parseIdent = function(liberal, isBinding) {\n  var node = this.startNode();\n  if (this.type === types.name) {\n    node.name = this.value;\n  } else if (this.type.keyword) {\n    node.name = this.type.keyword;\n\n    // To fix https://github.com/acornjs/acorn/issues/575\n    // `class` and `function` keywords push new context into this.context.\n    // But there is no chance to pop the context if the keyword is consumed as an identifier such as a property name.\n    // If the previous token is a dot, this does not apply because the context-managing code already ignored the keyword\n    if ((node.name === \"class\" || node.name === \"function\") &&\n        (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n      this.context.pop();\n    }\n  } else {\n    this.unexpected();\n  }\n  this.next();\n  this.finishNode(node, \"Identifier\");\n  if (!liberal) {\n    this.checkUnreserved(node);\n    if (node.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = node.start; }\n  }\n  return node\n};\n\n// Parses yield expression inside generator.\n\npp$3.parseYield = function(noIn) {\n  if (!this.yieldPos) { this.yieldPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  if (this.type === types.semi || this.canInsertSemicolon() || (this.type !== types.star && !this.type.startsExpr)) {\n    node.delegate = false;\n    node.argument = null;\n  } else {\n    node.delegate = this.eat(types.star);\n    node.argument = this.parseMaybeAssign(noIn);\n  }\n  return this.finishNode(node, \"YieldExpression\")\n};\n\npp$3.parseAwait = function() {\n  if (!this.awaitPos) { this.awaitPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeUnary(null, true);\n  return this.finishNode(node, \"AwaitExpression\")\n};\n\nvar pp$4 = Parser.prototype;\n\n// This function is used to raise exceptions on parse errors. It\n// takes an offset integer (into the current `input`) to indicate\n// the location of the error, attaches the position to the end\n// of the error message, and then raises a `SyntaxError` with that\n// message.\n\npp$4.raise = function(pos, message) {\n  var loc = getLineInfo(this.input, pos);\n  message += \" (\" + loc.line + \":\" + loc.column + \")\";\n  var err = new SyntaxError(message);\n  err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n  throw err\n};\n\npp$4.raiseRecoverable = pp$4.raise;\n\npp$4.curPosition = function() {\n  if (this.options.locations) {\n    return new Position(this.curLine, this.pos - this.lineStart)\n  }\n};\n\nvar pp$5 = Parser.prototype;\n\nvar Scope = function Scope(flags) {\n  this.flags = flags;\n  // A list of var-declared names in the current lexical scope\n  this.var = [];\n  // A list of lexically-declared names in the current lexical scope\n  this.lexical = [];\n  // A list of lexically-declared FunctionDeclaration names in the current lexical scope\n  this.functions = [];\n};\n\n// The functions in this module keep track of declared variables in the current scope in order to detect duplicate variable names.\n\npp$5.enterScope = function(flags) {\n  this.scopeStack.push(new Scope(flags));\n};\n\npp$5.exitScope = function() {\n  this.scopeStack.pop();\n};\n\n// The spec says:\n// > At the top level of a function, or script, function declarations are\n// > treated like var declarations rather than like lexical declarations.\npp$5.treatFunctionsAsVarInScope = function(scope) {\n  return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n};\n\npp$5.declareName = function(name, bindingType, pos) {\n  var redeclared = false;\n  if (bindingType === BIND_LEXICAL) {\n    var scope = this.currentScope();\n    redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n    scope.lexical.push(name);\n    if (this.inModule && (scope.flags & SCOPE_TOP))\n      { delete this.undefinedExports[name]; }\n  } else if (bindingType === BIND_SIMPLE_CATCH) {\n    var scope$1 = this.currentScope();\n    scope$1.lexical.push(name);\n  } else if (bindingType === BIND_FUNCTION) {\n    var scope$2 = this.currentScope();\n    if (this.treatFunctionsAsVar)\n      { redeclared = scope$2.lexical.indexOf(name) > -1; }\n    else\n      { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n    scope$2.functions.push(name);\n  } else {\n    for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n      var scope$3 = this.scopeStack[i];\n      if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n          !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n        redeclared = true;\n        break\n      }\n      scope$3.var.push(name);\n      if (this.inModule && (scope$3.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n      if (scope$3.flags & SCOPE_VAR) { break }\n    }\n  }\n  if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n};\n\npp$5.checkLocalExport = function(id) {\n  // scope.functions must be empty as Module code is always strict.\n  if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n      this.scopeStack[0].var.indexOf(id.name) === -1) {\n    this.undefinedExports[id.name] = id;\n  }\n};\n\npp$5.currentScope = function() {\n  return this.scopeStack[this.scopeStack.length - 1]\n};\n\npp$5.currentVarScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR) { return scope }\n  }\n};\n\n// Could be useful for `this`, `new.target`, `super()`, `super.property`, and `super[property]`.\npp$5.currentThisScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n  }\n};\n\nvar Node = function Node(parser, pos, loc) {\n  this.type = \"\";\n  this.start = pos;\n  this.end = 0;\n  if (parser.options.locations)\n    { this.loc = new SourceLocation(parser, loc); }\n  if (parser.options.directSourceFile)\n    { this.sourceFile = parser.options.directSourceFile; }\n  if (parser.options.ranges)\n    { this.range = [pos, 0]; }\n};\n\n// Start an AST node, attaching a start offset.\n\nvar pp$6 = Parser.prototype;\n\npp$6.startNode = function() {\n  return new Node(this, this.start, this.startLoc)\n};\n\npp$6.startNodeAt = function(pos, loc) {\n  return new Node(this, pos, loc)\n};\n\n// Finish an AST node, adding `type` and `end` properties.\n\nfunction finishNodeAt(node, type, pos, loc) {\n  node.type = type;\n  node.end = pos;\n  if (this.options.locations)\n    { node.loc.end = loc; }\n  if (this.options.ranges)\n    { node.range[1] = pos; }\n  return node\n}\n\npp$6.finishNode = function(node, type) {\n  return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n};\n\n// Finish node at given position\n\npp$6.finishNodeAt = function(node, type, pos, loc) {\n  return finishNodeAt.call(this, node, type, pos, loc)\n};\n\n// The algorithm used to determine whether a regexp can appear at a\n\nvar TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n  this.token = token;\n  this.isExpr = !!isExpr;\n  this.preserveSpace = !!preserveSpace;\n  this.override = override;\n  this.generator = !!generator;\n};\n\nvar types$1 = {\n  b_stat: new TokContext(\"{\", false),\n  b_expr: new TokContext(\"{\", true),\n  b_tmpl: new TokContext(\"${\", false),\n  p_stat: new TokContext(\"(\", false),\n  p_expr: new TokContext(\"(\", true),\n  q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n  f_stat: new TokContext(\"function\", false),\n  f_expr: new TokContext(\"function\", true),\n  f_expr_gen: new TokContext(\"function\", true, false, null, true),\n  f_gen: new TokContext(\"function\", false, false, null, true)\n};\n\nvar pp$7 = Parser.prototype;\n\npp$7.initialContext = function() {\n  return [types$1.b_stat]\n};\n\npp$7.braceIsBlock = function(prevType) {\n  var parent = this.curContext();\n  if (parent === types$1.f_expr || parent === types$1.f_stat)\n    { return true }\n  if (prevType === types.colon && (parent === types$1.b_stat || parent === types$1.b_expr))\n    { return !parent.isExpr }\n\n  // The check for `tt.name && exprAllowed` detects whether we are\n  // after a `yield` or `of` construct. See the `updateContext` for\n  // `tt.name`.\n  if (prevType === types._return || prevType === types.name && this.exprAllowed)\n    { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n  if (prevType === types._else || prevType === types.semi || prevType === types.eof || prevType === types.parenR || prevType === types.arrow)\n    { return true }\n  if (prevType === types.braceL)\n    { return parent === types$1.b_stat }\n  if (prevType === types._var || prevType === types._const || prevType === types.name)\n    { return false }\n  return !this.exprAllowed\n};\n\npp$7.inGeneratorContext = function() {\n  for (var i = this.context.length - 1; i >= 1; i--) {\n    var context = this.context[i];\n    if (context.token === \"function\")\n      { return context.generator }\n  }\n  return false\n};\n\npp$7.updateContext = function(prevType) {\n  var update, type = this.type;\n  if (type.keyword && prevType === types.dot)\n    { this.exprAllowed = false; }\n  else if (update = type.updateContext)\n    { update.call(this, prevType); }\n  else\n    { this.exprAllowed = type.beforeExpr; }\n};\n\n// Token-specific context update code\n\ntypes.parenR.updateContext = types.braceR.updateContext = function() {\n  if (this.context.length === 1) {\n    this.exprAllowed = true;\n    return\n  }\n  var out = this.context.pop();\n  if (out === types$1.b_stat && this.curContext().token === \"function\") {\n    out = this.context.pop();\n  }\n  this.exprAllowed = !out.isExpr;\n};\n\ntypes.braceL.updateContext = function(prevType) {\n  this.context.push(this.braceIsBlock(prevType) ? types$1.b_stat : types$1.b_expr);\n  this.exprAllowed = true;\n};\n\ntypes.dollarBraceL.updateContext = function() {\n  this.context.push(types$1.b_tmpl);\n  this.exprAllowed = true;\n};\n\ntypes.parenL.updateContext = function(prevType) {\n  var statementParens = prevType === types._if || prevType === types._for || prevType === types._with || prevType === types._while;\n  this.context.push(statementParens ? types$1.p_stat : types$1.p_expr);\n  this.exprAllowed = true;\n};\n\ntypes.incDec.updateContext = function() {\n  // tokExprAllowed stays unchanged\n};\n\ntypes._function.updateContext = types._class.updateContext = function(prevType) {\n  if (prevType.beforeExpr && prevType !== types.semi && prevType !== types._else &&\n      !(prevType === types._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n      !((prevType === types.colon || prevType === types.braceL) && this.curContext() === types$1.b_stat))\n    { this.context.push(types$1.f_expr); }\n  else\n    { this.context.push(types$1.f_stat); }\n  this.exprAllowed = false;\n};\n\ntypes.backQuote.updateContext = function() {\n  if (this.curContext() === types$1.q_tmpl)\n    { this.context.pop(); }\n  else\n    { this.context.push(types$1.q_tmpl); }\n  this.exprAllowed = false;\n};\n\ntypes.star.updateContext = function(prevType) {\n  if (prevType === types._function) {\n    var index = this.context.length - 1;\n    if (this.context[index] === types$1.f_expr)\n      { this.context[index] = types$1.f_expr_gen; }\n    else\n      { this.context[index] = types$1.f_gen; }\n  }\n  this.exprAllowed = true;\n};\n\ntypes.name.updateContext = function(prevType) {\n  var allowed = false;\n  if (this.options.ecmaVersion >= 6 && prevType !== types.dot) {\n    if (this.value === \"of\" && !this.exprAllowed ||\n        this.value === \"yield\" && this.inGeneratorContext())\n      { allowed = true; }\n  }\n  this.exprAllowed = allowed;\n};\n\n// This file contains Unicode properties extracted from the ECMAScript\n// specification. The lists are extracted like so:\n// $$('#table-binary-unicode-properties > figure > table > tbody > tr > td:nth-child(1) code').map(el => el.innerText)\n\n// #table-binary-unicode-properties\nvar ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\nvar ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\nvar ecma11BinaryProperties = ecma10BinaryProperties;\nvar unicodeBinaryProperties = {\n  9: ecma9BinaryProperties,\n  10: ecma10BinaryProperties,\n  11: ecma11BinaryProperties\n};\n\n// #table-unicode-general-category-values\nvar unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n// #table-unicode-script-values\nvar ecma9ScriptValues = \"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\nvar ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\nvar ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\nvar unicodeScriptValues = {\n  9: ecma9ScriptValues,\n  10: ecma10ScriptValues,\n  11: ecma11ScriptValues\n};\n\nvar data = {};\nfunction buildUnicodeData(ecmaVersion) {\n  var d = data[ecmaVersion] = {\n    binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n    nonBinary: {\n      General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n      Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n    }\n  };\n  d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n  d.nonBinary.gc = d.nonBinary.General_Category;\n  d.nonBinary.sc = d.nonBinary.Script;\n  d.nonBinary.scx = d.nonBinary.Script_Extensions;\n}\nbuildUnicodeData(9);\nbuildUnicodeData(10);\nbuildUnicodeData(11);\n\nvar pp$8 = Parser.prototype;\n\nvar RegExpValidationState = function RegExpValidationState(parser) {\n  this.parser = parser;\n  this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\");\n  this.unicodeProperties = data[parser.options.ecmaVersion >= 11 ? 11 : parser.options.ecmaVersion];\n  this.source = \"\";\n  this.flags = \"\";\n  this.start = 0;\n  this.switchU = false;\n  this.switchN = false;\n  this.pos = 0;\n  this.lastIntValue = 0;\n  this.lastStringValue = \"\";\n  this.lastAssertionIsQuantifiable = false;\n  this.numCapturingParens = 0;\n  this.maxBackReference = 0;\n  this.groupNames = [];\n  this.backReferenceNames = [];\n};\n\nRegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n  var unicode = flags.indexOf(\"u\") !== -1;\n  this.start = start | 0;\n  this.source = pattern + \"\";\n  this.flags = flags;\n  this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n  this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n};\n\nRegExpValidationState.prototype.raise = function raise (message) {\n  this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n};\n\n// If u flag is given, this returns the code point at the index (it combines a surrogate pair).\n// Otherwise, this returns the code unit of the index (can be a part of a surrogate pair).\nRegExpValidationState.prototype.at = function at (i) {\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return -1\n  }\n  var c = s.charCodeAt(i);\n  if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n    return c\n  }\n  var next = s.charCodeAt(i + 1);\n  return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n};\n\nRegExpValidationState.prototype.nextIndex = function nextIndex (i) {\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return l\n  }\n  var c = s.charCodeAt(i), next;\n  if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n      (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n    return i + 1\n  }\n  return i + 2\n};\n\nRegExpValidationState.prototype.current = function current () {\n  return this.at(this.pos)\n};\n\nRegExpValidationState.prototype.lookahead = function lookahead () {\n  return this.at(this.nextIndex(this.pos))\n};\n\nRegExpValidationState.prototype.advance = function advance () {\n  this.pos = this.nextIndex(this.pos);\n};\n\nRegExpValidationState.prototype.eat = function eat (ch) {\n  if (this.current() === ch) {\n    this.advance();\n    return true\n  }\n  return false\n};\n\nfunction codePointToString(ch) {\n  if (ch <= 0xFFFF) { return String.fromCharCode(ch) }\n  ch -= 0x10000;\n  return String.fromCharCode((ch >> 10) + 0xD800, (ch & 0x03FF) + 0xDC00)\n}\n\n/**\n * Validate the flags part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$8.validateRegExpFlags = function(state) {\n  var validFlags = state.validFlags;\n  var flags = state.flags;\n\n  for (var i = 0; i < flags.length; i++) {\n    var flag = flags.charAt(i);\n    if (validFlags.indexOf(flag) === -1) {\n      this.raise(state.start, \"Invalid regular expression flag\");\n    }\n    if (flags.indexOf(flag, i + 1) > -1) {\n      this.raise(state.start, \"Duplicate regular expression flag\");\n    }\n  }\n};\n\n/**\n * Validate the pattern part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$8.validateRegExpPattern = function(state) {\n  this.regexp_pattern(state);\n\n  // The goal symbol for the parse is |Pattern[~U, ~N]|. If the result of\n  // parsing contains a |GroupName|, reparse with the goal symbol\n  // |Pattern[~U, +N]| and use this result instead. Throw a *SyntaxError*\n  // exception if _P_ did not conform to the grammar, if any elements of _P_\n  // were not matched by the parse, or if any Early Error conditions exist.\n  if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n    state.switchN = true;\n    this.regexp_pattern(state);\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Pattern\npp$8.regexp_pattern = function(state) {\n  state.pos = 0;\n  state.lastIntValue = 0;\n  state.lastStringValue = \"\";\n  state.lastAssertionIsQuantifiable = false;\n  state.numCapturingParens = 0;\n  state.maxBackReference = 0;\n  state.groupNames.length = 0;\n  state.backReferenceNames.length = 0;\n\n  this.regexp_disjunction(state);\n\n  if (state.pos !== state.source.length) {\n    // Make the same messages as V8.\n    if (state.eat(0x29 /* ) */)) {\n      state.raise(\"Unmatched ')'\");\n    }\n    if (state.eat(0x5D /* [ */) || state.eat(0x7D /* } */)) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  }\n  if (state.maxBackReference > state.numCapturingParens) {\n    state.raise(\"Invalid escape\");\n  }\n  for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n    var name = list[i];\n\n    if (state.groupNames.indexOf(name) === -1) {\n      state.raise(\"Invalid named capture referenced\");\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Disjunction\npp$8.regexp_disjunction = function(state) {\n  this.regexp_alternative(state);\n  while (state.eat(0x7C /* | */)) {\n    this.regexp_alternative(state);\n  }\n\n  // Make the same message as V8.\n  if (this.regexp_eatQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  if (state.eat(0x7B /* { */)) {\n    state.raise(\"Lone quantifier brackets\");\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Alternative\npp$8.regexp_alternative = function(state) {\n  while (state.pos < state.source.length && this.regexp_eatTerm(state))\n    { }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Term\npp$8.regexp_eatTerm = function(state) {\n  if (this.regexp_eatAssertion(state)) {\n    // Handle `QuantifiableAssertion Quantifier` alternative.\n    // `state.lastAssertionIsQuantifiable` is true if the last eaten Assertion\n    // is a QuantifiableAssertion.\n    if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n      // Make the same message as V8.\n      if (state.switchU) {\n        state.raise(\"Invalid quantifier\");\n      }\n    }\n    return true\n  }\n\n  if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n    this.regexp_eatQuantifier(state);\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Assertion\npp$8.regexp_eatAssertion = function(state) {\n  var start = state.pos;\n  state.lastAssertionIsQuantifiable = false;\n\n  // ^, $\n  if (state.eat(0x5E /* ^ */) || state.eat(0x24 /* $ */)) {\n    return true\n  }\n\n  // \\b \\B\n  if (state.eat(0x5C /* \\ */)) {\n    if (state.eat(0x42 /* B */) || state.eat(0x62 /* b */)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  // Lookahead / Lookbehind\n  if (state.eat(0x28 /* ( */) && state.eat(0x3F /* ? */)) {\n    var lookbehind = false;\n    if (this.options.ecmaVersion >= 9) {\n      lookbehind = state.eat(0x3C /* < */);\n    }\n    if (state.eat(0x3D /* = */) || state.eat(0x21 /* ! */)) {\n      this.regexp_disjunction(state);\n      if (!state.eat(0x29 /* ) */)) {\n        state.raise(\"Unterminated group\");\n      }\n      state.lastAssertionIsQuantifiable = !lookbehind;\n      return true\n    }\n  }\n\n  state.pos = start;\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Quantifier\npp$8.regexp_eatQuantifier = function(state, noError) {\n  if ( noError === void 0 ) noError = false;\n\n  if (this.regexp_eatQuantifierPrefix(state, noError)) {\n    state.eat(0x3F /* ? */);\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-QuantifierPrefix\npp$8.regexp_eatQuantifierPrefix = function(state, noError) {\n  return (\n    state.eat(0x2A /* * */) ||\n    state.eat(0x2B /* + */) ||\n    state.eat(0x3F /* ? */) ||\n    this.regexp_eatBracedQuantifier(state, noError)\n  )\n};\npp$8.regexp_eatBracedQuantifier = function(state, noError) {\n  var start = state.pos;\n  if (state.eat(0x7B /* { */)) {\n    var min = 0, max = -1;\n    if (this.regexp_eatDecimalDigits(state)) {\n      min = state.lastIntValue;\n      if (state.eat(0x2C /* , */) && this.regexp_eatDecimalDigits(state)) {\n        max = state.lastIntValue;\n      }\n      if (state.eat(0x7D /* } */)) {\n        // SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-term\n        if (max !== -1 && max < min && !noError) {\n          state.raise(\"numbers out of order in {} quantifier\");\n        }\n        return true\n      }\n    }\n    if (state.switchU && !noError) {\n      state.raise(\"Incomplete quantifier\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Atom\npp$8.regexp_eatAtom = function(state) {\n  return (\n    this.regexp_eatPatternCharacters(state) ||\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state)\n  )\n};\npp$8.regexp_eatReverseSolidusAtomEscape = function(state) {\n  var start = state.pos;\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatAtomEscape(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$8.regexp_eatUncapturingGroup = function(state) {\n  var start = state.pos;\n  if (state.eat(0x28 /* ( */)) {\n    if (state.eat(0x3F /* ? */) && state.eat(0x3A /* : */)) {\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 /* ) */)) {\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$8.regexp_eatCapturingGroup = function(state) {\n  if (state.eat(0x28 /* ( */)) {\n    if (this.options.ecmaVersion >= 9) {\n      this.regexp_groupSpecifier(state);\n    } else if (state.current() === 0x3F /* ? */) {\n      state.raise(\"Invalid group\");\n    }\n    this.regexp_disjunction(state);\n    if (state.eat(0x29 /* ) */)) {\n      state.numCapturingParens += 1;\n      return true\n    }\n    state.raise(\"Unterminated group\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedAtom\npp$8.regexp_eatExtendedAtom = function(state) {\n  return (\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state) ||\n    this.regexp_eatInvalidBracedQuantifier(state) ||\n    this.regexp_eatExtendedPatternCharacter(state)\n  )\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-InvalidBracedQuantifier\npp$8.regexp_eatInvalidBracedQuantifier = function(state) {\n  if (this.regexp_eatBracedQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-SyntaxCharacter\npp$8.regexp_eatSyntaxCharacter = function(state) {\n  var ch = state.current();\n  if (isSyntaxCharacter(ch)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isSyntaxCharacter(ch) {\n  return (\n    ch === 0x24 /* $ */ ||\n    ch >= 0x28 /* ( */ && ch <= 0x2B /* + */ ||\n    ch === 0x2E /* . */ ||\n    ch === 0x3F /* ? */ ||\n    ch >= 0x5B /* [ */ && ch <= 0x5E /* ^ */ ||\n    ch >= 0x7B /* { */ && ch <= 0x7D /* } */\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-PatternCharacter\n// But eat eager.\npp$8.regexp_eatPatternCharacters = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n    state.advance();\n  }\n  return state.pos !== start\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedPatternCharacter\npp$8.regexp_eatExtendedPatternCharacter = function(state) {\n  var ch = state.current();\n  if (\n    ch !== -1 &&\n    ch !== 0x24 /* $ */ &&\n    !(ch >= 0x28 /* ( */ && ch <= 0x2B /* + */) &&\n    ch !== 0x2E /* . */ &&\n    ch !== 0x3F /* ? */ &&\n    ch !== 0x5B /* [ */ &&\n    ch !== 0x5E /* ^ */ &&\n    ch !== 0x7C /* | */\n  ) {\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// GroupSpecifier[U] ::\n//   [empty]\n//   `?` GroupName[?U]\npp$8.regexp_groupSpecifier = function(state) {\n  if (state.eat(0x3F /* ? */)) {\n    if (this.regexp_eatGroupName(state)) {\n      if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n        state.raise(\"Duplicate capture group name\");\n      }\n      state.groupNames.push(state.lastStringValue);\n      return\n    }\n    state.raise(\"Invalid group\");\n  }\n};\n\n// GroupName[U] ::\n//   `<` RegExpIdentifierName[?U] `>`\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$8.regexp_eatGroupName = function(state) {\n  state.lastStringValue = \"\";\n  if (state.eat(0x3C /* < */)) {\n    if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E /* > */)) {\n      return true\n    }\n    state.raise(\"Invalid capture group name\");\n  }\n  return false\n};\n\n// RegExpIdentifierName[U] ::\n//   RegExpIdentifierStart[?U]\n//   RegExpIdentifierName[?U] RegExpIdentifierPart[?U]\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$8.regexp_eatRegExpIdentifierName = function(state) {\n  state.lastStringValue = \"\";\n  if (this.regexp_eatRegExpIdentifierStart(state)) {\n    state.lastStringValue += codePointToString(state.lastIntValue);\n    while (this.regexp_eatRegExpIdentifierPart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n    }\n    return true\n  }\n  return false\n};\n\n// RegExpIdentifierStart[U] ::\n//   UnicodeIDStart\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[?U]\npp$8.regexp_eatRegExpIdentifierStart = function(state) {\n  var start = state.pos;\n  var ch = state.current();\n  state.advance();\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierStart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierStart(ch) {\n  return isIdentifierStart(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */\n}\n\n// RegExpIdentifierPart[U] ::\n//   UnicodeIDContinue\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[?U]\n//   <ZWNJ>\n//   <ZWJ>\npp$8.regexp_eatRegExpIdentifierPart = function(state) {\n  var start = state.pos;\n  var ch = state.current();\n  state.advance();\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierPart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierPart(ch) {\n  return isIdentifierChar(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */ || ch === 0x200C /* <ZWNJ> */ || ch === 0x200D /* <ZWJ> */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-AtomEscape\npp$8.regexp_eatAtomEscape = function(state) {\n  if (\n    this.regexp_eatBackReference(state) ||\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state) ||\n    (state.switchN && this.regexp_eatKGroupName(state))\n  ) {\n    return true\n  }\n  if (state.switchU) {\n    // Make the same message as V8.\n    if (state.current() === 0x63 /* c */) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.raise(\"Invalid escape\");\n  }\n  return false\n};\npp$8.regexp_eatBackReference = function(state) {\n  var start = state.pos;\n  if (this.regexp_eatDecimalEscape(state)) {\n    var n = state.lastIntValue;\n    if (state.switchU) {\n      // For SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-atomescape\n      if (n > state.maxBackReference) {\n        state.maxBackReference = n;\n      }\n      return true\n    }\n    if (n <= state.numCapturingParens) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$8.regexp_eatKGroupName = function(state) {\n  if (state.eat(0x6B /* k */)) {\n    if (this.regexp_eatGroupName(state)) {\n      state.backReferenceNames.push(state.lastStringValue);\n      return true\n    }\n    state.raise(\"Invalid named reference\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-CharacterEscape\npp$8.regexp_eatCharacterEscape = function(state) {\n  return (\n    this.regexp_eatControlEscape(state) ||\n    this.regexp_eatCControlLetter(state) ||\n    this.regexp_eatZero(state) ||\n    this.regexp_eatHexEscapeSequence(state) ||\n    this.regexp_eatRegExpUnicodeEscapeSequence(state) ||\n    (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n    this.regexp_eatIdentityEscape(state)\n  )\n};\npp$8.regexp_eatCControlLetter = function(state) {\n  var start = state.pos;\n  if (state.eat(0x63 /* c */)) {\n    if (this.regexp_eatControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$8.regexp_eatZero = function(state) {\n  if (state.current() === 0x30 /* 0 */ && !isDecimalDigit(state.lookahead())) {\n    state.lastIntValue = 0;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlEscape\npp$8.regexp_eatControlEscape = function(state) {\n  var ch = state.current();\n  if (ch === 0x74 /* t */) {\n    state.lastIntValue = 0x09; /* \\t */\n    state.advance();\n    return true\n  }\n  if (ch === 0x6E /* n */) {\n    state.lastIntValue = 0x0A; /* \\n */\n    state.advance();\n    return true\n  }\n  if (ch === 0x76 /* v */) {\n    state.lastIntValue = 0x0B; /* \\v */\n    state.advance();\n    return true\n  }\n  if (ch === 0x66 /* f */) {\n    state.lastIntValue = 0x0C; /* \\f */\n    state.advance();\n    return true\n  }\n  if (ch === 0x72 /* r */) {\n    state.lastIntValue = 0x0D; /* \\r */\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlLetter\npp$8.regexp_eatControlLetter = function(state) {\n  var ch = state.current();\n  if (isControlLetter(ch)) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isControlLetter(ch) {\n  return (\n    (ch >= 0x41 /* A */ && ch <= 0x5A /* Z */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x7A /* z */)\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-RegExpUnicodeEscapeSequence\npp$8.regexp_eatRegExpUnicodeEscapeSequence = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x75 /* u */)) {\n    if (this.regexp_eatFixedHexDigits(state, 4)) {\n      var lead = state.lastIntValue;\n      if (state.switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n        var leadSurrogateEnd = state.pos;\n        if (state.eat(0x5C /* \\ */) && state.eat(0x75 /* u */) && this.regexp_eatFixedHexDigits(state, 4)) {\n          var trail = state.lastIntValue;\n          if (trail >= 0xDC00 && trail <= 0xDFFF) {\n            state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n            return true\n          }\n        }\n        state.pos = leadSurrogateEnd;\n        state.lastIntValue = lead;\n      }\n      return true\n    }\n    if (\n      state.switchU &&\n      state.eat(0x7B /* { */) &&\n      this.regexp_eatHexDigits(state) &&\n      state.eat(0x7D /* } */) &&\n      isValidUnicode(state.lastIntValue)\n    ) {\n      return true\n    }\n    if (state.switchU) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.pos = start;\n  }\n\n  return false\n};\nfunction isValidUnicode(ch) {\n  return ch >= 0 && ch <= 0x10FFFF\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-IdentityEscape\npp$8.regexp_eatIdentityEscape = function(state) {\n  if (state.switchU) {\n    if (this.regexp_eatSyntaxCharacter(state)) {\n      return true\n    }\n    if (state.eat(0x2F /* / */)) {\n      state.lastIntValue = 0x2F; /* / */\n      return true\n    }\n    return false\n  }\n\n  var ch = state.current();\n  if (ch !== 0x63 /* c */ && (!state.switchN || ch !== 0x6B /* k */)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalEscape\npp$8.regexp_eatDecimalEscape = function(state) {\n  state.lastIntValue = 0;\n  var ch = state.current();\n  if (ch >= 0x31 /* 1 */ && ch <= 0x39 /* 9 */) {\n    do {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n      state.advance();\n    } while ((ch = state.current()) >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */)\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClassEscape\npp$8.regexp_eatCharacterClassEscape = function(state) {\n  var ch = state.current();\n\n  if (isCharacterClassEscape(ch)) {\n    state.lastIntValue = -1;\n    state.advance();\n    return true\n  }\n\n  if (\n    state.switchU &&\n    this.options.ecmaVersion >= 9 &&\n    (ch === 0x50 /* P */ || ch === 0x70 /* p */)\n  ) {\n    state.lastIntValue = -1;\n    state.advance();\n    if (\n      state.eat(0x7B /* { */) &&\n      this.regexp_eatUnicodePropertyValueExpression(state) &&\n      state.eat(0x7D /* } */)\n    ) {\n      return true\n    }\n    state.raise(\"Invalid property name\");\n  }\n\n  return false\n};\nfunction isCharacterClassEscape(ch) {\n  return (\n    ch === 0x64 /* d */ ||\n    ch === 0x44 /* D */ ||\n    ch === 0x73 /* s */ ||\n    ch === 0x53 /* S */ ||\n    ch === 0x77 /* w */ ||\n    ch === 0x57 /* W */\n  )\n}\n\n// UnicodePropertyValueExpression ::\n//   UnicodePropertyName `=` UnicodePropertyValue\n//   LoneUnicodePropertyNameOrValue\npp$8.regexp_eatUnicodePropertyValueExpression = function(state) {\n  var start = state.pos;\n\n  // UnicodePropertyName `=` UnicodePropertyValue\n  if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D /* = */)) {\n    var name = state.lastStringValue;\n    if (this.regexp_eatUnicodePropertyValue(state)) {\n      var value = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n      return true\n    }\n  }\n  state.pos = start;\n\n  // LoneUnicodePropertyNameOrValue\n  if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n    var nameOrValue = state.lastStringValue;\n    this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n    return true\n  }\n  return false\n};\npp$8.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n  if (!has(state.unicodeProperties.nonBinary, name))\n    { state.raise(\"Invalid property name\"); }\n  if (!state.unicodeProperties.nonBinary[name].test(value))\n    { state.raise(\"Invalid property value\"); }\n};\npp$8.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n  if (!state.unicodeProperties.binary.test(nameOrValue))\n    { state.raise(\"Invalid property name\"); }\n};\n\n// UnicodePropertyName ::\n//   UnicodePropertyNameCharacters\npp$8.regexp_eatUnicodePropertyName = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyNameCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\nfunction isUnicodePropertyNameCharacter(ch) {\n  return isControlLetter(ch) || ch === 0x5F /* _ */\n}\n\n// UnicodePropertyValue ::\n//   UnicodePropertyValueCharacters\npp$8.regexp_eatUnicodePropertyValue = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyValueCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\nfunction isUnicodePropertyValueCharacter(ch) {\n  return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n}\n\n// LoneUnicodePropertyNameOrValue ::\n//   UnicodePropertyValueCharacters\npp$8.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n  return this.regexp_eatUnicodePropertyValue(state)\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClass\npp$8.regexp_eatCharacterClass = function(state) {\n  if (state.eat(0x5B /* [ */)) {\n    state.eat(0x5E /* ^ */);\n    this.regexp_classRanges(state);\n    if (state.eat(0x5D /* [ */)) {\n      return true\n    }\n    // Unreachable since it threw \"unterminated regular expression\" error before.\n    state.raise(\"Unterminated character class\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassRanges\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRanges\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRangesNoDash\npp$8.regexp_classRanges = function(state) {\n  while (this.regexp_eatClassAtom(state)) {\n    var left = state.lastIntValue;\n    if (state.eat(0x2D /* - */) && this.regexp_eatClassAtom(state)) {\n      var right = state.lastIntValue;\n      if (state.switchU && (left === -1 || right === -1)) {\n        state.raise(\"Invalid character class\");\n      }\n      if (left !== -1 && right !== -1 && left > right) {\n        state.raise(\"Range out of order in character class\");\n      }\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtom\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtomNoDash\npp$8.regexp_eatClassAtom = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatClassEscape(state)) {\n      return true\n    }\n    if (state.switchU) {\n      // Make the same message as V8.\n      var ch$1 = state.current();\n      if (ch$1 === 0x63 /* c */ || isOctalDigit(ch$1)) {\n        state.raise(\"Invalid class escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n\n  var ch = state.current();\n  if (ch !== 0x5D /* [ */) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassEscape\npp$8.regexp_eatClassEscape = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x62 /* b */)) {\n    state.lastIntValue = 0x08; /* <BS> */\n    return true\n  }\n\n  if (state.switchU && state.eat(0x2D /* - */)) {\n    state.lastIntValue = 0x2D; /* - */\n    return true\n  }\n\n  if (!state.switchU && state.eat(0x63 /* c */)) {\n    if (this.regexp_eatClassControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  return (\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state)\n  )\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassControlLetter\npp$8.regexp_eatClassControlLetter = function(state) {\n  var ch = state.current();\n  if (isDecimalDigit(ch) || ch === 0x5F /* _ */) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$8.regexp_eatHexEscapeSequence = function(state) {\n  var start = state.pos;\n  if (state.eat(0x78 /* x */)) {\n    if (this.regexp_eatFixedHexDigits(state, 2)) {\n      return true\n    }\n    if (state.switchU) {\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalDigits\npp$8.regexp_eatDecimalDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isDecimalDigit(ch = state.current())) {\n    state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isDecimalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigits\npp$8.regexp_eatHexDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isHexDigit(ch = state.current())) {\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isHexDigit(ch) {\n  return (\n    (ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */) ||\n    (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x66 /* f */)\n  )\n}\nfunction hexToInt(ch) {\n  if (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) {\n    return 10 + (ch - 0x41 /* A */)\n  }\n  if (ch >= 0x61 /* a */ && ch <= 0x66 /* f */) {\n    return 10 + (ch - 0x61 /* a */)\n  }\n  return ch - 0x30 /* 0 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-LegacyOctalEscapeSequence\n// Allows only 0-377(octal) i.e. 0-255(decimal).\npp$8.regexp_eatLegacyOctalEscapeSequence = function(state) {\n  if (this.regexp_eatOctalDigit(state)) {\n    var n1 = state.lastIntValue;\n    if (this.regexp_eatOctalDigit(state)) {\n      var n2 = state.lastIntValue;\n      if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n        state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n      } else {\n        state.lastIntValue = n1 * 8 + n2;\n      }\n    } else {\n      state.lastIntValue = n1;\n    }\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-OctalDigit\npp$8.regexp_eatOctalDigit = function(state) {\n  var ch = state.current();\n  if (isOctalDigit(ch)) {\n    state.lastIntValue = ch - 0x30; /* 0 */\n    state.advance();\n    return true\n  }\n  state.lastIntValue = 0;\n  return false\n};\nfunction isOctalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x37 /* 7 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Hex4Digits\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigit\n// And HexDigit HexDigit in https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$8.regexp_eatFixedHexDigits = function(state, length) {\n  var start = state.pos;\n  state.lastIntValue = 0;\n  for (var i = 0; i < length; ++i) {\n    var ch = state.current();\n    if (!isHexDigit(ch)) {\n      state.pos = start;\n      return false\n    }\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return true\n};\n\n// Object type used to represent tokens. Note that normally, tokens\n// simply exist as properties on the parser object. This is only\n// used for the onToken callback and the external tokenizer.\n\nvar Token = function Token(p) {\n  this.type = p.type;\n  this.value = p.value;\n  this.start = p.start;\n  this.end = p.end;\n  if (p.options.locations)\n    { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n  if (p.options.ranges)\n    { this.range = [p.start, p.end]; }\n};\n\n// ## Tokenizer\n\nvar pp$9 = Parser.prototype;\n\n// Move to the next token\n\npp$9.next = function() {\n  if (this.options.onToken)\n    { this.options.onToken(new Token(this)); }\n\n  this.lastTokEnd = this.end;\n  this.lastTokStart = this.start;\n  this.lastTokEndLoc = this.endLoc;\n  this.lastTokStartLoc = this.startLoc;\n  this.nextToken();\n};\n\npp$9.getToken = function() {\n  this.next();\n  return new Token(this)\n};\n\n// If we're in an ES6 environment, make parsers iterable\nif (typeof Symbol !== \"undefined\")\n  { pp$9[Symbol.iterator] = function() {\n    var this$1 = this;\n\n    return {\n      next: function () {\n        var token = this$1.getToken();\n        return {\n          done: token.type === types.eof,\n          value: token\n        }\n      }\n    }\n  }; }\n\n// Toggle strict mode. Re-reads the next number or string to please\n// pedantic tests (`\"use strict\"; 010;` should fail).\n\npp$9.curContext = function() {\n  return this.context[this.context.length - 1]\n};\n\n// Read a single token, updating the parser object's token-related\n// properties.\n\npp$9.nextToken = function() {\n  var curContext = this.curContext();\n  if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n  this.start = this.pos;\n  if (this.options.locations) { this.startLoc = this.curPosition(); }\n  if (this.pos >= this.input.length) { return this.finishToken(types.eof) }\n\n  if (curContext.override) { return curContext.override(this) }\n  else { this.readToken(this.fullCharCodeAtPos()); }\n};\n\npp$9.readToken = function(code) {\n  // Identifier or keyword. '\\uXXXX' sequences are allowed in\n  // identifiers, so '\\' also dispatches to that.\n  if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 /* '\\' */)\n    { return this.readWord() }\n\n  return this.getTokenFromCode(code)\n};\n\npp$9.fullCharCodeAtPos = function() {\n  var code = this.input.charCodeAt(this.pos);\n  if (code <= 0xd7ff || code >= 0xe000) { return code }\n  var next = this.input.charCodeAt(this.pos + 1);\n  return (code << 10) + next - 0x35fdc00\n};\n\npp$9.skipBlockComment = function() {\n  var startLoc = this.options.onComment && this.curPosition();\n  var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n  if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n  this.pos = end + 2;\n  if (this.options.locations) {\n    lineBreakG.lastIndex = start;\n    var match;\n    while ((match = lineBreakG.exec(this.input)) && match.index < this.pos) {\n      ++this.curLine;\n      this.lineStart = match.index + match[0].length;\n    }\n  }\n  if (this.options.onComment)\n    { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\npp$9.skipLineComment = function(startSkip) {\n  var start = this.pos;\n  var startLoc = this.options.onComment && this.curPosition();\n  var ch = this.input.charCodeAt(this.pos += startSkip);\n  while (this.pos < this.input.length && !isNewLine(ch)) {\n    ch = this.input.charCodeAt(++this.pos);\n  }\n  if (this.options.onComment)\n    { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\n// Called at the start of the parse and after every token. Skips\n// whitespace and comments, and.\n\npp$9.skipSpace = function() {\n  loop: while (this.pos < this.input.length) {\n    var ch = this.input.charCodeAt(this.pos);\n    switch (ch) {\n    case 32: case 160: // ' '\n      ++this.pos;\n      break\n    case 13:\n      if (this.input.charCodeAt(this.pos + 1) === 10) {\n        ++this.pos;\n      }\n    case 10: case 8232: case 8233:\n      ++this.pos;\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      break\n    case 47: // '/'\n      switch (this.input.charCodeAt(this.pos + 1)) {\n      case 42: // '*'\n        this.skipBlockComment();\n        break\n      case 47:\n        this.skipLineComment(2);\n        break\n      default:\n        break loop\n      }\n      break\n    default:\n      if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n        ++this.pos;\n      } else {\n        break loop\n      }\n    }\n  }\n};\n\n// Called at the end of every token. Sets `end`, `val`, and\n// maintains `context` and `exprAllowed`, and skips the space after\n// the token, so that the next one's `start` will point at the\n// right position.\n\npp$9.finishToken = function(type, val) {\n  this.end = this.pos;\n  if (this.options.locations) { this.endLoc = this.curPosition(); }\n  var prevType = this.type;\n  this.type = type;\n  this.value = val;\n\n  this.updateContext(prevType);\n};\n\n// ### Token reading\n\n// This is the function that is called to fetch the next token. It\n// is somewhat obscure, because it works in character codes rather\n// than characters, and because operator parsing has been inlined\n// into it.\n//\n// All in the name of speed.\n//\npp$9.readToken_dot = function() {\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next >= 48 && next <= 57) { return this.readNumber(true) }\n  var next2 = this.input.charCodeAt(this.pos + 2);\n  if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\n    this.pos += 3;\n    return this.finishToken(types.ellipsis)\n  } else {\n    ++this.pos;\n    return this.finishToken(types.dot)\n  }\n};\n\npp$9.readToken_slash = function() { // '/'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n  if (next === 61) { return this.finishOp(types.assign, 2) }\n  return this.finishOp(types.slash, 1)\n};\n\npp$9.readToken_mult_modulo_exp = function(code) { // '%*'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  var tokentype = code === 42 ? types.star : types.modulo;\n\n  // exponentiation operator ** and **=\n  if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n    ++size;\n    tokentype = types.starstar;\n    next = this.input.charCodeAt(this.pos + 2);\n  }\n\n  if (next === 61) { return this.finishOp(types.assign, size + 1) }\n  return this.finishOp(tokentype, size)\n};\n\npp$9.readToken_pipe_amp = function(code) { // '|&'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) { return this.finishOp(code === 124 ? types.logicalOR : types.logicalAND, 2) }\n  if (next === 61) { return this.finishOp(types.assign, 2) }\n  return this.finishOp(code === 124 ? types.bitwiseOR : types.bitwiseAND, 1)\n};\n\npp$9.readToken_caret = function() { // '^'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types.assign, 2) }\n  return this.finishOp(types.bitwiseXOR, 1)\n};\n\npp$9.readToken_plus_min = function(code) { // '+-'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) {\n    if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n        (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n      // A `-->` line comment\n      this.skipLineComment(3);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    return this.finishOp(types.incDec, 2)\n  }\n  if (next === 61) { return this.finishOp(types.assign, 2) }\n  return this.finishOp(types.plusMin, 1)\n};\n\npp$9.readToken_lt_gt = function(code) { // '<>'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  if (next === code) {\n    size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n    if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types.assign, size + 1) }\n    return this.finishOp(types.bitShift, size)\n  }\n  if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n      this.input.charCodeAt(this.pos + 3) === 45) {\n    // `<!--`, an XML-style comment that should be interpreted as a line comment\n    this.skipLineComment(4);\n    this.skipSpace();\n    return this.nextToken()\n  }\n  if (next === 61) { size = 2; }\n  return this.finishOp(types.relational, size)\n};\n\npp$9.readToken_eq_excl = function(code) { // '=!'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n  if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { // '=>'\n    this.pos += 2;\n    return this.finishToken(types.arrow)\n  }\n  return this.finishOp(code === 61 ? types.eq : types.prefix, 1)\n};\n\npp$9.getTokenFromCode = function(code) {\n  switch (code) {\n  // The interpretation of a dot depends on whether it is followed\n  // by a digit or another two dots.\n  case 46: // '.'\n    return this.readToken_dot()\n\n  // Punctuation tokens.\n  case 40: ++this.pos; return this.finishToken(types.parenL)\n  case 41: ++this.pos; return this.finishToken(types.parenR)\n  case 59: ++this.pos; return this.finishToken(types.semi)\n  case 44: ++this.pos; return this.finishToken(types.comma)\n  case 91: ++this.pos; return this.finishToken(types.bracketL)\n  case 93: ++this.pos; return this.finishToken(types.bracketR)\n  case 123: ++this.pos; return this.finishToken(types.braceL)\n  case 125: ++this.pos; return this.finishToken(types.braceR)\n  case 58: ++this.pos; return this.finishToken(types.colon)\n  case 63: ++this.pos; return this.finishToken(types.question)\n\n  case 96: // '`'\n    if (this.options.ecmaVersion < 6) { break }\n    ++this.pos;\n    return this.finishToken(types.backQuote)\n\n  case 48: // '0'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 120 || next === 88) { return this.readRadixNumber(16) } // '0x', '0X' - hex number\n    if (this.options.ecmaVersion >= 6) {\n      if (next === 111 || next === 79) { return this.readRadixNumber(8) } // '0o', '0O' - octal number\n      if (next === 98 || next === 66) { return this.readRadixNumber(2) } // '0b', '0B' - binary number\n    }\n\n  // Anything else beginning with a digit is an integer, octal\n  // number, or float.\n  case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n    return this.readNumber(false)\n\n  // Quotes produce strings.\n  case 34: case 39: // '\"', \"'\"\n    return this.readString(code)\n\n  // Operators are parsed inline in tiny state machines. '=' (61) is\n  // often referred to. `finishOp` simply skips the amount of\n  // characters it is given as second argument, and returns a token\n  // of the type given by its first argument.\n\n  case 47: // '/'\n    return this.readToken_slash()\n\n  case 37: case 42: // '%*'\n    return this.readToken_mult_modulo_exp(code)\n\n  case 124: case 38: // '|&'\n    return this.readToken_pipe_amp(code)\n\n  case 94: // '^'\n    return this.readToken_caret()\n\n  case 43: case 45: // '+-'\n    return this.readToken_plus_min(code)\n\n  case 60: case 62: // '<>'\n    return this.readToken_lt_gt(code)\n\n  case 61: case 33: // '=!'\n    return this.readToken_eq_excl(code)\n\n  case 126: // '~'\n    return this.finishOp(types.prefix, 1)\n  }\n\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString$1(code) + \"'\");\n};\n\npp$9.finishOp = function(type, size) {\n  var str = this.input.slice(this.pos, this.pos + size);\n  this.pos += size;\n  return this.finishToken(type, str)\n};\n\npp$9.readRegexp = function() {\n  var escaped, inClass, start = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n    var ch = this.input.charAt(this.pos);\n    if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n    if (!escaped) {\n      if (ch === \"[\") { inClass = true; }\n      else if (ch === \"]\" && inClass) { inClass = false; }\n      else if (ch === \"/\" && !inClass) { break }\n      escaped = ch === \"\\\\\";\n    } else { escaped = false; }\n    ++this.pos;\n  }\n  var pattern = this.input.slice(start, this.pos);\n  ++this.pos;\n  var flagsStart = this.pos;\n  var flags = this.readWord1();\n  if (this.containsEsc) { this.unexpected(flagsStart); }\n\n  // Validate pattern\n  var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n  state.reset(start, pattern, flags);\n  this.validateRegExpFlags(state);\n  this.validateRegExpPattern(state);\n\n  // Create Literal#value property value.\n  var value = null;\n  try {\n    value = new RegExp(pattern, flags);\n  } catch (e) {\n    // ESTree requires null if it failed to instantiate RegExp object.\n    // https://github.com/estree/estree/blob/a27003adf4fd7bfad44de9cef372a2eacd527b1c/es5.md#regexpliteral\n  }\n\n  return this.finishToken(types.regexp, {pattern: pattern, flags: flags, value: value})\n};\n\n// Read an integer in the given radix. Return null if zero digits\n// were read, the integer value otherwise. When `len` is given, this\n// will return `null` unless the integer has exactly `len` digits.\n\npp$9.readInt = function(radix, len) {\n  var start = this.pos, total = 0;\n  for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n    var code = this.input.charCodeAt(this.pos), val = (void 0);\n    if (code >= 97) { val = code - 97 + 10; } // a\n    else if (code >= 65) { val = code - 65 + 10; } // A\n    else if (code >= 48 && code <= 57) { val = code - 48; } // 0-9\n    else { val = Infinity; }\n    if (val >= radix) { break }\n    ++this.pos;\n    total = total * radix + val;\n  }\n  if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n  return total\n};\n\npp$9.readRadixNumber = function(radix) {\n  var start = this.pos;\n  this.pos += 2; // 0x\n  var val = this.readInt(radix);\n  if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n  if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n    val = typeof BigInt !== \"undefined\" ? BigInt(this.input.slice(start, this.pos)) : null;\n    ++this.pos;\n  } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n  return this.finishToken(types.num, val)\n};\n\n// Read an integer, octal integer, or floating-point number.\n\npp$9.readNumber = function(startsWithDot) {\n  var start = this.pos;\n  if (!startsWithDot && this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n  var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n  if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n  if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n  var next = this.input.charCodeAt(this.pos);\n  if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n    var str$1 = this.input.slice(start, this.pos);\n    var val$1 = typeof BigInt !== \"undefined\" ? BigInt(str$1) : null;\n    ++this.pos;\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types.num, val$1)\n  }\n  if (next === 46 && !octal) { // '.'\n    ++this.pos;\n    this.readInt(10);\n    next = this.input.charCodeAt(this.pos);\n  }\n  if ((next === 69 || next === 101) && !octal) { // 'eE'\n    next = this.input.charCodeAt(++this.pos);\n    if (next === 43 || next === 45) { ++this.pos; } // '+-'\n    if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n  }\n  if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n  var str = this.input.slice(start, this.pos);\n  var val = octal ? parseInt(str, 8) : parseFloat(str);\n  return this.finishToken(types.num, val)\n};\n\n// Read a string value, interpreting backslash-escapes.\n\npp$9.readCodePoint = function() {\n  var ch = this.input.charCodeAt(this.pos), code;\n\n  if (ch === 123) { // '{'\n    if (this.options.ecmaVersion < 6) { this.unexpected(); }\n    var codePos = ++this.pos;\n    code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n    ++this.pos;\n    if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n  } else {\n    code = this.readHexChar(4);\n  }\n  return code\n};\n\nfunction codePointToString$1(code) {\n  // UTF-16 Decoding\n  if (code <= 0xFFFF) { return String.fromCharCode(code) }\n  code -= 0x10000;\n  return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n}\n\npp$9.readString = function(quote) {\n  var out = \"\", chunkStart = ++this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === quote) { break }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(false);\n      chunkStart = this.pos;\n    } else {\n      if (isNewLine(ch, this.options.ecmaVersion >= 10)) { this.raise(this.start, \"Unterminated string constant\"); }\n      ++this.pos;\n    }\n  }\n  out += this.input.slice(chunkStart, this.pos++);\n  return this.finishToken(types.string, out)\n};\n\n// Reads template string tokens.\n\nvar INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\npp$9.tryReadTemplateToken = function() {\n  this.inTemplateElement = true;\n  try {\n    this.readTmplToken();\n  } catch (err) {\n    if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n      this.readInvalidTemplateToken();\n    } else {\n      throw err\n    }\n  }\n\n  this.inTemplateElement = false;\n};\n\npp$9.invalidStringToken = function(position, message) {\n  if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n    throw INVALID_TEMPLATE_ESCAPE_ERROR\n  } else {\n    this.raise(position, message);\n  }\n};\n\npp$9.readTmplToken = function() {\n  var out = \"\", chunkStart = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { // '`', '${'\n      if (this.pos === this.start && (this.type === types.template || this.type === types.invalidTemplate)) {\n        if (ch === 36) {\n          this.pos += 2;\n          return this.finishToken(types.dollarBraceL)\n        } else {\n          ++this.pos;\n          return this.finishToken(types.backQuote)\n        }\n      }\n      out += this.input.slice(chunkStart, this.pos);\n      return this.finishToken(types.template, out)\n    }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(true);\n      chunkStart = this.pos;\n    } else if (isNewLine(ch)) {\n      out += this.input.slice(chunkStart, this.pos);\n      ++this.pos;\n      switch (ch) {\n      case 13:\n        if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n      case 10:\n        out += \"\\n\";\n        break\n      default:\n        out += String.fromCharCode(ch);\n        break\n      }\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      chunkStart = this.pos;\n    } else {\n      ++this.pos;\n    }\n  }\n};\n\n// Reads a template token to search for the end, without validating any escape sequences\npp$9.readInvalidTemplateToken = function() {\n  for (; this.pos < this.input.length; this.pos++) {\n    switch (this.input[this.pos]) {\n    case \"\\\\\":\n      ++this.pos;\n      break\n\n    case \"$\":\n      if (this.input[this.pos + 1] !== \"{\") {\n        break\n      }\n    // falls through\n\n    case \"`\":\n      return this.finishToken(types.invalidTemplate, this.input.slice(this.start, this.pos))\n\n    // no default\n    }\n  }\n  this.raise(this.start, \"Unterminated template\");\n};\n\n// Used to read escaped characters\n\npp$9.readEscapedChar = function(inTemplate) {\n  var ch = this.input.charCodeAt(++this.pos);\n  ++this.pos;\n  switch (ch) {\n  case 110: return \"\\n\" // 'n' -> '\\n'\n  case 114: return \"\\r\" // 'r' -> '\\r'\n  case 120: return String.fromCharCode(this.readHexChar(2)) // 'x'\n  case 117: return codePointToString$1(this.readCodePoint()) // 'u'\n  case 116: return \"\\t\" // 't' -> '\\t'\n  case 98: return \"\\b\" // 'b' -> '\\b'\n  case 118: return \"\\u000b\" // 'v' -> '\\u000b'\n  case 102: return \"\\f\" // 'f' -> '\\f'\n  case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } // '\\r\\n'\n  case 10: // ' \\n'\n    if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n    return \"\"\n  default:\n    if (ch >= 48 && ch <= 55) {\n      var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n      var octal = parseInt(octalStr, 8);\n      if (octal > 255) {\n        octalStr = octalStr.slice(0, -1);\n        octal = parseInt(octalStr, 8);\n      }\n      this.pos += octalStr.length - 1;\n      ch = this.input.charCodeAt(this.pos);\n      if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n        this.invalidStringToken(\n          this.pos - 1 - octalStr.length,\n          inTemplate\n            ? \"Octal literal in template string\"\n            : \"Octal literal in strict mode\"\n        );\n      }\n      return String.fromCharCode(octal)\n    }\n    if (isNewLine(ch)) {\n      // Unicode new line characters after \\ get removed from output in both\n      // template literals and strings\n      return \"\"\n    }\n    return String.fromCharCode(ch)\n  }\n};\n\n// Used to read character escape sequences ('\\x', '\\u', '\\U').\n\npp$9.readHexChar = function(len) {\n  var codePos = this.pos;\n  var n = this.readInt(16, len);\n  if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n  return n\n};\n\n// Read an identifier, and return it as a string. Sets `this.containsEsc`\n// to whether the word contained a '\\u' escape.\n//\n// Incrementally adds only escaped chars, adding other chunks as-is\n// as a micro-optimization.\n\npp$9.readWord1 = function() {\n  this.containsEsc = false;\n  var word = \"\", first = true, chunkStart = this.pos;\n  var astral = this.options.ecmaVersion >= 6;\n  while (this.pos < this.input.length) {\n    var ch = this.fullCharCodeAtPos();\n    if (isIdentifierChar(ch, astral)) {\n      this.pos += ch <= 0xffff ? 1 : 2;\n    } else if (ch === 92) { // \"\\\"\n      this.containsEsc = true;\n      word += this.input.slice(chunkStart, this.pos);\n      var escStart = this.pos;\n      if (this.input.charCodeAt(++this.pos) !== 117) // \"u\"\n        { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n      ++this.pos;\n      var esc = this.readCodePoint();\n      if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n        { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n      word += codePointToString$1(esc);\n      chunkStart = this.pos;\n    } else {\n      break\n    }\n    first = false;\n  }\n  return word + this.input.slice(chunkStart, this.pos)\n};\n\n// Read an identifier or keyword token. Will check for reserved\n// words when necessary.\n\npp$9.readWord = function() {\n  var word = this.readWord1();\n  var type = types.name;\n  if (this.keywords.test(word)) {\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + word); }\n    type = keywords$1[word];\n  }\n  return this.finishToken(type, word)\n};\n\n// Acorn is a tiny, fast JavaScript parser written in JavaScript.\n\nvar version = \"6.4.2\";\n\nParser.acorn = {\n  Parser: Parser,\n  version: version,\n  defaultOptions: defaultOptions,\n  Position: Position,\n  SourceLocation: SourceLocation,\n  getLineInfo: getLineInfo,\n  Node: Node,\n  TokenType: TokenType,\n  tokTypes: types,\n  keywordTypes: keywords$1,\n  TokContext: TokContext,\n  tokContexts: types$1,\n  isIdentifierChar: isIdentifierChar,\n  isIdentifierStart: isIdentifierStart,\n  Token: Token,\n  isNewLine: isNewLine,\n  lineBreak: lineBreak,\n  lineBreakG: lineBreakG,\n  nonASCIIwhitespace: nonASCIIwhitespace\n};\n\n// The main exported interface (under `self.acorn` when in the\n// browser) is a `parse` function that takes a code string and\n// returns an abstract syntax tree as specified by [Mozilla parser\n// API][api].\n//\n// [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\nfunction parse(input, options) {\n  return Parser.parse(input, options)\n}\n\n// This function tries to parse a single expression at a given\n// offset in a string. Useful for parsing mixed-language formats\n// that embed JavaScript expressions.\n\nfunction parseExpressionAt(input, pos, options) {\n  return Parser.parseExpressionAt(input, pos, options)\n}\n\n// Acorn is organized as a tokenizer and a recursive-descent parser.\n// The `tokenizer` export provides an interface to the tokenizer.\n\nfunction tokenizer(input, options) {\n  return Parser.tokenizer(input, options)\n}\n\nexport { Node, Parser, Position, SourceLocation, TokContext, Token, TokenType, defaultOptions, getLineInfo, isIdentifierChar, isIdentifierStart, isNewLine, keywords$1 as keywordTypes, lineBreak, lineBreakG, nonASCIIwhitespace, parse, parseExpressionAt, types$1 as tokContexts, types as tokTypes, tokenizer, version };\n"],"sourceRoot":""}